var pE=Object.defineProperty,mE=Object.defineProperties;var gE=Object.getOwnPropertyDescriptors;var Y0=Object.getOwnPropertySymbols;var ph=Object.prototype.hasOwnProperty,mh=Object.prototype.propertyIsEnumerable;var hh=(t,e,n)=>e in t?pE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})ph.call(e,n)&&hh(t,n,e[n]);if(Y0)for(var n of Y0(e))mh.call(e,n)&&hh(t,n,e[n]);return t},ee=(t,e)=>mE(t,gE(e));var gh=(t,e)=>{var n={};for(var r in t)ph.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Y0)for(var r of Y0(t))e.indexOf(r)<0&&mh.call(t,r)&&(n[r]=t[r]);return n};var I=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{c(n.next(l))}catch(u){i(u)}},o=l=>{try{c(n.throw(l))}catch(u){i(u)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);c((n=n.apply(t,e)).next())});function vh(t,e){return Object.is(t,e)}var ct=null,Os=!1,B6=1,Ft=Symbol("SIGNAL");function ve(t){let e=ct;return ct=t,e}function Ch(){return ct}function yE(){return Os}var B1={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function X0(t){if(Os)throw new Error("");if(ct===null)return;ct.consumerOnSignalRead(t);let e=ct.nextProducerIndex++;if(ec(ct),e<ct.producerNode.length&&ct.producerNode[e]!==t&&Fs(ct)){let n=ct.producerNode[e];J0(n,ct.producerIndexOfThis[e])}ct.producerNode[e]!==t&&(ct.producerNode[e]=t,ct.producerIndexOfThis[e]=Fs(ct)?bh(t,ct,e):0),ct.producerLastReadVersion[e]=t.version}function vE(){B6++}function Mh(t){if(!(Fs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===B6)){if(!t.producerMustRecompute(t)&&!Bs(t)){yh(t);return}t.producerRecomputeValue(t),yh(t)}}function _h(t){if(t.liveConsumerNode===void 0)return;let e=Os;Os=!0;try{for(let n of t.liveConsumerNode)n.dirty||wh(n)}finally{Os=e}}function Lh(){return ct?.consumerAllowSignalWrites!==!1}function wh(t){t.dirty=!0,_h(t),t.consumerMarkedDirty?.(t)}function yh(t){t.dirty=!1,t.lastCleanEpoch=B6}function Br(t){return t&&(t.nextProducerIndex=0),ve(t)}function Vs(t,e){if(ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Fs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)J0(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Bs(t){ec(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Mh(n),r!==n.version))return!0}return!1}function jr(t){if(ec(t),Fs(t))for(let e=0;e<t.producerNode.length;e++)J0(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function bh(t,e,n){if(Eh(t),t.liveConsumerNode.length===0&&Ih(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=bh(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function J0(t,e){if(Eh(t),t.liveConsumerNode.length===1&&Ih(t))for(let r=0;r<t.producerNode.length;r++)J0(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ec(i),i.producerIndexOfThis[r]=e}}function Fs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ec(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Eh(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Ih(t){return t.producerNode!==void 0}function zh(t){let e=Object.create(CE);e.computation=t;let n=()=>{if(Mh(e),X0(e),e.value===Z0)throw e.error;return e.value};return n[Ft]=e,n}var O6=Symbol("UNSET"),F6=Symbol("COMPUTING"),Z0=Symbol("ERRORED"),CE=ee(F({},B1),{value:O6,dirty:!0,error:null,equal:vh,kind:"computed",producerMustRecompute(t){return t.value===O6||t.value===F6},producerRecomputeValue(t){if(t.value===F6)throw new Error("Detected cycle in computations.");let e=t.value;t.value=F6;let n=Br(t),r,i=!1;try{r=t.computation(),ve(null),i=e!==O6&&e!==Z0&&r!==Z0&&t.equal(e,r)}catch(s){r=Z0,t.error=s}finally{Vs(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function ME(){throw new Error}var Sh=ME;function Dh(t){Sh(t)}function Th(t){Sh=t}var _E=null;function Ah(t){let e=Object.create(j6);e.value=t;let n=()=>(X0(e),e.value);return n[Ft]=e,n}function tc(t,e){Lh()||Dh(t),t.equal(t.value,e)||(t.value=e,LE(t))}function xh(t,e){Lh()||Dh(t),tc(t,e(t.value))}var j6=ee(F({},B1),{equal:vh,value:void 0,kind:"signal"});function LE(t){t.version++,vE(),_h(t),_E?.()}function Nh(t,e,n){let r=Object.create(wE);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=l=>{r.cleanupFn=l};function s(l){return l.fn===null&&l.schedule===null}function o(l){s(l)||(jr(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=V6)}let c=()=>{if(r.fn===null)return;if(yE())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Bs(r))return;r.hasRun=!0;let l=Br(r);try{r.cleanupFn(),r.cleanupFn=V6,r.fn(i)}finally{Vs(r,l)}};return r.ref={notify:()=>wh(r),run:c,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[Ft]:r},r.ref}var V6=()=>{},wE=ee(F({},B1),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:V6});var U6;function kh(){return U6}function Rh(t){let e=U6;return U6=t,e}function re(t){return typeof t=="function"}function Ur(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var nc=Ur(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function j1(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(s){e=s instanceof nc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Ph(s)}catch(o){e=e??[],o instanceof nc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new nc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ph(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&j1(n,e)}remove(e){let{_finalizers:n}=this;n&&j1(n,e),e instanceof t&&e._removeParent(this)}};qe.EMPTY=(()=>{let t=new qe;return t.closed=!0,t})();var H6=qe.EMPTY;function rc(t){return t instanceof qe||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function Ph(t){re(t)?t():t.unsubscribe()}var _2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Hr={setTimeout(t,e,...n){let{delegate:r}=Hr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Hr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ic(t){Hr.setTimeout(()=>{let{onUnhandledError:e}=_2;if(e)e(t);else throw t})}function js(){}var Oh=$6("C",void 0,void 0);function Fh(t){return $6("E",void 0,t)}function Vh(t){return $6("N",t,void 0)}function $6(t,e,n){return{kind:t,value:e,error:n}}var U1=null;function $r(t){if(_2.useDeprecatedSynchronousErrorHandling){let e=!U1;if(e&&(U1={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=U1;if(U1=null,n)throw r}}else t()}function Bh(t){_2.useDeprecatedSynchronousErrorHandling&&U1&&(U1.errorThrown=!0,U1.error=t)}var H1=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rc(e)&&e.add(this)):this.destination=zE}static create(e,n,r){return new qr(e,n,r)}next(e){this.isStopped?G6(Vh(e),this):this._next(e)}error(e){this.isStopped?G6(Fh(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?G6(Oh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},EE=Function.prototype.bind;function q6(t,e){return EE.call(t,e)}var W6=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){sc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){sc(r)}else sc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){sc(n)}}},qr=class extends H1{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&_2.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&q6(e.next,s),error:e.error&&q6(e.error,s),complete:e.complete&&q6(e.complete,s)}):i=e}this.destination=new W6(i)}};function sc(t){_2.useDeprecatedSynchronousErrorHandling?Bh(t):ic(t)}function IE(t){throw t}function G6(t,e){let{onStoppedNotification:n}=_2;n&&Hr.setTimeout(()=>n(t,e))}var zE={closed:!0,next:js,error:IE,complete:js};var Gr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zt(t){return t}function oc(...t){return K6(t)}function K6(t){return t.length===0?Zt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=DE(n)?n:new qr(n,r,i);return $r(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=jh(r),new r((i,s)=>{let o=new qr({next:c=>{try{n(c)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Gr](){return this}pipe(...n){return K6(n)(this)}toPromise(n){return n=jh(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function jh(t){var e;return(e=t??_2.Promise)!==null&&e!==void 0?e:Promise}function SE(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function DE(t){return t&&t instanceof H1||SE(t)&&rc(t)}function Q6(t){return re(t?.lift)}function Ce(t){return e=>{if(Q6(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(t,e,n,r,i){return new Y6(t,e,n,r,i)}var Y6=class extends H1{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(l){e.error(l)}}:super._next,this._error=i?function(c){try{i(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Wr(){return Ce((t,e)=>{let n=null;t._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Kr=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Q6(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;let n=this.getSubject();e.add(this.source.subscribe(pe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return Wr()(this)}};var Uh=Ur(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new cc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Uh}next(n){$r(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){$r(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){$r(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?H6:(this.currentObservers=null,s.push(n),new qe(()=>{this.currentObservers=null,j1(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new cc(e,n),t})(),cc=class extends at{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:H6}};var pt=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Z6={now(){return(Z6.delegate||Date).now()},delegate:void 0};var ac=class extends qe{constructor(e,n){super()}schedule(e,n=0){return this}};var Us={setInterval(t,e,...n){let{delegate:r}=Us;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Us;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Qr=class extends ac{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Us.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Us.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,j1(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Yr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Yr.now=Z6.now;var Zr=class extends Yr{constructor(e,n=Yr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var X6=new Zr(Qr);var lc=class extends Qr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var uc=class extends Zr{};var J6=new uc(lc);var Vt=new le(t=>t.complete());function Hh(t){return t&&re(t.schedule)}function $h(t){return t[t.length-1]}function fc(t){return re($h(t))?t.pop():void 0}function Kn(t){return Hh($h(t))?t.pop():void 0}function el(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Gh(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(r.next(d))}catch(p){o(p)}}function l(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?s(d.value):i(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})}function qh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $1(t){return this instanceof $1?(this.v=t,this):new $1(t)}function Wh(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(E){return Promise.resolve(E).then(g,p)}}function c(g,E){r[g]&&(i[g]=function(T){return new Promise(function(x,j){s.push([g,T,x,j])>1||l(g,T)})},E&&(i[g]=E(i[g])))}function l(g,E){try{u(r[g](E))}catch(T){y(s[0][3],T)}}function u(g){g.value instanceof $1?Promise.resolve(g.value.v).then(d,p):y(s[0][2],g)}function d(g){l("next",g)}function p(g){l("throw",g)}function y(g,E){g(E),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Kh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qh=="function"?qh(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,l){o=t[s](o),i(c,l,o.done,o.value)})}}function i(s,o,c,l){Promise.resolve(l).then(function(u){s({value:u,done:c})},o)}}var dc=t=>t&&typeof t.length=="number"&&typeof t!="function";function hc(t){return re(t?.then)}function pc(t){return re(t[Gr])}function mc(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function gc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yc=TE();function vc(t){return re(t?.[yc])}function Cc(t){return Wh(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield $1(n.read());if(i)return yield $1(void 0);yield yield $1(r)}}finally{n.releaseLock()}})}function Mc(t){return re(t?.getReader)}function Je(t){if(t instanceof le)return t;if(t!=null){if(pc(t))return AE(t);if(dc(t))return xE(t);if(hc(t))return NE(t);if(mc(t))return Qh(t);if(vc(t))return kE(t);if(Mc(t))return RE(t)}throw gc(t)}function AE(t){return new le(e=>{let n=t[Gr]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xE(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function NE(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ic)})}function kE(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Qh(t){return new le(e=>{PE(t,e).catch(n=>e.error(n))})}function RE(t){return Qh(Cc(t))}function PE(t,e){var n,r,i,s;return Gh(this,void 0,void 0,function*(){try{for(n=Kh(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Bt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Qn(t,e=0){return Ce((n,r)=>{n.subscribe(pe(r,i=>Bt(r,t,()=>r.next(i),e),()=>Bt(r,t,()=>r.complete(),e),i=>Bt(r,t,()=>r.error(i),e)))})}function Yn(t,e=0){return Ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Yh(t,e){return Je(t).pipe(Yn(e),Qn(e))}function Zh(t,e){return Je(t).pipe(Yn(e),Qn(e))}function Xh(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Jh(t,e){return new le(n=>{let r;return Bt(n,e,()=>{r=t[yc](),Bt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function _c(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{Bt(n,e,()=>{let r=t[Symbol.asyncIterator]();Bt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ep(t,e){return _c(Cc(t),e)}function tp(t,e){if(t!=null){if(pc(t))return Yh(t,e);if(dc(t))return Xh(t,e);if(hc(t))return Zh(t,e);if(mc(t))return _c(t,e);if(vc(t))return Jh(t,e);if(Mc(t))return ep(t,e)}throw gc(t)}function Ve(t,e){return e?tp(t,e):Je(t)}function oe(...t){let e=Kn(t);return Ve(t,e)}function Xr(t,e){let n=re(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function tl(t){return!!t&&(t instanceof le||re(t.lift)&&re(t.subscribe))}var fn=Ur(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(t,e){return Ce((n,r)=>{let i=0;n.subscribe(pe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:OE}=Array;function FE(t,e){return OE(e)?t(...e):t(e)}function Lc(t){return ce(e=>FE(t,e))}var{isArray:VE}=Array,{getPrototypeOf:BE,prototype:jE,keys:UE}=Object;function wc(t){if(t.length===1){let e=t[0];if(VE(e))return{args:e,keys:null};if(HE(e)){let n=UE(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function HE(t){return t&&typeof t=="object"&&BE(t)===jE}function bc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ec(...t){let e=Kn(t),n=fc(t),{args:r,keys:i}=wc(t);if(r.length===0)return Ve([],e);let s=new le($E(r,e,i?o=>bc(i,o):Zt));return n?s.pipe(Lc(n)):s}function $E(t,e,n=Zt){return r=>{np(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let l=0;l<i;l++)np(e,()=>{let u=Ve(t[l],e),d=!1;u.subscribe(pe(r,p=>{s[l]=p,d||(d=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function np(t,e,n){t?Bt(n,t,e):e()}function rp(t,e,n,r,i,s,o,c){let l=[],u=0,d=0,p=!1,y=()=>{p&&!l.length&&!u&&e.complete()},g=T=>u<r?E(T):l.push(T),E=T=>{s&&e.next(T),u++;let x=!1;Je(n(T,d++)).subscribe(pe(e,j=>{i?.(j),s?g(j):e.next(j)},()=>{x=!0},void 0,()=>{if(x)try{for(u--;l.length&&u<r;){let j=l.shift();o?Bt(e,o,()=>E(j)):E(j)}y()}catch(j){e.error(j)}}))};return t.subscribe(pe(e,g,()=>{p=!0,y()})),()=>{c?.()}}function lt(t,e,n=1/0){return re(e)?lt((r,i)=>ce((s,o)=>e(r,s,i,o))(Je(t(r,i))),n):(typeof e=="number"&&(n=e),Ce((r,i)=>rp(r,i,t,n)))}function nl(t=1/0){return lt(Zt,t)}function ip(){return nl(1)}function Jr(...t){return ip()(Ve(t,Kn(t)))}function Ic(t){return new le(e=>{Je(t()).subscribe(e)})}function rl(...t){let e=fc(t),{args:n,keys:r}=wc(t),i=new le(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),l=o,u=o;for(let d=0;d<o;d++){let p=!1;Je(n[d]).subscribe(pe(s,y=>{p||(p=!0,u--),c[d]=y},()=>l--,void 0,()=>{(!l||!p)&&(u||s.next(r?bc(r,c):c),s.complete())}))}});return e?i.pipe(Lc(e)):i}function s2(t,e){return Ce((n,r)=>{let i=0;n.subscribe(pe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Zn(t){return Ce((e,n)=>{let r=null,i=!1,s;r=e.subscribe(pe(n,void 0,void 0,o=>{s=Je(t(o,Zn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function sp(t,e,n,r,i){return(s,o)=>{let c=n,l=e,u=0;s.subscribe(pe(o,d=>{let p=u++;l=c?t(l,d,p):(c=!0,d),r&&o.next(l)},i&&(()=>{c&&o.next(l),o.complete()})))}}function ei(t,e){return re(e)?lt(t,e,1):lt(t,1)}function Xn(t){return Ce((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function dn(t){return t<=0?()=>Vt:Ce((e,n)=>{let r=0;e.subscribe(pe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function zc(t=qE){return Ce((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qE(){return new fn}function Hs(t){return Ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function hn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?s2((i,s)=>t(i,s,r)):Zt,dn(1),n?Xn(e):zc(()=>new fn))}function ti(t){return t<=0?()=>Vt:Ce((e,n)=>{let r=[];e.subscribe(pe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function il(t,e){let n=arguments.length>=2;return r=>r.pipe(t?s2((i,s)=>t(i,s,r)):Zt,ti(1),n?Xn(e):zc(()=>new fn))}function Sc(t,e){return Ce(sp(t,e,arguments.length>=2,!0))}function Dc(...t){let e=Kn(t);return Ce((n,r)=>{(e?Jr(t,n,e):Jr(t,n)).subscribe(r)})}function L2(t,e){return Ce((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(pe(r,l=>{i?.unsubscribe();let u=0,d=s++;Je(t(l,d)).subscribe(i=pe(r,p=>r.next(e?e(l,p,d,u++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function sl(t){return Ce((e,n)=>{Je(t).subscribe(pe(n,()=>n.complete(),js)),!n.closed&&e.subscribe(n)})}function mt(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ce((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(pe(s,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},()=>{var l;c=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var u;c=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},()=>{var l,u;c&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Zt}var Gp="https://g.co/ng/security#xss",$=class extends Error{code;constructor(e,n){super(C8(e,n)),this.code=e}};function C8(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Wp=Symbol("InputSignalNode#UNSET"),GE=ee(F({},j6),{transformFn:void 0,applyValueToInputSignal(t,e){tc(t,e)}});function Kp(t,e){let n=Object.create(GE);n.value=t,n.transformFn=e?.transform;function r(){if(X0(n),n.value===Wp)throw new $(-950,!1);return n.value}return r[Ft]=n,r}function io(t){return{toString:t}.toString()}var Tc="__parameters__";function WE(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Qp(t,e,n){return io(()=>{let r=WE(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(l,u,d){let p=l.hasOwnProperty(Tc)?l[Tc]:Object.defineProperty(l,Tc,{value:[]})[Tc];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ks=globalThis;function xe(t){for(let e in t)if(t[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function KE(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function bt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(bt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Cl(t,e){return t?e?`${t} ${e}`:t:e||""}var QE=xe({__forward_ref__:xe});function z2(t){return t.__forward_ref__=z2,t.toString=function(){return bt(this())},t}function At(t){return Yp(t)?t():t}function Yp(t){return typeof t=="function"&&t.hasOwnProperty(QE)&&t.__forward_ref__===z2}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function s1(t){return{providers:t.providers||[],imports:t.imports||[]}}function h4(t){return op(t,Xp)||op(t,Jp)}function Zp(t){return h4(t)!==null}function op(t,e){return t.hasOwnProperty(e)?t[e]:null}function YE(t){let e=t&&(t[Xp]||t[Jp]);return e||null}function cp(t){return t&&(t.hasOwnProperty(ap)||t.hasOwnProperty(ZE))?t[ap]:null}var Xp=xe({\u0275prov:xe}),ap=xe({\u0275inj:xe}),Jp=xe({ngInjectableDef:xe}),ZE=xe({ngInjectorDef:xe}),Y=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function em(t){return t&&!!t.\u0275providers}var XE=xe({\u0275cmp:xe}),JE=xe({\u0275dir:xe}),eI=xe({\u0275pipe:xe}),tI=xe({\u0275mod:xe}),Uc=xe({\u0275fac:xe}),Ws=xe({__NG_ELEMENT_ID__:xe}),lp=xe({__NG_ENV_ID__:xe});function e1(t){return typeof t=="string"?t:t==null?"":String(t)}function nI(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():e1(t)}function tm(t,e){throw new $(-200,t)}function M8(t,e){throw new $(-201,!1)}var fe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fe||{}),Ml;function nm(){return Ml}function jt(t){let e=Ml;return Ml=t,e}function rm(t,e,n){let r=h4(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&fe.Optional)return null;if(e!==void 0)return e;M8(t,"Injector")}var rI={},Qs=rI;function Rc(){return kh()}function Jn(t){return Rh(t)}var _l="__NG_DI_FLAG__",Hc="ngTempTokenPath",iI="ngTokenPath",sI=/\n/gm,oI="\u0275",up="__source";function cI(t,e=fe.Default){if(Rc()===void 0)throw new $(-203,!1);return Rc()===null?rm(t,void 0,e):Rc().get(t,e&fe.Optional?null:void 0,e)}function ae(t,e=fe.Default){return(nm()||cI)(At(t),e)}function N(t,e=fe.Default){return ae(t,p4(e))}function p4(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ll(t){let e=[];for(let n=0;n<t.length;n++){let r=At(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=fe.Default;for(let o=0;o<r.length;o++){let c=r[o],l=aI(c);typeof l=="number"?l===-1?i=c.token:s|=l:i=c}e.push(ae(i,s))}else e.push(ae(r))}return e}function im(t,e){return t[_l]=e,t.prototype[_l]=e,t}function aI(t){return t[_l]}function lI(t,e,n,r){let i=t[Hc];throw e[up]&&i.unshift(e[up]),t.message=uI(`
`+t.message,i,n,r),t[iI]=i,t[Hc]=null,t}function uI(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==oI?t.slice(2):t;let i=bt(e);if(Array.isArray(e))i=e.map(bt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):bt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sI,`
  `)}`}var G2=im(Qp("Optional"),8);var fI=im(Qp("SkipSelf"),4);function G1(t,e){let n=t.hasOwnProperty(Uc);return n?t[Uc]:null}function _8(t,e){t.forEach(n=>Array.isArray(n)?_8(n,e):e(n))}function sm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $c(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dI(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function hI(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function L8(t,e,n){let r=so(t,e);return r>=0?t[r|1]=n:(r=~r,hI(t,r,e,n)),r}function ol(t,e){let n=so(t,e);if(n>=0)return t[n|1]}function so(t,e){return pI(t,e,1)}function pI(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var W1={},Ut=[],oi=new Y(""),om=new Y("",-1),cm=new Y(""),qc=class{get(e,n=Qs){if(n===Qs){let r=new Error(`NullInjectorError: No provider for ${bt(e)}!`);throw r.name="NullInjectorError",r}return n}};function am(t,e){let n=t[tI]||null;if(!n&&e===!0)throw new Error(`Type ${bt(t)} does not have '\u0275mod' property.`);return n}function K1(t){return t[XE]||null}function lm(t){return t[JE]||null}function um(t){return t[eI]||null}function fm(t){let e=K1(t)||lm(t)||um(t);return e!==null&&e.standalone}function o1(t){return{\u0275providers:t}}function mI(...t){return{\u0275providers:dm(!0,t),\u0275fromNgModule:!0}}function dm(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return _8(e,o=>{let c=o;wl(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&hm(i,s),n}function hm(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];w8(i,s=>{e(s,r)})}}function wl(t,e,n,r){if(t=At(t),!t)return!1;let i=null,s=cp(t),o=!s&&K1(t);if(!s&&!o){let l=t.ngModule;if(s=cp(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of l)wl(u,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let u;try{_8(s.imports,d=>{wl(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&hm(u,e)}if(!c){let u=G1(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ut},i),e({provide:cm,useValue:i,multi:!0},i),e({provide:oi,useValue:()=>ae(i),multi:!0},i)}let l=s.providers;if(l!=null&&!c){let u=t;w8(l,d=>{e(d,u)})}}else return!1;return i!==t&&t.providers!==void 0}function w8(t,e){for(let n of t)em(n)&&(n=n.\u0275providers),Array.isArray(n)?w8(n,e):e(n)}var gI=xe({provide:String,useValue:xe});function pm(t){return t!==null&&typeof t=="object"&&gI in t}function yI(t){return!!(t&&t.useExisting)}function vI(t){return!!(t&&t.useFactory)}function ci(t){return typeof t=="function"}function CI(t){return!!t.useClass}var m4=new Y(""),Pc={},fp={},cl;function b8(){return cl===void 0&&(cl=new qc),cl}var Ht=class{},Ys=class extends Ht{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,El(e,o=>this.processProvider(o)),this.records.set(om,ni(void 0,this)),i.has("environment")&&this.records.set(Ht,ni(void 0,this));let s=this.records.get(m4);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(cm,Ut,fe.Self))}destroy(){qs(this),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return qs(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){qs(this);let n=Jn(this),r=jt(void 0),i;try{return e()}finally{Jn(n),jt(r)}}get(e,n=Qs,r=fe.Default){if(qs(this),e.hasOwnProperty(lp))return e[lp](this);r=p4(r);let i,s=Jn(this),o=jt(void 0);try{if(!(r&fe.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=bI(e)&&h4(e);u&&this.injectableDefInScope(u)?l=ni(bl(e),Pc):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let c=r&fe.Self?b8():this.parent;return n=r&fe.Optional&&n===Qs?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Hc]=c[Hc]||[]).unshift(bt(e)),s)throw c;return lI(c,e,"R3InjectorError",this.source)}else throw c}finally{jt(o),Jn(s)}}resolveInjectorInitializers(){let e=ve(null),n=Jn(this),r=jt(void 0),i;try{let s=this.get(oi,Ut,fe.Self);for(let o of s)o()}finally{Jn(n),jt(r),ve(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(bt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=At(e);let n=ci(e)?e:At(e&&e.provide),r=_I(e);if(!ci(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ni(void 0,Pc,!0),i.factory=()=>Ll(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ve(null);try{return n.value===fp?tm(bt(e)):n.value===Pc&&(n.value=fp,n.value=n.factory()),typeof n.value=="object"&&n.value&&wI(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=At(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function bl(t){let e=h4(t),n=e!==null?e.factory:G1(t);if(n!==null)return n;if(t instanceof Y)throw new $(204,!1);if(t instanceof Function)return MI(t);throw new $(204,!1)}function MI(t){if(t.length>0)throw new $(204,!1);let n=YE(t);return n!==null?()=>n.factory(t):()=>new t}function _I(t){if(pm(t))return ni(void 0,t.useValue);{let e=mm(t);return ni(e,Pc)}}function mm(t,e,n){let r;if(ci(t)){let i=At(t);return G1(i)||bl(i)}else if(pm(t))r=()=>At(t.useValue);else if(vI(t))r=()=>t.useFactory(...Ll(t.deps||[]));else if(yI(t))r=()=>ae(At(t.useExisting));else{let i=At(t&&(t.useClass||t.provide));if(LI(t))r=()=>new i(...Ll(t.deps));else return G1(i)||bl(i)}return r}function qs(t){if(t.destroyed)throw new $(205,!1)}function ni(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function LI(t){return!!t.deps}function wI(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function bI(t){return typeof t=="function"||typeof t=="object"&&t instanceof Y}function El(t,e){for(let n of t)Array.isArray(n)?El(n,e):n&&em(n)?El(n.\u0275providers,e):e(n)}function Nt(t,e){t instanceof Ys&&qs(t);let n,r=Jn(t),i=jt(void 0);try{return e()}finally{Jn(r),jt(i)}}function gm(){return nm()!==void 0||Rc()!=null}function g4(t){if(!gm())throw new $(-203,!1)}function EI(t){return typeof t=="function"}var Cn=0,Me=1,te=2,xt=3,E2=4,Gt=5,Zs=6,Gc=7,$t=8,Xs=9,pn=10,Be=11,Js=12,dp=13,mi=14,a2=15,ai=16,ri=17,li=18,y4=19,ym=20,t1=21,Oc=22,Q1=23,o2=24,al=25,qt=26,vm=1;var Y1=7,Wc=8,Kc=9,c2=10;function n1(t){return Array.isArray(t)&&typeof t[vm]=="object"}function Mn(t){return Array.isArray(t)&&t[vm]===!0}function E8(t){return(t.flags&4)!==0}function gi(t){return t.componentOffset>-1}function v4(t){return(t.flags&1)===1}function U2(t){return!!t.template}function Qc(t){return(t[te]&512)!==0}function oo(t){return(t[te]&256)===256}var Il=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Cm(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var S2=(()=>{let t=()=>Mm;return t.ngInherit=!0,t})();function Mm(t){return t.type.prototype.ngOnChanges&&(t.setInput=zI),II}function II(){let t=Lm(this),e=t?.current;if(e){let n=t.previous;if(n===W1)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function zI(t,e,n,r,i){let s=this.declaredInputs[r],o=Lm(t)||SI(t,{previous:W1,current:null}),c=o.current||(o.current={}),l=o.previous,u=l[s];c[s]=new Il(u&&u.currentValue,n,l===W1),Cm(t,e,i,n)}var _m="__ngSimpleChanges__";function Lm(t){return t[_m]||null}function SI(t,e){return t[_m]=e}var hp=null;var ke=function(t,e=null,n){hp?.(t,e,n)},DI="svg",TI="math";function H2(t){for(;Array.isArray(t);)t=t[Cn];return t}function wm(t,e){return H2(e[t])}function W2(t,e){return H2(e[t.index])}function bm(t,e){return t.data[e]}function AI(t,e){return t[e]}function $2(t,e){let n=e[t];return n1(n)?n:n[Cn]}function I8(t){return(t[te]&128)===128}function xI(t){return Mn(t[xt])}function ui(t,e){return e==null?null:t[e]}function Em(t){t[ri]=0}function Im(t){t[te]&1024||(t[te]|=1024,I8(t)&&co(t))}function NI(t,e){for(;t>0;)e=e[mi],t--;return e}function C4(t){return!!(t[te]&9216||t[o2]?.dirty)}function zl(t){t[pn].changeDetectionScheduler?.notify(8),t[te]&64&&(t[te]|=1024),C4(t)&&co(t)}function co(t){t[pn].changeDetectionScheduler?.notify(0);let e=Z1(t);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!I8(e)));)e=Z1(e)}function zm(t,e){if(oo(t))throw new $(911,!1);t[t1]===null&&(t[t1]=[]),t[t1].push(e)}function kI(t,e){if(t[t1]===null)return;let n=t[t1].indexOf(e);n!==-1&&t[t1].splice(n,1)}function Z1(t){let e=t[xt];return Mn(e)?e[xt]:e}function RI(t){return t[Gc]??=[]}function PI(t){return t.cleanup??=[]}var de={lFrame:km(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Sl=!1;function OI(){return de.lFrame.elementDepthCount}function FI(){de.lFrame.elementDepthCount++}function VI(){de.lFrame.elementDepthCount--}function z8(){return de.bindingsEnabled}function Sm(){return de.skipHydrationRootTNode!==null}function BI(t){return de.skipHydrationRootTNode===t}function jI(){de.skipHydrationRootTNode=null}function me(){return de.lFrame.lView}function et(){return de.lFrame.tView}function tt(t){return de.lFrame.contextLView=t,t[$t]}function nt(t){return de.lFrame.contextLView=null,t}function kt(){let t=Dm();for(;t!==null&&t.type===64;)t=t.parent;return t}function Dm(){return de.lFrame.currentTNode}function UI(){let t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function rr(t,e){let n=de.lFrame;n.currentTNode=t,n.isParent=e}function S8(){return de.lFrame.isParent}function D8(){de.lFrame.isParent=!1}function Tm(){return Sl}function Yc(t){let e=Sl;return Sl=t,e}function T8(){let t=de.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function HI(){return de.lFrame.bindingIndex}function $I(t){return de.lFrame.bindingIndex=t}function ao(){return de.lFrame.bindingIndex++}function A8(t){let e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qI(){return de.lFrame.inI18n}function GI(t,e){let n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,Dl(e)}function WI(){return de.lFrame.currentDirectiveIndex}function Dl(t){de.lFrame.currentDirectiveIndex=t}function KI(t){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Am(t){de.lFrame.currentQueryIndex=t}function QI(t){let e=t[Me];return e.type===2?e.declTNode:e.type===1?t[Gt]:null}function xm(t,e,n){if(n&fe.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&fe.Host);)if(i=QI(s),i===null||(s=s[mi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=de.lFrame=Nm();return r.currentTNode=e,r.lView=t,!0}function x8(t){let e=Nm(),n=t[Me];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Nm(){let t=de.lFrame,e=t===null?null:t.child;return e===null?km(t):e}function km(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Rm(){let t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Pm=Rm;function N8(){let t=Rm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function YI(t){return(de.lFrame.contextLView=NI(t,de.lFrame.contextLView))[$t]}function c1(){return de.lFrame.selectedIndex}function X1(t){de.lFrame.selectedIndex=t}function lo(){let t=de.lFrame;return bm(t.tView,t.selectedIndex)}function ZI(){return de.lFrame.currentNamespace}var Om=!0;function M4(){return Om}function _4(t){Om=t}function XI(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Mm(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function k8(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Fc(t,e,n){Fm(t,e,3,n)}function Vc(t,e,n,r){(t[te]&3)===n&&Fm(t,e,n,r)}function ll(t,e){let n=t[te];(n&3)===e&&(n&=16383,n+=1,t[te]=n)}function Fm(t,e,n,r){let i=r!==void 0?t[ri]&65535:0,s=r??-1,o=e.length-1,c=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(t[ri]+=65536),(c<s||s==-1)&&(JI(t,n,e,l),t[ri]=(t[ri]&4294901760)+l+2),l++}function pp(t,e){ke(4,t,e);let n=ve(null);try{e.call(t)}finally{ve(n),ke(5,t,e)}}function JI(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[te]>>14<t[ri]>>16&&(t[te]&3)===e&&(t[te]+=16384,pp(c,s)):pp(c,s)}var si=-1,J1=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function ez(t){return(t.flags&8)!==0}function tz(t){return(t.flags&16)!==0}function nz(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];rz(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Vm(t){return t===3||t===4||t===6}function rz(t){return t.charCodeAt(0)===64}function fi(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?mp(t,n,i,null,e[++r]):mp(t,n,i,null,null))}}return t}function mp(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var ul={},Tl=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=p4(r);let i=this.injector.get(e,ul,r);return i!==ul||n===ul?i:this.parentInjector.get(e,n,r)}};function Bm(t){return t!==si}function Zc(t){return t&32767}function iz(t){return t>>16}function Xc(t,e){let n=iz(t),r=e;for(;n>0;)r=r[mi],n--;return r}var Al=!0;function Jc(t){let e=Al;return Al=t,e}var sz=256,jm=sz-1,Um=5,oz=0,j2={};function cz(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ws)&&(r=n[Ws]),r==null&&(r=n[Ws]=oz++);let i=r&jm,s=1<<i;e.data[t+(i>>Um)]|=s}function e4(t,e){let n=Hm(t,e);if(n!==-1)return n;let r=e[Me];r.firstCreatePass&&(t.injectorIndex=e.length,fl(r.data,t),fl(e,null),fl(r.blueprint,null));let i=R8(t,e),s=t.injectorIndex;if(Bm(i)){let o=Zc(i),c=Xc(i,e),l=c[Me].data;for(let u=0;u<8;u++)e[s+u]=c[o+u]|l[o+u]}return e[s+8]=i,s}function fl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Hm(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function R8(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Km(i),r===null)return si;if(n++,i=i[mi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return si}function xl(t,e,n){cz(t,e,n)}function az(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Vm(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function $m(t,e,n){if(n&fe.Optional||t!==void 0)return t;M8(e,"NodeInjector")}function qm(t,e,n,r){if(n&fe.Optional&&r===void 0&&(r=null),(n&(fe.Self|fe.Host))===0){let i=t[Xs],s=jt(void 0);try{return i?i.get(e,r,n&fe.Optional):rm(e,r,n&fe.Optional)}finally{jt(s)}}return $m(r,e,n)}function Gm(t,e,n,r=fe.Default,i){if(t!==null){if(e[te]&2048&&!(r&fe.Self)){let o=hz(t,e,n,r,j2);if(o!==j2)return o}let s=Wm(t,e,n,r,j2);if(s!==j2)return s}return qm(e,n,r,i)}function Wm(t,e,n,r,i){let s=fz(n);if(typeof s=="function"){if(!xm(e,t,r))return r&fe.Host?$m(i,n,r):qm(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&fe.Optional))M8(n);else return o}finally{Pm()}}else if(typeof s=="number"){let o=null,c=Hm(t,e),l=si,u=r&fe.Host?e[a2][Gt]:null;for((c===-1||r&fe.SkipSelf)&&(l=c===-1?R8(t,e):e[c+8],l===si||!yp(r,!1)?c=-1:(o=e[Me],c=Zc(l),e=Xc(l,e)));c!==-1;){let d=e[Me];if(gp(s,c,d.data)){let p=lz(c,e,n,o,r,u);if(p!==j2)return p}l=e[c+8],l!==si&&yp(r,e[Me].data[c+8]===u)&&gp(s,c,e)?(o=d,c=Zc(l),e=Xc(l,e)):c=-1}}return i}function lz(t,e,n,r,i,s){let o=e[Me],c=o.data[t+8],l=r==null?gi(c)&&Al:r!=o&&(c.type&3)!==0,u=i&fe.Host&&s===c,d=uz(c,o,n,l,u);return d!==null?t4(e,o,d,c):j2}function uz(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,l=t.directiveStart,u=t.directiveEnd,d=s>>20,p=r?c:c+d,y=i?c+d:u;for(let g=p;g<y;g++){let E=o[g];if(g<l&&n===E||g>=l&&E.type===n)return g}if(i){let g=o[l];if(g&&U2(g)&&g.type===n)return l}return null}function t4(t,e,n,r){let i=t[n],s=e.data;if(i instanceof J1){let o=i;o.resolving&&tm(nI(s[n]));let c=Jc(o.canSeeViewProviders);o.resolving=!0;let l,u=o.injectImpl?jt(o.injectImpl):null,d=xm(t,r,fe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&XI(n,s[n],e)}finally{u!==null&&jt(u),Jc(c),o.resolving=!1,Pm()}}return i}function fz(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ws)?t[Ws]:void 0;return typeof e=="number"?e>=0?e&jm:dz:e}function gp(t,e,n){let r=1<<t;return!!(n[e+(t>>Um)]&r)}function yp(t,e){return!(t&fe.Self)&&!(t&fe.Host&&e)}var q1=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Gm(this._tNode,this._lView,e,p4(r),n)}};function dz(){return new q1(kt(),me())}function D2(t){return io(()=>{let e=t.prototype.constructor,n=e[Uc]||Nl(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Uc]||Nl(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Nl(t){return Yp(t)?()=>{let e=Nl(At(t));return e&&e()}:G1(t)}function hz(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[te]&2048&&!Qc(o);){let c=Wm(s,o,n,r|fe.Self,j2);if(c!==j2)return c;let l=s.parent;if(!l){let u=o[ym];if(u){let d=u.get(n,j2,r);if(d!==j2)return d}l=Km(o),o=o[mi]}s=l}return i}function Km(t){let e=t[Me],n=e.type;return n===2?e.declTNode:n===1?t[Gt]:null}function P8(t){return az(kt(),t)}function vp(t,e=null,n=null,r){let i=Qm(t,e,n,r);return i.resolveInjectorInitializers(),i}function Qm(t,e=null,n=null,r,i=new Set){let s=[n||Ut,mI(t)];return r=r||(typeof t=="object"?void 0:bt(t)),new Ys(s,e||b8(),r||null,i)}var ut=class t{static THROW_IF_NOT_FOUND=Qs;static NULL=new qc;static create(e,n){if(Array.isArray(e))return vp({name:""},n,e,"");{let r=e.name??"";return vp({name:r},e.parent,e.providers,r)}}static \u0275prov=q({token:t,providedIn:"any",factory:()=>ae(om)});static __NG_ELEMENT_ID__=-1};var pz=new Y("");pz.__NG_ELEMENT_ID__=t=>{let e=kt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&fe.Optional)return null;throw new $(204,!1)};var Ym=!1,ir=(()=>{class t{static __NG_ELEMENT_ID__=mz;static __NG_ENV_ID__=n=>n}return t})(),n4=class extends ir{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return zm(this._lView,e),()=>kI(this._lView,e)}};function mz(){return new n4(me())}var er=class{},L4=new Y("",{providedIn:"root",factory:()=>!1});var Zm=new Y(""),Xm=new Y(""),a1=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new pt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),w4=(()=>{class t{internalPendingTasks=N(a1);scheduler=N(er);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return I(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),kl=class extends at{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,gm()&&(this.destroyRef=N(ir,{optional:!0})??void 0,this.pendingTasks=N(a1,{optional:!0})??void 0)}emit(e){let n=ve(null);try{super.next(e)}finally{ve(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof qe&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ge=kl;function eo(...t){}function Jm(t){let e,n;function r(){t=eo;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Cp(t){return queueMicrotask(()=>t()),()=>{t=eo}}var O8="isAngularZone",r4=O8+"_ID",gz=0,Ae=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ge(!1);onMicrotaskEmpty=new Ge(!1);onStable=new Ge(!1);onError=new Ge(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Ym}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,Cz(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(O8)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,yz,eo,eo);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},yz={};function F8(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vz(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Jm(()=>{t.callbackScheduled=!1,Rl(t),t.isCheckStableRunning=!0,F8(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Rl(t)}function Cz(t){let e=()=>{vz(t)},n=gz++;t._inner=t._inner.fork({name:"angular",properties:{[O8]:!0,[r4]:n,[r4+n]:!0},onInvokeTask:(r,i,s,o,c,l)=>{if(Mz(l))return r.invokeTask(s,o,c,l);try{return Mp(t),r.invokeTask(s,o,c,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),_p(t)}},onInvoke:(r,i,s,o,c,l,u)=>{try{return Mp(t),r.invoke(s,o,c,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!_z(l)&&e(),_p(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Rl(t),F8(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Rl(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Mp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _p(t){t._nesting--,F8(t)}var Pl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ge;onMicrotaskEmpty=new Ge;onStable=new Ge;onError=new Ge;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Mz(t){return eg(t,"__ignore_ng_zone__")}function _z(t){return eg(t,"__scheduler_tick__")}function eg(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var mn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Lz=new Y("",{providedIn:"root",factory:()=>{let t=N(Ae),e=N(mn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Lp(t,e){return Kp(t,e)}function wz(t){return Kp(Wp,t)}var yi=(Lp.required=wz,Lp);function bz(){return b4(kt(),me())}function b4(t,e){return new Xt(W2(t,e))}var Xt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=bz}return t})();function Ez(t){return typeof t=="function"&&t[Ft]!==void 0}function gt(t,e){let n=Ah(t),r=n[Ft];return e?.equal&&(r.equal=e.equal),n.set=i=>tc(r,i),n.update=i=>xh(r,i),n.asReadonly=Iz.bind(n),n}function Iz(){let t=this[Ft];if(t.readonlyFn===void 0){let e=()=>this();e[Ft]=t,t.readonlyFn=e}return t.readonlyFn}function tg(t){return Ez(t)&&typeof t.set=="function"}function ng(t){return(t.flags&128)===128}var rg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(rg||{}),ig=new Map,zz=0;function Sz(){return zz++}function Dz(t){ig.set(t[y4],t)}function Ol(t){ig.delete(t[y4])}var wp="__ngContext__";function vi(t,e){n1(e)?(t[wp]=e[y4],Dz(e)):t[wp]=e}function sg(t){return cg(t[Js])}function og(t){return cg(t[E2])}function cg(t){for(;t!==null&&!Mn(t);)t=t[E2];return t}var Fl;function ag(t){Fl=t}function lg(){if(Fl!==void 0)return Fl;if(typeof document<"u")return document;throw new $(210,!1)}var V8=new Y("",{providedIn:"root",factory:()=>Tz}),Tz="ng",B8=new Y(""),sr=new Y("",{providedIn:"platform",factory:()=>"unknown"});var j8=new Y("",{providedIn:"root",factory:()=>lg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Az="h",xz="b";var ug=!1,Nz=new Y("",{providedIn:"root",factory:()=>ug});var fg=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(fg||{}),E4=new Y(""),bp=new Set;function U8(t){bp.has(t)||(bp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var dg=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=kz}return t})();function kz(){return new dg(me(),kt())}var Rz=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})();var Pz=()=>null;function hg(t,e,n=!1){return Pz(t,e,n)}function pg(t,e){let n=t.contentQueries;if(n!==null){let r=ve(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];Am(s),c.contentQueries(2,e[o],o)}}}finally{ve(r)}}}function Vl(t,e,n){Am(0);let r=ve(null);try{e(t,n)}finally{ve(r)}}function H8(t,e,n){if(E8(e)){let r=ve(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let l=n[o];c.contentQueries(1,l,o)}}}finally{ve(r)}}}var q2=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(q2||{}),Ac;function Oz(){if(Ac===void 0&&(Ac=null,Ks.trustedTypes))try{Ac=Ks.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ac}function I4(t){return Oz()?.createHTML(t)||t}var xc;function mg(){if(xc===void 0&&(xc=null,Ks.trustedTypes))try{xc=Ks.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return xc}function Ep(t){return mg()?.createHTML(t)||t}function Ip(t){return mg()?.createScriptURL(t)||t}var gn=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gp})`}},Bl=class extends gn{getTypeName(){return"HTML"}},jl=class extends gn{getTypeName(){return"Style"}},Ul=class extends gn{getTypeName(){return"Script"}},Hl=class extends gn{getTypeName(){return"URL"}},$l=class extends gn{getTypeName(){return"ResourceURL"}};function l2(t){return t instanceof gn?t.changingThisBreaksApplicationSecurity:t}function _n(t,e){let n=Fz(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Gp})`)}return n===e}function Fz(t){return t instanceof gn&&t.getTypeName()||null}function gg(t){return new Bl(t)}function yg(t){return new jl(t)}function vg(t){return new Ul(t)}function Cg(t){return new Hl(t)}function Mg(t){return new $l(t)}function Vz(t){let e=new Gl(t);return Bz()?new ql(e):e}var ql=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(I4(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},Gl=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=I4(e),n}};function Bz(){try{return!!new window.DOMParser().parseFromString(I4(""),"text/html")}catch{return!1}}var jz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function z4(t){return t=String(t),t.match(jz)?t:"unsafe:"+t}function Ln(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function uo(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var _g=Ln("area,br,col,hr,img,wbr"),Lg=Ln("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wg=Ln("rp,rt"),Uz=uo(wg,Lg),Hz=uo(Lg,Ln("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$z=uo(wg,Ln("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zp=uo(_g,Hz,$z,Uz),bg=Ln("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qz=Ln("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gz=Ln("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Wz=uo(bg,qz,Gz),Kz=Ln("script,style,template"),Wl=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=Zz(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=Yz(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=Sp(e).toLowerCase();if(!zp.hasOwnProperty(n))return this.sanitizedSomething=!0,!Kz.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,c=o.toLowerCase();if(!Wz.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let l=s.value;bg[c]&&(l=z4(l)),this.buf.push(" ",o,'="',Dp(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=Sp(e).toLowerCase();zp.hasOwnProperty(n)&&!_g.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Dp(e))}};function Qz(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Yz(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Eg(e);return e}function Zz(t){let e=t.firstChild;if(e&&Qz(t,e))throw Eg(e);return e}function Sp(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Eg(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Xz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jz=/([^\#-~ |!])/g;function Dp(t){return t.replace(/&/g,"&amp;").replace(Xz,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(Jz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Nc;function $8(t,e){let n=null;try{Nc=Nc||Vz(t);let r=e?String(e):"";n=Nc.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Nc.getInertBodyElement(r)}while(r!==s);let c=new Wl().sanitizeChildren(Tp(n)||n);return I4(c)}finally{if(n){let r=Tp(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function Tp(t){return"content"in t&&eS(t)?t.content:null}function eS(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var T2=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(T2||{});function Ig(t){let e=q8();return e?Ep(e.sanitize(T2.HTML,t)||""):_n(t,"HTML")?Ep(l2(t)):$8(lg(),e1(t))}function u2(t){let e=q8();return e?e.sanitize(T2.URL,t)||"":_n(t,"URL")?l2(t):z4(e1(t))}function tS(t){let e=q8();if(e)return Ip(e.sanitize(T2.RESOURCE_URL,t)||"");if(_n(t,"ResourceURL"))return Ip(l2(t));throw new $(904,!1)}function nS(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?tS:u2}function zg(t,e,n){return nS(e,n)(t)}function q8(){let t=me();return t&&t[pn].sanitizer}var rS=/^>|^->|<!--|-->|--!>|<!-$/g,iS=/(<|>)/g,sS="\u200B$1\u200B";function oS(t){return t.replace(rS,e=>e.replace(iS,sS))}function Sg(t){return t instanceof Function?t():t}function cS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}var Dg="ng-template";function aS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&cS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(G8(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function G8(t){return t.type===4&&t.value!==Dg}function lS(t,e,n){let r=t.type===4&&!n?Dg:t.value;return e===r}function uS(t,e,n){let r=4,i=t.attrs,s=i!==null?hS(i):0,o=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!o&&!w2(r)&&!w2(l))return!1;if(o&&w2(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!lS(t,l,n)||l===""&&e.length===1){if(w2(r))return!1;o=!0}}else if(r&8){if(i===null||!aS(t,i,l,n)){if(w2(r))return!1;o=!0}}else{let u=e[++c],d=fS(l,i,G8(t),n);if(d===-1){if(w2(r))return!1;o=!0;continue}if(u!==""){let p;if(d>s?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(w2(r))return!1;o=!0}}}}return w2(r)||o}function w2(t){return(t&1)===0}function fS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return pS(e,t)}function Tg(t,e,n=!1){for(let r=0;r<e.length;r++)if(uS(t,e[r],n))return!0;return!1}function dS(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function hS(t){for(let e=0;e<t.length;e++){let n=t[e];if(Vm(n))return e}return t.length}function pS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function mS(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Ap(t,e){return t?":not("+e.trim()+")":e}function gS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!w2(o)&&(e+=Ap(s,i),i=""),r=o,s=s||!w2(r);n++}return i!==""&&(e+=Ap(s,i)),e}function yS(t){return t.map(gS).join(",")}function vS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!w2(i))break;i=s}r++}return n.length&&e.push(1,...n),e}var f2={};function CS(t,e){return t.createText(e)}function MS(t,e,n){t.setValue(e,n)}function _S(t,e){return t.createComment(oS(e))}function Ag(t,e,n){return t.createElement(e,n)}function i4(t,e,n,r,i){t.insertBefore(e,n,r,i)}function xg(t,e,n){t.appendChild(e,n)}function xp(t,e,n,r,i){r!==null?i4(t,e,n,r,i):xg(t,e,n)}function LS(t,e,n){t.removeChild(null,e,n)}function wS(t,e,n){t.setAttribute(e,"style",n)}function bS(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Ng(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&nz(t,e,r),i!==null&&bS(t,e,i),s!==null&&wS(t,e,s)}function W8(t,e,n,r,i,s,o,c,l,u,d){let p=qt+r,y=p+i,g=ES(p,y),E=typeof u=="function"?u():u;return g[Me]={type:t,blueprint:g,template:n,queries:null,viewQuery:c,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:E,incompleteFirstPass:!1,ssrId:d}}function ES(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:f2);return n}function IS(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=W8(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function K8(t,e,n,r,i,s,o,c,l,u,d){let p=e.blueprint.slice();return p[Cn]=i,p[te]=r|4|128|8|64|1024,(u!==null||t&&t[te]&2048)&&(p[te]|=2048),Em(p),p[xt]=p[mi]=t,p[$t]=n,p[pn]=o||t&&t[pn],p[Be]=c||t&&t[Be],p[Xs]=l||t&&t[Xs]||null,p[Gt]=s,p[y4]=Sz(),p[Zs]=d,p[ym]=u,p[a2]=e.type==2?t[a2]:p,p}function zS(t,e,n){let r=W2(e,t),i=IS(n),s=t[pn].rendererFactory,o=Q8(t,K8(t,i,null,kg(n),r,e,null,s.createRenderer(r,n),null,null,null));return t[e.index]=o}function kg(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Rg(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Q8(t,e){return t[Js]?t[dp][E2]=e:t[Js]=e,t[dp]=e,e}function O(t=1){Pg(et(),me(),c1()+t,!1)}function Pg(t,e,n,r){if(!r)if((e[te]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Fc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Vc(e,s,0,n)}X1(n)}var S4=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(S4||{});function Kl(t,e,n,r){let i=ve(null);try{let[s,o,c]=t.inputs[n],l=null;(o&S4.SignalBased)!==0&&(l=e[s][Ft]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,s):Cm(e,l,s,r)}finally{ve(i)}}function Og(t,e,n,r,i){let s=c1(),o=r&2;try{X1(-1),o&&e.length>qt&&Pg(t,e,qt,!1),ke(o?2:0,i),n(r,i)}finally{X1(s),ke(o?3:1,i)}}function D4(t,e,n){NS(t,e,n),(n.flags&64)===64&&kS(t,e,n)}function Y8(t,e,n=W2){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function SS(t,e,n,r){let s=r.get(Nz,ug)||n===q2.ShadowDom,o=t.selectRootElement(e,s);return DS(o),o}function DS(t){TS(t)}var TS=()=>null;function AS(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function T4(t,e,n,r,i,s,o,c){if(!c&&X8(e,t,n,r,i)){gi(e)&&xS(n,e.index);return}if(e.type&3){let l=W2(e,n);r=AS(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)}else e.type&12}function xS(t,e){let n=$2(e,t);n[te]&16||(n[te]|=64)}function NS(t,e,n){let r=n.directiveStart,i=n.directiveEnd;gi(n)&&zS(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||e4(n,e);let s=n.initialInputs;for(let o=r;o<i;o++){let c=t.data[o],l=t4(e,t,o,n);if(vi(l,e),s!==null&&FS(e,o-r,l,c,n,s),U2(c)){let u=$2(n.index,e);u[$t]=t4(e,t,o,n)}}}function kS(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=WI();try{X1(s);for(let c=r;c<i;c++){let l=t.data[c],u=e[c];Dl(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&RS(l,u)}}finally{X1(-1),Dl(o)}}function RS(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Z8(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];Tg(e,s.selectors,!1)&&(r??=[],U2(s)?r.unshift(s):r.push(s))}return r}function PS(t,e,n,r,i,s){let o=W2(t,e);OS(e[Be],o,s,t.value,n,r,i)}function OS(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?e1(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function FS(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;c+=2){let l=o[c],u=o[c+1];Kl(r,n,l,u)}}function Fg(t,e){let n=t[Xs],r=n?n.get(mn,null):null;r&&r.handleError(e)}function X8(t,e,n,r,i){let s=t.inputs?.[r],o=t.hostDirectiveInputs?.[r],c=!1;if(o)for(let l=0;l<o.length;l+=2){let u=o[l],d=o[l+1],p=e.data[u];Kl(p,n[u],d,i),c=!0}if(s)for(let l of s){let u=n[l],d=e.data[l];Kl(d,u,r,i),c=!0}return c}function VS(t,e){let n=$2(e,t),r=n[Me];BS(r,n);let i=n[Cn];i!==null&&n[Zs]===null&&(n[Zs]=hg(i,n[Xs])),ke(18),J8(r,n,n[$t]),ke(19,n[$t])}function BS(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function J8(t,e,n){x8(e);try{let r=t.viewQuery;r!==null&&Vl(1,r,n);let i=t.template;i!==null&&Og(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[li]?.finishViewCreation(t),t.staticContentQueries&&pg(t,e),t.staticViewQueries&&Vl(2,t.viewQuery,n);let s=t.components;s!==null&&jS(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,N8()}}function jS(t,e){for(let n=0;n<e.length;n++)VS(t,e[n])}function Vg(t,e,n,r){let i=ve(null);try{let s=e.tView,c=t[te]&4096?4096:16,l=K8(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];l[ai]=u;let d=t[li];return d!==null&&(l[li]=d.createEmbeddedView(s)),J8(s,l,n),l}finally{ve(i)}}function Ql(t,e){return!e||e.firstChild===null||ng(t)}var US;function eu(t,e){return US(t,e)}var yn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yn||{});function tu(t){return(t.flags&32)===32}function ii(t,e,n,r,i){if(r!=null){let s,o=!1;Mn(r)?s=r:n1(r)&&(o=!0,r=r[Cn]);let c=H2(r);t===0&&n!==null?i==null?xg(e,n,c):i4(e,n,c,i||null,!0):t===1&&n!==null?i4(e,n,c,i||null,!0):t===2?LS(e,c,o):t===3&&e.destroyNode(c),s!=null&&XS(e,t,s,n,i)}}function HS(t,e){Bg(t,e),e[Cn]=null,e[Gt]=null}function $S(t,e,n,r,i,s){r[Cn]=i,r[Gt]=e,x4(t,r,n,1,i,s)}function Bg(t,e){e[pn].changeDetectionScheduler?.notify(9),x4(t,e,e[Be],2,null,null)}function qS(t){let e=t[Js];if(!e)return dl(t[Me],t);for(;e;){let n=null;if(n1(e))n=e[Js];else{let r=e[c2];r&&(n=r)}if(!n){for(;e&&!e[E2]&&e!==t;)n1(e)&&dl(e[Me],e),e=e[xt];e===null&&(e=t),n1(e)&&dl(e[Me],e),n=e&&e[E2]}e=n}}function nu(t,e){let n=t[Kc],r=n.indexOf(e);n.splice(r,1)}function jg(t,e){if(oo(e))return;let n=e[Be];n.destroyNode&&x4(t,e,n,3,null,null),qS(e)}function dl(t,e){if(oo(e))return;let n=ve(null);try{e[te]&=-129,e[te]|=256,e[o2]&&jr(e[o2]),WS(t,e),GS(t,e),e[Me].type===1&&e[Be].destroy();let r=e[ai];if(r!==null&&Mn(e[xt])){r!==e[xt]&&nu(r,e);let i=e[li];i!==null&&i.detachView(t)}Ol(e)}finally{ve(n)}}function GS(t,e){let n=t.cleanup,r=e[Gc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let c=n[o+3];c>=0?r[c]():r[-c].unsubscribe(),o+=2}else{let c=r[n[o+1]];n[o].call(c)}r!==null&&(e[Gc]=null);let i=e[t1];if(i!==null){e[t1]=null;for(let o=0;o<i.length;o++){let c=i[o];c()}}let s=e[Q1];if(s!==null){e[Q1]=null;for(let o of s)o.destroy()}}function WS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof J1)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],l=s[o+1];ke(4,c,l);try{l.call(c)}finally{ke(5,c,l)}}else{ke(4,i,s);try{s.call(i)}finally{ke(5,i,s)}}}}}function Ug(t,e,n){return KS(t,e.parent,n)}function KS(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Cn];if(gi(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===q2.None||i===q2.Emulated)return null}return W2(r,n)}function Hg(t,e,n){return YS(t,e,n)}function QS(t,e,n){return t.type&40?W2(t,n):null}var YS=QS,Np;function A4(t,e,n,r){let i=Ug(t,r,e),s=e[Be],o=r.parent||e[Gt],c=Hg(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)xp(s,i,n[l],c,!1);else xp(s,i,n,c,!1);Np!==void 0&&Np(s,r,e,n,i)}function Gs(t,e){if(e!==null){let n=e.type;if(n&3)return W2(e,t);if(n&4)return Yl(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Gs(t,r);{let i=t[e.index];return Mn(i)?Yl(-1,i):H2(i)}}else{if(n&128)return Gs(t,e.next);if(n&32)return eu(e,t)()||H2(t[e.index]);{let r=$g(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Z1(t[a2]);return Gs(i,r)}else return Gs(t,e.next)}}}return null}function $g(t,e){if(e!==null){let r=t[a2][Gt],i=e.projection;return r.projection[i]}return null}function Yl(t,e){let n=c2+t+1;if(n<e.length){let r=e[n],i=r[Me].firstChild;if(i!==null)return Gs(r,i)}return e[Y1]}function ru(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(o&&e===0&&(c&&vi(H2(c),r),n.flags|=2),!tu(n))if(l&8)ru(t,e,n.child,r,i,s,!1),ii(e,t,i,c,s);else if(l&32){let u=eu(n,r),d;for(;d=u();)ii(e,t,i,d,s);ii(e,t,i,c,s)}else l&16?qg(t,e,r,n,i,s):ii(e,t,i,c,s);n=o?n.projectionNext:n.next}}function x4(t,e,n,r,i,s){ru(n,r,t.firstChild,e,i,s,!1)}function ZS(t,e,n){let r=e[Be],i=Ug(t,n,e),s=n.parent||e[Gt],o=Hg(s,n,e);qg(r,0,e,n,i,o)}function qg(t,e,n,r,i,s){let o=n[a2],l=o[Gt].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];ii(e,t,i,d,s)}else{let u=l,d=o[xt];ng(r)&&(u.flags|=128),ru(t,e,u,d,i,s,!0)}}function XS(t,e,n,r,i){let s=n[Y1],o=H2(n);s!==o&&ii(e,t,r,s,i);for(let c=c2;c<n.length;c++){let l=n[c];x4(l[Me],l,t,e,r,s)}}function JS(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:yn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=yn.Important),t.setStyle(n,r,i,s))}}function s4(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(H2(s)),Mn(s)&&eD(s,r);let o=n.type;if(o&8)s4(t,e,n.child,r);else if(o&32){let c=eu(n,e),l;for(;l=c();)r.push(l)}else if(o&16){let c=$g(e,n);if(Array.isArray(c))r.push(...c);else{let l=Z1(e[a2]);s4(l[Me],l,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function eD(t,e){for(let n=c2;n<t.length;n++){let r=t[n],i=r[Me].firstChild;i!==null&&s4(r[Me],r,i,e)}t[Y1]!==t[Cn]&&e.push(t[Y1])}function Gg(t){if(t[al]!==null){for(let e of t[al])e.impl.addSequence(e);t[al].length=0}}var Wg=[];function tD(t){return t[o2]??nD(t)}function nD(t){let e=Wg.pop()??Object.create(iD);return e.lView=t,e}function rD(t){t.lView[o2]!==t&&(t.lView=null,Wg.push(t))}var iD=ee(F({},B1),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{co(t.lView)},consumerOnSignalRead(){this.lView[o2]=this}});function sD(t){let e=t[o2]??Object.create(oD);return e.lView=t,e}var oD=ee(F({},B1),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Z1(t.lView);for(;e&&!Kg(e[Me]);)e=Z1(e);e&&Im(e)},consumerOnSignalRead(){this.lView[o2]=this}});function Kg(t){return t.type!==2}function Qg(t){if(t[Q1]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Q1])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[te]&8192)}}var cD=100;function Yg(t,e=!0,n=0){let i=t[pn].rendererFactory,s=!1;s||i.begin?.();try{aD(t,n)}catch(o){throw e&&Fg(t,o),o}finally{s||i.end?.()}}function aD(t,e){let n=Tm();try{Yc(!0),Zl(t,e);let r=0;for(;C4(t);){if(r===cD)throw new $(103,!1);r++,Zl(t,1)}}finally{Yc(n)}}function lD(t,e,n,r){if(oo(e))return;let i=e[te],s=!1,o=!1;x8(e);let c=!0,l=null,u=null;s||(Kg(t)?(u=tD(e),l=Br(u)):Ch()===null?(c=!1,u=sD(e),l=Br(u)):e[o2]&&(jr(e[o2]),e[o2]=null));try{Em(e),$I(t.bindingStartIndex),n!==null&&Og(t,e,n,2,r);let d=(i&3)===3;if(!s)if(d){let g=t.preOrderCheckHooks;g!==null&&Fc(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Vc(e,g,0,null),ll(e,0)}if(o||uD(e),Qg(e),Zg(e,0),t.contentQueries!==null&&pg(t,e),!s)if(d){let g=t.contentCheckHooks;g!==null&&Fc(e,g)}else{let g=t.contentHooks;g!==null&&Vc(e,g,1),ll(e,1)}dD(t,e);let p=t.components;p!==null&&Jg(e,p,0);let y=t.viewQuery;if(y!==null&&Vl(2,y,r),!s)if(d){let g=t.viewCheckHooks;g!==null&&Fc(e,g)}else{let g=t.viewHooks;g!==null&&Vc(e,g,2),ll(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Oc]){for(let g of e[Oc])g();e[Oc]=null}s||(Gg(e),e[te]&=-73)}catch(d){throw s||co(e),d}finally{u!==null&&(Vs(u,l),c&&rD(u)),N8()}}function Zg(t,e){for(let n=sg(t);n!==null;n=og(n))for(let r=c2;r<n.length;r++){let i=n[r];Xg(i,e)}}function uD(t){for(let e=sg(t);e!==null;e=og(e)){if(!(e[te]&2))continue;let n=e[Kc];for(let r=0;r<n.length;r++){let i=n[r];Im(i)}}}function fD(t,e,n){ke(18);let r=$2(e,t);Xg(r,n),ke(19,r[$t])}function Xg(t,e){I8(t)&&Zl(t,e)}function Zl(t,e){let r=t[Me],i=t[te],s=t[o2],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Bs(s)),o||=!1,s&&(s.dirty=!1),t[te]&=-9217,o)lD(r,t,r.template,t[$t]);else if(i&8192){Qg(t),Zg(t,1);let c=r.components;c!==null&&Jg(t,c,1),Gg(t)}}function Jg(t,e,n){for(let r=0;r<e.length;r++)fD(t,e[r],n)}function dD(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)X1(~i);else{let s=i,o=n[++r],c=n[++r];GI(o,s);let l=e[s];ke(24,l),c(2,l),ke(25,l)}}}finally{X1(-1)}}function iu(t,e){let n=Tm()?64:1088;for(t[pn].changeDetectionScheduler?.notify(e);t;){t[te]|=n;let r=Z1(t);if(Qc(t)&&!r)return t;t=r}return null}function ey(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ty(t,e,n,r=!0){let i=e[Me];if(hD(i,e,t,n),r){let o=Yl(n,t),c=e[Be],l=c.parentNode(t[Y1]);l!==null&&$S(i,t[Gt],c,e,l,o)}let s=e[Zs];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Xl(t,e){if(t.length<=c2)return;let n=c2+e,r=t[n];if(r){let i=r[ai];i!==null&&i!==t&&nu(i,r),e>0&&(t[n-1][E2]=r[E2]);let s=$c(t,c2+e);HS(r[Me],r);let o=s[li];o!==null&&o.detachView(s[Me]),r[xt]=null,r[E2]=null,r[te]&=-129}return r}function hD(t,e,n,r){let i=c2+r,s=n.length;r>0&&(n[i-1][E2]=e),r<s-c2?(e[E2]=n[i],sm(n,c2+r,e)):(n.push(e),e[E2]=null),e[xt]=n;let o=e[ai];o!==null&&n!==o&&ny(o,e);let c=e[li];c!==null&&c.insertView(t),zl(e),e[te]|=128}function ny(t,e){let n=t[Kc],r=e[xt];if(n1(r))t[te]|=2;else{let i=r[xt][a2];e[a2]!==i&&(t[te]|=2)}n===null?t[Kc]=[e]:n.push(e)}var tr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[Me];return s4(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[$t]}set context(e){this._lView[$t]=e}get destroyed(){return oo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xt];if(Mn(e)){let n=e[Wc],r=n?n.indexOf(this):-1;r>-1&&(Xl(e,r),$c(n,r))}this._attachedToViewContainer=!1}jg(this._lView[Me],this._lView)}onDestroy(e){zm(this._lView,e)}markForCheck(){iu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){zl(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,Yg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Qc(this._lView),n=this._lView[ai];n!==null&&!e&&nu(n,this._lView),Bg(this._lView[Me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=Qc(this._lView),r=this._lView[ai];r!==null&&!n&&ny(r,this._lView),zl(this._lView)}};var N4=(()=>{class t{static __NG_ELEMENT_ID__=gD}return t})(),pD=N4,mD=class extends pD{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Vg(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new tr(i)}};function gD(){return yD(kt(),me())}function yD(t,e){return t.type&4?new mD(e,t,b4(t,e)):null}function fo(t,e,n,r,i){let s=t.data[e];if(s===null)s=vD(t,e,n,r,i),qI()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=UI();s.injectorIndex=o===null?-1:o.injectorIndex}return rr(s,!0),s}function vD(t,e,n,r,i){let s=Dm(),o=S8(),c=o?s:s&&s.parent,l=t.data[e]=MD(t,c,n,e,r,i);return CD(t,l,s,o),l}function CD(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function MD(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return Sm()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var yQ=new RegExp(`^(\\d+)*(${xz}|${Az})*(.*)`);var _D=()=>null;function Jl(t,e){return _D(t,e)}var e8=class{},o4=class{},t8=class{resolveComponentFactory(e){throw Error(`No component factory found for ${bt(e)}.`)}},di=class{static NULL=new t8},hi=class{},d2=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>LD()}return t})();function LD(){let t=me(),e=kt(),n=$2(e.index,t);return(n1(n)?n:t)[Be]}var wD=(()=>{class t{static \u0275prov=q({token:t,providedIn:"root",factory:()=>null})}return t})();function n8(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=Cl(i,c);else if(s==2){let l=c,u=e[++o];r=Cl(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function K(t,e=fe.Default){let n=me();if(n===null)return ae(t,e);let r=kt();return Gm(r,n,At(t),e)}function su(t,e,n,r,i){let s=r===null?null:{"":-1},o=i(t,n);if(o!==null){let c,l=null,u=null,d=ED(o);d===null?c=o:[c,l,u]=d,SD(t,e,n,c,s,l,u)}s!==null&&r!==null&&bD(n,r,s)}function bD(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}function ED(t){let e=null,n=!1;for(let o=0;o<t.length;o++){let c=t[o];if(o===0&&U2(c)&&(e=c),c.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,s=null;for(let o of t)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,ID(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,s]):null}function ID(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function zD(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function SD(t,e,n,r,i,s,o){let c=r.length,l=!1;for(let y=0;y<c;y++){let g=r[y];!l&&U2(g)&&(l=!0,zD(t,n,y)),xl(e4(n,e),t,g.type)}kD(n,t.data.length,c);for(let y=0;y<c;y++){let g=r[y];g.providersResolver&&g.providersResolver(g)}let u=!1,d=!1,p=Rg(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let y=0;y<c;y++){let g=r[y];if(n.mergedAttrs=fi(n.mergedAttrs,g.hostAttrs),TD(t,n,e,p,g),ND(p,g,i),o!==null&&o.has(g)){let[T,x]=o.get(g);n.directiveToIndex.set(g.type,[p,T+n.directiveStart,x+n.directiveStart])}else(s===null||!s.has(g))&&n.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let E=g.type.prototype;!u&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),p++}DD(t,n,s)}function DD(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))kp(0,e,i,r),kp(1,e,i,r),Pp(e,r,!1);else{let s=n.get(i);Rp(0,e,s,r),Rp(1,e,s,r),Pp(e,r,!0)}}}function kp(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;t===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),ry(e,s)}}function Rp(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[o]??=[],c[o].push(r,s),ry(e,o)}}function ry(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Pp(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:s}=t;if(r===null||!n&&i===null||n&&s===null||G8(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let o=null,c=0;for(;c<r.length;){let l=r[c];if(l===0){c+=4;continue}else if(l===5){c+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let u=i[l];for(let d of u)if(d===e){o??=[],o.push(l,r[c+1]);break}}else if(n&&s.hasOwnProperty(l)){let u=s[l];for(let d=0;d<u.length;d+=2)if(u[d]===e){o??=[],o.push(u[d+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(o)}function TD(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=G1(i.type,!0)),o=new J1(s,U2(i),K);t.blueprint[r]=o,n[r]=o,AD(t,e,r,Rg(t,n,i.hostVars,f2),i)}function AD(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;xD(o)!=c&&o.push(c),o.push(n,r,s)}}function xD(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ND(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;U2(e)&&(n[""]=t)}}function kD(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function iy(t,e,n,r,i,s,o,c){let l=e.consts,u=ui(l,o),d=fo(e,t,2,r,u);return s&&su(e,n,d,ui(l,c),i),d.mergedAttrs=fi(d.mergedAttrs,d.attrs),d.attrs!==null&&n8(d,d.attrs,!1),d.mergedAttrs!==null&&n8(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function sy(t,e){k8(t,e),E8(e)&&t.queries.elementEnd(e)}var c4=class extends di{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=K1(e);return new to(n,this.ngModule)}};function RD(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],s={propName:n,templateName:e,isSignal:(r&S4.SignalBased)!==0};return i&&(s.transform=i),s})}function PD(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function OD(t,e,n){let r=e instanceof Ht?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Tl(n,r):n}function FD(t){let e=t.get(hi,null);if(e===null)throw new $(407,!1);let n=t.get(wD,null),r=t.get(er,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function VD(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Ag(e,n,n==="svg"?DI:n==="math"?TI:null)}var to=class extends o4{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=RD(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PD(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yS(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){ke(22);let s=ve(null);try{let o=this.componentDef,c=r?["ng-version","19.2.1"]:vS(this.componentDef.selectors[0]),l=W8(0,null,null,1,0,null,null,null,null,[c],null),u=OD(o,i||this.ngModule,e),d=FD(u),p=d.rendererFactory.createRenderer(null,o),y=r?SS(p,r,o.encapsulation,u):VD(o,p),g=K8(null,l,null,512|kg(o),null,null,d,p,u,null,hg(y,u,!0));g[qt]=y,x8(g);let E=null;try{let T=iy(qt,l,g,"#host",()=>[this.componentDef],!0,0);y&&(Ng(p,y,T),vi(y,g)),D4(l,g,T),H8(l,T,g),sy(l,T),n!==void 0&&BD(T,this.ngContentSelectors,n),E=$2(T.index,g),g[$t]=E[$t],J8(l,g,null)}catch(T){throw E!==null&&Ol(E),Ol(g),T}finally{ke(23),N8()}return new r8(this.componentType,g)}finally{ve(s)}}},r8=class extends e8{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=bm(n[Me],qt),this.location=b4(this._tNode,n),this.instance=$2(this._tNode.index,n)[$t],this.hostView=this.changeDetectorRef=new tr(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,s=X8(r,i[Me],i,e,n);this.previousInputValues.set(e,n);let o=$2(r.index,i);iu(o,1)}get injector(){return new q1(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BD(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Ci=(()=>{class t{static __NG_ELEMENT_ID__=jD}return t})();function jD(){let t=kt();return HD(t,me())}var UD=Ci,oy=class extends UD{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return b4(this._hostTNode,this._hostLView)}get injector(){return new q1(this._hostTNode,this._hostLView)}get parentInjector(){let e=R8(this._hostTNode,this._hostLView);if(Bm(e)){let n=Xc(e,this._hostLView),r=Zc(e),i=n[Me].data[r+8];return new q1(i,n)}else return new q1(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Op(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-c2}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Jl(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,Ql(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!EI(e),c;if(o)c=n;else{let E=n||{};c=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}let l=o?e:new to(K1(e)),u=r||this.parentInjector;if(!s&&l.ngModule==null){let T=(o?u:this.parentInjector).get(Ht,null);T&&(s=T)}let d=K1(l.componentType??{}),p=Jl(this._lContainer,d?.id??null),y=p?.firstChild??null,g=l.create(u,i,y,s);return this.insertImpl(g.hostView,c,Ql(this._hostTNode,p)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(xI(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=i[xt],u=new oy(l,l[Gt],l[xt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return ty(o,i,s,r),e.attachToViewContainerRef(),sm(hl(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Op(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Xl(this._lContainer,n);r&&($c(hl(this._lContainer),n),jg(r[Me],r))}detach(e){let n=this._adjustIndex(e,-1),r=Xl(this._lContainer,n);return r&&$c(hl(this._lContainer),n)!=null?new tr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Op(t){return t[Wc]}function hl(t){return t[Wc]||(t[Wc]=[])}function HD(t,e){let n,r=e[t.index];return Mn(r)?n=r:(n=ey(r,e,null,t),e[t.index]=n,Q8(e,n)),qD(n,e,t,r),new oy(n,t,e)}function $D(t,e){let n=t[Be],r=n.createComment(""),i=W2(e,t),s=n.parentNode(i);return i4(n,s,r,n.nextSibling(i),!1),r}var qD=KD,GD=()=>!1;function WD(t,e,n){return GD(t,e,n)}function KD(t,e,n,r){if(t[Y1])return;let i;n.type&8?i=H2(r):i=$D(e,n),t[Y1]=i}var r1=class{},no=class{};var i8=class extends r1{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new c4(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let s=am(e);this._bootstrapComponents=Sg(s.bootstrap),this._r3Injector=Qm(e,n,[{provide:r1,useValue:this},{provide:di,useValue:this.componentFactoryResolver},...r],bt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},s8=class extends no{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new i8(this.moduleType,e,[])}};var a4=class extends r1{injector;componentFactoryResolver=new c4(this);instance=null;constructor(e){super();let n=new Ys([...e.providers,{provide:r1,useValue:this},{provide:di,useValue:this.componentFactoryResolver}],e.parent||b8(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ou(t,e,n=null){return new a4({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var QD=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=dm(!1,n.type),i=r.length>0?ou([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(ae(Ht))})}return t})();function De(t){return io(()=>{let e=ay(t),n=ee(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===rg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(QD).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||q2.Emulated,styles:t.styles||Ut,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&U8("NgStandalone"),ly(n);let r=t.dependencies;return n.directiveDefs=Fp(r,!1),n.pipeDefs=Fp(r,!0),n.id=eT(n),n})}function YD(t){return K1(t)||lm(t)}function ZD(t){return t!==null}function l1(t){return io(()=>({type:t.type,bootstrap:t.bootstrap||Ut,declarations:t.declarations||Ut,imports:t.imports||Ut,exports:t.exports||Ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function XD(t,e){if(t==null)return W1;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c,l;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s,l=i[3]||null):(s=i,o=i,c=S4.None,l=null),n[s]=[r,c,l],e[s]=o}return n}function JD(t){if(t==null)return W1;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Re(t){return io(()=>{let e=ay(t);return ly(e),e})}function cy(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ay(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||W1,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:XD(t.inputs,e),outputs:JD(t.outputs),debugInfo:null}}function ly(t){t.features?.forEach(e=>e(t))}function Fp(t,e){if(!t)return null;let n=e?um:YD;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ZD)}function eT(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function tT(t){return Object.getPrototypeOf(t.prototype).constructor}function Wt(t){let e=tT(t.type),n=!0,r=[t];for(;e;){let i;if(U2(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=pl(t.inputs),o.declaredInputs=pl(t.declaredInputs),o.outputs=pl(t.outputs);let c=i.hostBindings;c&&oT(t,c);let l=i.viewQuery,u=i.contentQueries;if(l&&iT(t,l),u&&sT(t,u),nT(t,i),KE(t.outputs,i.outputs),U2(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===Wt&&(n=!1)}}e=Object.getPrototypeOf(e)}rT(r)}function nT(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function rT(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fi(i.hostAttrs,n=fi(n,i.hostAttrs))}}function pl(t){return t===W1?{}:t===Ut?[]:t}function iT(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function sT(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function oT(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function uy(t){return aT(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function cT(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function aT(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function fy(t,e,n){return t[e]=n}function I2(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function dy(t,e,n,r){let i=I2(t,e,n);return I2(t,e+1,r)||i}function lT(t,e,n,r,i){let s=dy(t,e,n,r);return I2(t,e+2,i)||s}function uT(t,e,n,r,i,s,o,c,l){let u=e.consts,d=fo(e,t,4,o||null,c||null);z8()&&su(e,n,d,ui(u,l),Z8),d.mergedAttrs=fi(d.mergedAttrs,d.attrs),k8(e,d);let p=d.tView=W8(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}function hy(t,e,n,r,i,s,o,c,l,u){let d=n+qt,p=e.firstCreatePass?uT(d,e,t,r,i,s,o,c,l):e.data[d];rr(p,!1);let y=fT(e,t,p,n);M4()&&A4(e,t,y,p),vi(y,t);let g=ey(y,t,y,p);return t[d]=g,Q8(t,g),WD(g,p,t),v4(p)&&D4(e,t,p),l!=null&&Y8(t,p,u),p}function Ne(t,e,n,r,i,s,o,c){let l=me(),u=et(),d=ui(u.consts,s);return hy(l,u,t,e,n,r,i,d,o,c),Ne}var fT=dT;function dT(t,e,n,r){return _4(!0),e[Be].createComment("")}var cu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var py=new Y("");var my=(()=>{class t{static \u0275prov=q({token:t,providedIn:"root",factory:()=>new l4})}return t})(),l4=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function u1(t){return!!t&&typeof t.then=="function"}function au(t){return!!t&&typeof t.subscribe=="function"}var gy=new Y("");var yy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=N(gy,{optional:!0})??[];injector=N(ut);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=Nt(this.injector,i);if(u1(s))n.push(s);else if(au(s)){let o=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lu=new Y("");function hT(){Th(()=>{throw new $(600,!1)})}function pT(t){return t.isBoundToModule}var mT=10;var i1=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Lz);afterRenderManager=N(Rz);zonelessEnabled=N(L4);rootEffectScheduler=N(my);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new at;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=N(a1).hasPendingTasks.pipe(ce(n=>!n));constructor(){N(E4,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=N(Ht);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){ke(10);let i=n instanceof o4;if(!this._injector.get(yy).done){let y=!i&&fm(n),g=!1;throw new $(405,g)}let o;i?o=n:o=this._injector.get(di).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=pT(o)?void 0:this._injector.get(r1),l=r||o.selector,u=o.create(ut.NULL,[],l,c),d=u.location.nativeElement,p=u.injector.get(py,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Bc(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),ke(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ke(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(fg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let n=ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ve(n),this.afterTick.next(),ke(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(hi,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<mT;)ke(14),this.synchronizeOnce(),ke(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)gT(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>C4(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Bc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(lu,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function gT(t,e,n,r){if(!n&&!C4(t))return;Yg(t,e,n&&!r?0:1)}function f1(t,e,n,r){let i=me(),s=ao();if(I2(i,s,e)){let o=et(),c=lo();PS(c,i,t,e,n,r)}return f1}function vy(t,e,n,r){return I2(t,ao(),n)?e+e1(n)+r:f2}function yT(t,e,n,r,i,s,o,c){let l=HI(),u=lT(t,l,n,i,o);return A8(3),u?e+e1(n)+r+e1(i)+s+e1(o)+c:f2}function kc(t,e){return t<<17|e<<2}function nr(t){return t>>17&32767}function vT(t){return(t&2)==2}function CT(t,e){return t&131071|e<<17}function o8(t){return t|2}function pi(t){return(t&131068)>>2}function ml(t,e){return t&-131069|e<<2}function MT(t){return(t&1)===1}function c8(t){return t|1}function _T(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=nr(o),l=pi(o);t[r]=n;let u=!1,d;if(Array.isArray(n)){let p=n;d=p[1],(d===null||so(p,d)>0)&&(u=!0)}else d=n;if(i)if(l!==0){let y=nr(t[c+1]);t[r+1]=kc(y,c),y!==0&&(t[y+1]=ml(t[y+1],r)),t[c+1]=CT(t[c+1],r)}else t[r+1]=kc(c,0),c!==0&&(t[c+1]=ml(t[c+1],r)),c=r;else t[r+1]=kc(l,0),c===0?c=r:t[l+1]=ml(t[l+1],r),l=r;u&&(t[r+1]=o8(t[r+1])),Vp(t,d,r,!0),Vp(t,d,r,!1),LT(e,d,t,r,s),o=kc(c,l),s?e.classBindings=o:e.styleBindings=o}function LT(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&so(s,e)>=0&&(n[r+1]=c8(n[r+1]))}function Vp(t,e,n,r){let i=t[n+1],s=e===null,o=r?nr(i):pi(i),c=!1;for(;o!==0&&(c===!1||s);){let l=t[o],u=t[o+1];wT(l,e)&&(c=!0,t[o+1]=r?c8(u):o8(u)),o=r?nr(u):pi(u)}c&&(t[n+1]=r?o8(i):c8(i))}function wT(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?so(t,e)>=0:!1}var b2={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bT(t){return t.substring(b2.key,b2.keyEnd)}function ET(t){return IT(t),Cy(t,My(t,0,b2.textEnd))}function Cy(t,e){let n=b2.textEnd;return n===e?-1:(e=b2.keyEnd=zT(t,b2.key=e,n),My(t,e,n))}function IT(t){b2.key=0,b2.keyEnd=0,b2.value=0,b2.valueEnd=0,b2.textEnd=t.length}function My(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function zT(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function X(t,e,n){let r=me(),i=ao();if(I2(r,i,e)){let s=et(),o=lo();T4(s,o,r,t,e,r[Be],n,!1)}return X}function a8(t,e,n,r,i){X8(e,t,n,i?"class":"style",r)}function ho(t,e){return DT(t,e,null,!0),ho}function _y(t){TT(PT,ST,t,!0)}function ST(t,e){for(let n=ET(e);n>=0;n=Cy(e,n))L8(t,bT(e),!0)}function DT(t,e,n,r){let i=me(),s=et(),o=A8(2);if(s.firstUpdatePass&&wy(s,t,o,r),e!==f2&&I2(i,o,e)){let c=s.data[c1()];by(s,c,i,i[Be],t,i[o+1]=FT(e,n),r,o)}}function TT(t,e,n,r){let i=et(),s=A8(2);i.firstUpdatePass&&wy(i,null,s,r);let o=me();if(n!==f2&&I2(o,s,n)){let c=i.data[c1()];if(Ey(c,r)&&!Ly(i,s)){let l=r?c.classesWithoutHost:c.stylesWithoutHost;l!==null&&(n=Cl(l,n||"")),a8(i,c,o,n,r)}else OT(i,c,o,o[Be],o[s+1],o[s+1]=RT(t,e,n),r,s)}}function Ly(t,e){return e>=t.expandoStartIndex}function wy(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[c1()],o=Ly(t,n);Ey(s,r)&&e===null&&!o&&(e=!1),e=AT(i,s,e,r),_T(i,s,e,n,o,r)}}function AT(t,e,n,r){let i=KI(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=gl(null,t,e,n,r),n=ro(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=gl(i,t,e,n,r),s===null){let l=xT(t,e,r);l!==void 0&&Array.isArray(l)&&(l=gl(null,t,e,l[1],r),l=ro(l,e.attrs,r),NT(t,e,r,l))}else s=kT(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function xT(t,e,n){let r=n?e.classBindings:e.styleBindings;if(pi(r)!==0)return t[nr(r)]}function NT(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[nr(i)]=r}function kT(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ro(r,o,n)}return ro(r,e.attrs,n)}function gl(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=ro(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function ro(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),L8(t,o,n?!0:e[++s]))}return t===void 0?null:t}function RT(t,e,n){if(n==null||n==="")return Ut;let r=[],i=l2(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function PT(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&L8(t,r,n)}function OT(t,e,n,r,i,s,o,c){i===f2&&(i=Ut);let l=0,u=0,d=0<i.length?i[0]:null,p=0<s.length?s[0]:null;for(;d!==null||p!==null;){let y=l<i.length?i[l+1]:void 0,g=u<s.length?s[u+1]:void 0,E=null,T;d===p?(l+=2,u+=2,y!==g&&(E=p,T=g)):p===null||d!==null&&d<p?(l+=2,E=d):(u+=2,E=p,T=g),E!==null&&by(t,e,n,r,E,T,o,c),d=l<i.length?i[l]:null,p=u<s.length?s[u]:null}}function by(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let l=t.data,u=l[c+1],d=MT(u)?Bp(l,e,n,i,pi(u),o):void 0;if(!u4(d)){u4(s)||vT(u)&&(s=Bp(l,null,n,i,c,o));let p=wm(c1(),n);JS(r,o,p,i,s)}}function Bp(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let l=t[i],u=Array.isArray(l),d=u?l[1]:l,p=d===null,y=n[i+1];y===f2&&(y=p?Ut:void 0);let g=p?ol(y,r):d===r?y:void 0;if(u&&!u4(g)&&(g=ol(l,r)),u4(g)&&(c=g,o))return c;let E=t[i+1];i=o?nr(E):pi(E)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(c=ol(l,r))}return c}function u4(t){return t!==void 0}function FT(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=bt(l2(t)))),t}function Ey(t,e){return(t.flags&(e?8:16))!==0}function D(t,e,n,r){let i=me(),s=et(),o=qt+t,c=i[Be],l=s.firstCreatePass?iy(o,s,i,e,Z8,z8(),n,r):s.data[o],u=VT(s,i,l,c,e,t);i[o]=u;let d=v4(l);return rr(l,!0),Ng(c,u,l),!tu(l)&&M4()&&A4(s,i,u,l),(OI()===0||d)&&vi(u,i),FI(),d&&(D4(s,i,l),H8(s,l,i)),r!==null&&Y8(i,l),D}function A(){let t=kt();S8()?D8():(t=t.parent,rr(t,!1));let e=t;BI(e)&&jI(),VI();let n=et();return n.firstCreatePass&&sy(n,e),e.classesWithoutHost!=null&&ez(e)&&a8(n,e,me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&tz(e)&&a8(n,e,me(),e.stylesWithoutHost,!1),A}function Pe(t,e,n,r){return D(t,e,n,r),A(),Pe}var VT=(t,e,n,r,i,s)=>(_4(!0),Ag(r,i,ZI()));function BT(t,e,n,r,i){let s=e.consts,o=ui(s,r),c=fo(e,t,8,"ng-container",o);o!==null&&n8(c,o,!0);let l=ui(s,i);return z8()&&su(e,n,c,l,Z8),c.mergedAttrs=fi(c.mergedAttrs,c.attrs),e.queries!==null&&e.queries.elementStart(e,c),c}function Mi(t,e,n){let r=me(),i=et(),s=t+qt,o=i.firstCreatePass?BT(s,i,r,e,n):i.data[s];rr(o,!0);let c=jT(i,r,o,t);return r[s]=c,M4()&&A4(i,r,c,o),vi(c,r),v4(o)&&(D4(i,r,o),H8(i,o,r)),n!=null&&Y8(r,o),Mi}function _i(){let t=kt(),e=et();return S8()?D8():(t=t.parent,rr(t,!1)),e.firstCreatePass&&(k8(e,t),E8(t)&&e.queries.elementEnd(t)),_i}var jT=(t,e,n,r)=>(_4(!0),_S(e[Be],""));function Et(){return me()}function uu(t,e,n){let r=me(),i=ao();if(I2(r,i,e)){let s=et(),o=lo();T4(s,o,r,t,e,r[Be],n,!0)}return uu}var f4="en-US";var UT=f4;function HT(t){typeof t=="string"&&(UT=t.toLowerCase().replace(/_/g,"-"))}var $T=(t,e,n)=>{};function ie(t,e,n,r){let i=me(),s=et(),o=kt();return Iy(s,i,i[Be],o,t,e,r),ie}function qT(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[Gc],l=i[s+2];return c.length>l?c[l]:null}typeof o=="string"&&(s+=2)}return null}function Iy(t,e,n,r,i,s,o){let c=v4(r),u=t.firstCreatePass?PI(t):null,d=e[$t],p=RI(e),y=!0;if(r.type&3||o){let g=W2(r,e),E=o?o(g):g,T=p.length,x=o?G=>o(H2(G[r.index])):r.index,j=null;if(!o&&c&&(j=qT(t,e,i,r.index)),j!==null){let G=j.__ngLastListenerFn__||j;G.__ngNextListenerFn__=s,j.__ngLastListenerFn__=s,y=!1}else{s=Hp(r,e,d,s),$T(E,i,s);let G=n.listen(E,i,s);p.push(s,G),u&&u.push(i,x,T,T+1)}}else s=Hp(r,e,d,s);if(y){let g=r.outputs?.[i],E=r.hostDirectiveOutputs?.[i];if(E&&E.length)for(let T=0;T<E.length;T+=2){let x=E[T],j=E[T+1];jp(r,t,e,x,j,i,s,p,u)}if(g&&g.length)for(let T of g)jp(r,t,e,T,i,i,s,p,u)}}function jp(t,e,n,r,i,s,o,c,l){let u=n[r],p=e.data[r].outputs[i],g=u[p].subscribe(o),E=c.length;c.push(o,g),l&&l.push(s,t.index,E,-(E+1))}function Up(t,e,n,r){let i=ve(null);try{return ke(6,e,n),n(r)!==!1}catch(s){return Fg(t,s),!1}finally{ke(7,e,n),ve(i)}}function Hp(t,e,n,r){return function i(s){if(s===Function)return r;let o=gi(t)?$2(t.index,e):e;iu(o,5);let c=Up(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)c=Up(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return c}}function Ie(t=1){return YI(t)}function GT(t,e){let n=null,r=dS(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?Tg(t,s,!0):mS(r,s))return i}return n}function zy(t){let e=me()[a2][Gt];if(!e.projection){let n=t?t.length:1,r=e.projection=dI(n,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?GT(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function Sy(t,e=0,n,r,i,s){let o=me(),c=et(),l=r?t+1:null;l!==null&&hy(o,c,l,r,i,s,null,n);let u=fo(c,qt+t,16,null,n||null);u.projection===null&&(u.projection=e),D8();let p=!o[Zs]||Sm();o[a2][Gt].projection[u.projection]===null&&l!==null?WT(o,c,l):p&&!tu(u)&&ZS(c,o,u)}function WT(t,e,n){let r=qt+n,i=e.data[r],s=t[r],o=Jl(s,i.tView.ssrId),c=Vg(t,i,void 0,{dehydratedView:o});ty(s,c,0,Ql(i,o))}function fu(t,e,n,r,i){let s=me(),o=vy(s,e,n,r);if(o!==f2){let c=et(),l=lo();T4(c,l,s,t,o,s[Be],i,!1)}return fu}function KT(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function V(t,e=""){let n=me(),r=et(),i=t+qt,s=r.firstCreatePass?fo(r,i,1,e,null):r.data[i],o=QT(r,n,s,e,t);n[i]=o,M4()&&A4(r,n,o,s),rr(s,!1)}var QT=(t,e,n,r,i)=>(_4(!0),CS(e[Be],r));function We(t){return h2("",t,""),We}function h2(t,e,n){let r=me(),i=vy(r,t,e,n);return i!==f2&&Dy(r,c1(),i),h2}function k4(t,e,n,r,i,s,o){let c=me(),l=yT(c,t,e,n,r,i,s,o);return l!==f2&&Dy(c,c1(),l),k4}function Dy(t,e,n){let r=wm(e,t);MS(t[Be],r,n)}function Qe(t,e,n){tg(e)&&(e=e());let r=me(),i=ao();if(I2(r,i,e)){let s=et(),o=lo();T4(s,o,r,t,e,r[Be],n,!1)}return Qe}function rt(t,e){let n=tg(t);return n&&t.set(e),n}function Ye(t,e){let n=me(),r=et(),i=kt();return Iy(r,n,n[Be],i,t,e),Ye}function YT(t,e,n){let r=et();if(r.firstCreatePass){let i=U2(t);l8(n,r.data,r.blueprint,i,!0),l8(e,r.data,r.blueprint,i,!1)}}function l8(t,e,n,r,i){if(t=At(t),Array.isArray(t))for(let s=0;s<t.length;s++)l8(t[s],e,n,r,i);else{let s=et(),o=me(),c=kt(),l=ci(t)?t:At(t.provide),u=mm(t),d=c.providerIndexes&1048575,p=c.directiveStart,y=c.providerIndexes>>20;if(ci(t)||!t.multi){let g=new J1(u,i,K),E=vl(l,e,i?d:d+y,p);E===-1?(xl(e4(c,o),s,l),yl(s,t,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(g),o.push(g)):(n[E]=g,o[E]=g)}else{let g=vl(l,e,d+y,p),E=vl(l,e,d,d+y),T=g>=0&&n[g],x=E>=0&&n[E];if(i&&!x||!i&&!T){xl(e4(c,o),s,l);let j=JT(i?XT:ZT,n.length,i,r,u);!i&&x&&(n[E].providerFactory=j),yl(s,t,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(j),o.push(j)}else{let j=Ty(n[i?E:g],u,!i&&r);yl(s,t,g>-1?g:E,j)}!i&&r&&x&&n[E].componentProviders++}}}function yl(t,e,n,r){let i=ci(e),s=CI(e);if(i||s){let l=(s?At(e.useClass):e).prototype.ngOnDestroy;if(l){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,l]):u[d+1].push(r,l)}else u.push(n,l)}}}function Ty(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ZT(t,e,n,r){return u8(this.multi,[])}function XT(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=t4(n,n[Me],this.providerFactory.index,r);s=c.slice(0,o),u8(i,s);for(let l=o;l<c.length;l++)s.push(c[l])}else s=[],u8(i,s);return s}function u8(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function JT(t,e,n,r,i){let s=new J1(t,n,K);return s.multi=[],s.index=e,s.componentProviders=0,Ty(s,i,r&&!n),s}function wn(t,e=[]){return n=>{n.providersResolver=(r,i)=>YT(r,i?i(t):t,e)}}function R4(t,e,n,r){return xy(me(),T8(),t,e,n,r)}function du(t,e,n,r,i){return eA(me(),T8(),t,e,n,r,i)}function Ay(t,e){let n=t[e];return n===f2?void 0:n}function xy(t,e,n,r,i,s){let o=e+n;return I2(t,o,i)?fy(t,o+1,s?r.call(s,i):r(i)):Ay(t,o+1)}function eA(t,e,n,r,i,s,o){let c=e+n;return dy(t,c,i,s)?fy(t,c+2,o?r.call(o,i,s):r(i,s)):Ay(t,c+2)}function hu(t,e){let n=et(),r,i=t+qt;n.firstCreatePass?(r=tA(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=G1(r.type,!0)),o,c=jt(K);try{let l=Jc(!1),u=s();return Jc(l),KT(n,me(),i,u),u}finally{jt(c)}}function tA(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function pu(t,e,n){let r=t+qt,i=me(),s=AI(i,r);return nA(i,r)?xy(i,T8(),e,s.transform,n,s):s.transform(n)}function nA(t,e){return t[Me].data[e].pure}var vn=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Ny=new vn("19.2.1"),f8=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},mu=(()=>{class t{compileModuleSync(n){return new s8(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=am(n),s=Sg(i.declarations).reduce((o,c)=>{let l=K1(c);return l&&o.push(new to(l)),o},[]);return new f8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rA=(()=>{class t{zone=N(Ae);changeDetectionScheduler=N(er);applicationRef=N(i1);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iA=new Y("",{factory:()=>!1});function ky({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ae(ee(F({},Py()),{scheduleInRootZone:n})),[{provide:Ae,useFactory:t},{provide:oi,multi:!0,useFactory:()=>{let r=N(rA,{optional:!0});return()=>r.initialize()}},{provide:oi,multi:!0,useFactory:()=>{let r=N(sA);return()=>{r.initialize()}}},e===!0?{provide:Zm,useValue:!0}:[],{provide:Xm,useValue:n??Ym}]}function Ry(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ky({ngZoneFactory:()=>{let i=Py(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&U8("NgZone_CoalesceEvent"),new Ae(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return o1([{provide:iA,useValue:!0},{provide:L4,useValue:!1},r])}function Py(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var sA=(()=>{class t{subscription=new qe;initialized=!1;zone=N(Ae);pendingTasks=N(a1);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var oA=(()=>{class t{appRef=N(i1);taskService=N(a1);ngZone=N(Ae);zonelessEnabled=N(L4);tracing=N(E4,{optional:!0});disableScheduling=N(Zm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(r4):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Xm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pl||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Cp:Jm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(r4+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cA(){return typeof $localize<"u"&&$localize.locale||f4}var gu=new Y("",{providedIn:"root",factory:()=>N(gu,fe.Optional|fe.SkipSelf)||cA()});var d8=new Y(""),aA=new Y("");function $s(t){return!t.moduleRef}function lA(t){let e=$s(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ae);return n.run(()=>{$s(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(mn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),$s(t)){let s=()=>e.destroy(),o=t.platformInjector.get(d8);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(d8);o.add(s),t.moduleRef.onDestroy(()=>{Bc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return fA(r,n,()=>{let s=e.get(yy);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(gu,f4);if(HT(o||f4),!e.get(aA,!0))return $s(t)?e.get(i1):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if($s(t)){let l=e.get(i1);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return uA(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function uA(t,e){let n=t.injector.get(i1);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}function fA(t,e,n){try{let r=n();return u1(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var jc=null;function dA(t=[],e){return ut.create({name:e,providers:[{provide:m4,useValue:"platform"},{provide:d8,useValue:new Set([()=>jc=null])},...t]})}function hA(t=[]){if(jc)return jc;let e=dA(t);return jc=e,hT(),pA(e),e}function pA(t){let e=t.get(B8,null);Nt(t,()=>{e?.forEach(n=>n())})}function yu(){return!1}var bn=(()=>{class t{static __NG_ELEMENT_ID__=mA}return t})();function mA(t){return gA(kt(),me(),(t&16)===16)}function gA(t,e,n){if(gi(t)&&!n){let r=$2(t.index,e);return new tr(r,r)}else if(t.type&175){let r=e[a2];return new tr(r,e)}return null}var h8=class{constructor(){}supports(e){return uy(e)}create(e){return new p8(e)}},yA=(t,e)=>e,p8=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||yA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<$p(r,i,s)?n:r,c=$p(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=c-i,d=l-i;if(u!=d){for(let y=0;y<u;y++){let g=y<s.length?s[y]:s[y]=0,E=g+y;d<=E&&E<u&&(s[y]=g+1)}let p=o.previousIndex;s[p]=d-u}}c!==l&&e(o,c,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!uy(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,cT(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new m8(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new d4),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new d4),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},m8=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},g8=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},d4=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new g8,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function $p(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function qp(){return new vu([new h8])}var vu=(()=>{class t{factories;static \u0275prov=q({token:t,providedIn:"root",factory:qp});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||qp()),deps:[[t,new fI,new G2]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new $(901,!1)}}return t})();function Oy(t){ke(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=hA(r),s=[ky({}),{provide:er,useExisting:oA},...n||[]],o=new a4({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return lA({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{ke(9)}}function d1(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function p2(t){let e=ve(null);try{return t()}finally{ve(e)}}function m2(t,e){let n=zh(t);return e?.equal&&(n[Ft].equal=e.equal),n}var vA=!1,CA=(()=>{class t extends l4{pendingTasks=N(a1);taskId=null;schedule(n){super.schedule(n),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),y8=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.zone=r,this.injector=s,this.watcher=Nh(c=>this.runEffect(c),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(mn,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function MA(){}function Fy(t,e){!e?.injector&&g4(MA);let n=e?.injector??N(ut),r=e?.manualCleanup!==!0?n.get(ir):null,i=new y8(n.get(CA),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(bn,null,{optional:!0});return!s||!(s._lView[te]&8)?i.watcher.notify():(s._lView[Oc]??=[]).push(i.watcher.notify),i}var _A=vA;var v8=class{[Ft];constructor(e){this[Ft]=e}destroy(){this[Ft].destroy()}};function P4(t,e){if(_A)return Fy(t,e);!e?.injector&&g4(P4);let n=e?.injector??N(ut),r=e?.manualCleanup!==!0?n.get(ir):null,i,s=n.get(dg,null,{optional:!0}),o=n.get(er);return s!==null&&!e?.forceRoot?(i=bA(s.view,o,t),r instanceof n4&&r._lView===s.view&&(r=null)):i=EA(t,n.get(my),o),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new v8(i)}var Vy=ee(F({},B1),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:eo,run(){if(this.dirty=!1,this.hasRun&&!Bs(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),e=Br(this),n=Yc(!1);try{this.maybeCleanup(),this.fn(t)}finally{Yc(n),Vs(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),LA=ee(F({},Vy),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){jr(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),wA=ee(F({},Vy),{consumerMarkedDirty(){this.view[te]|=8192,co(this.view),this.notifier.notify(13)},destroy(){jr(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Q1]?.delete(this)}});function bA(t,e,n){let r=Object.create(wA);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=n,t[Q1]??=new Set,t[Q1].add(r),r.consumerMarkedDirty(r),r}function EA(t,e,n){let r=Object.create(LA);return r.fn=t,r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}var qy=null;function En(){return qy}function Gy(t){qy??=t}var O4=class{};var Rt=new Y(""),Wy=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>N(IA),providedIn:"platform"})}return t})();var IA=(()=>{class t extends Wy{_location;_history;_doc=N(Rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return En().getBaseHref(this._doc)}onPopState(n){let r=En().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=En().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Ky(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function By(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function or(t){return t&&t[0]!=="?"?`?${t}`:t}var Li=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>N(Qy),providedIn:"root"})}return t})(),zA=new Y(""),Qy=(()=>{class t extends Li{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(Rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ky(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+or(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+or(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+or(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ae(Wy),ae(zA,8))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var po=(()=>{class t{_subject=new at;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=TA(By(jy(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+or(r))}normalize(n){return t.stripTrailingSlash(DA(this._basePath,jy(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+or(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+or(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=or;static joinWithSlash=Ky;static stripTrailingSlash=By;static \u0275fac=function(r){return new(r||t)(ae(Li))};static \u0275prov=q({token:t,factory:()=>SA(),providedIn:"root"})}return t})();function SA(){return new po(ae(Li))}function DA(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function jy(t){return t.replace(/\/index.html$/,"")}function TA(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Yy(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Cu=/\s+/,Uy=[],Zy=(()=>{class t{_ngEl;_renderer;initialClasses=Uy;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Cu):Uy}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Cu):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Cu).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(K(Xt),K(d2))};static \u0275dir=Re({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Mu=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Kt=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Mu(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),Hy(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Hy(s,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(K(Ci),K(N4),K(vu))};static \u0275dir=Re({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Hy(t,e){t.context.$implicit=e.item}var h1=(()=>{class t{_viewContainer;_context=new _u;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){$y("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){$y("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(K(Ci),K(N4))};static \u0275dir=Re({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),_u=class{$implicit=null;ngIf=null};function $y(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${bt(e)}'.`)}function AA(t,e){return new $(2100,!1)}var Lu=class{createSubscription(e,n){return p2(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){p2(()=>e.unsubscribe())}},wu=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},xA=new wu,NA=new Lu,Xy=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(u1(n))return xA;if(au(n))return NA;throw AA(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(K(bn,16))};static \u0275pipe=cy({name:"async",type:t,pure:!1})}return t})();var yt=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=l1({type:t});static \u0275inj=s1({})}return t})(),Jy="browser",kA="server";function bu(t){return t===kA}var F4=class{};var Iu=class extends O4{supportsDOMEvents=!0},zu=class t extends Iu{static makeCurrent(){Gy(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=RA();return n==null?null:PA(n)}resetBaseElement(){mo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yy(document.cookie,e)}},mo=null;function RA(){return mo=mo||document.querySelector("base"),mo?mo.getAttribute("href"):null}function PA(t){return new URL(t,document.baseURI).pathname}var OA=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),Su=new Y(""),sv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ae(Su),ae(Ae))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),B4=class{_doc;constructor(e){this._doc=e}manager},V4="ng-app-id";function ev(t){for(let e of t)e.remove()}function tv(t,e){let n=e.createElement("style");return n.textContent=t,n}function FA(t,e,n,r){let i=t.head?.querySelectorAll(`style[${V4}="${e}"],link[${V4}="${e}"]`);if(i)for(let s of i)s.removeAttribute(V4),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function Du(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var ov=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=bu(s),FA(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,tv);r?.forEach(i=>this.addUsage(i,this.external,Du))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(ev(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])ev(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,tv(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Du(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(V4,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ae(Rt),ae(V8),ae(j8,8),ae(sr))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),Eu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Au=/%COMP%/g;var cv="%COMP%",VA=`_nghost-${cv}`,BA=`_ngcontent-${cv}`,jA=!0,UA=new Y("",{providedIn:"root",factory:()=>jA});function HA(t){return BA.replace(Au,t)}function $A(t){return VA.replace(Au,t)}function av(t,e){return e.map(n=>n.replace(Au,t))}var nv=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,s,o,c,l,u=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=l,this.nonce=u,this.tracingService=d,this.platformIsServer=bu(c),this.defaultRenderer=new go(n,o,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===q2.ShadowDom&&(r=ee(F({},r),{encapsulation:q2.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof j4?i.applyToHost(n):i instanceof yo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case q2.Emulated:s=new j4(l,u,r,this.appId,d,o,c,p,y);break;case q2.ShadowDom:return new Tu(l,u,n,r,o,c,this.nonce,p,y);default:s=new yo(l,u,r,d,o,c,p,y);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ae(sv),ae(ov),ae(V8),ae(UA),ae(Rt),ae(sr),ae(Ae),ae(j8),ae(E4,8))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),go=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,s){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Eu[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rv(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(rv(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Eu[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Eu[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(yn.DashCase|yn.Important)?e.style.setProperty(n,r,i&yn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&yn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=En().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);let s=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,n,s)),this.eventManager.addEventListener(e,n,s,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function rv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Tu=class extends go{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,s,o,c,l,u){super(e,s,o,l,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=av(i.id,d);for(let y of d){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=y,this.shadowRoot.appendChild(g)}let p=i.getExternalStyles?.();if(p)for(let y of p){let g=Du(y,s);c&&g.setAttribute("nonce",c),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},yo=class extends go{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,s,o,c,l,u){super(e,s,o,c,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?av(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},j4=class extends yo{contentAttr;hostAttr;constructor(e,n,r,i,s,o,c,l,u){let d=i+"-"+r.id;super(e,n,r,s,o,c,l,u,d),this.contentAttr=HA(d),this.hostAttr=$A(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},qA=(()=>{class t extends B4{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||t)(ae(Rt))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),iv=["alt","control","meta","shift"],GA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WA={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},KA=(()=>{class t extends B4{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=t.parseEventName(r),c=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>En().onAndCancel(n,o.domEventName,c,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),iv.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=GA[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),iv.forEach(o=>{if(o!==i){let c=WA[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ae(Rt))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function lv(t,e){return Oy(F({rootComponent:t},QA(e)))}function QA(t){return{appProviders:[...ex,...t?.providers??[]],platformProviders:JA}}function YA(){zu.makeCurrent()}function ZA(){return new mn}function XA(){return ag(document),document}var JA=[{provide:sr,useValue:Jy},{provide:B8,useValue:YA,multi:!0},{provide:Rt,useFactory:XA,deps:[]}];var ex=[{provide:m4,useValue:"root"},{provide:mn,useFactory:ZA,deps:[]},{provide:Su,useClass:qA,multi:!0,deps:[Rt]},{provide:Su,useClass:KA,multi:!0,deps:[Rt]},nv,ov,sv,{provide:hi,useExisting:nv},{provide:F4,useClass:OA,deps:[]},[]];var uv=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ae(Rt))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var xu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=ae(tx),i},providedIn:"root"})}return t})(),tx=(()=>{class t extends xu{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case T2.NONE:return r;case T2.HTML:return _n(r,"HTML")?l2(r):$8(this._doc,String(r)).toString();case T2.STYLE:return _n(r,"Style")?l2(r):r;case T2.SCRIPT:if(_n(r,"Script"))return l2(r);throw new $(5200,!1);case T2.URL:return _n(r,"URL")?l2(r):z4(String(r));case T2.RESOURCE_URL:if(_n(r,"ResourceURL"))return l2(r);throw new $(5201,!1);default:throw new $(5202,!1)}}bypassSecurityTrustHtml(n){return gg(n)}bypassSecurityTrustStyle(n){return yg(n)}bypassSecurityTrustScript(n){return vg(n)}bypassSecurityTrustUrl(n){return Cg(n)}bypassSecurityTrustResourceUrl(n){return Mg(n)}static \u0275fac=function(r){return new(r||t)(ae(Rt))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ue="primary",xo=Symbol("RouteTitle"),Ou=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Si(t){return new Ou(t)}function nx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function rx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!K2(t[n],e[n]))return!1;return!0}function K2(t,e){let n=t?Fu(t):void 0,r=e?Fu(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Cv(t[i],e[i]))return!1;return!0}function Fu(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Cv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Mv(t){return t.length>0?t[t.length-1]:null}function m1(t){return tl(t)?t:u1(t)?Ve(Promise.resolve(t)):oe(t)}var ix={exact:Lv,subset:wv},_v={exact:sx,subset:ox,ignored:()=>!0};function dv(t,e,n){return ix[n.paths](t.root,e.root,n.matrixParams)&&_v[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function sx(t,e){return K2(t,e)}function Lv(t,e,n){if(!ar(t.segments,e.segments)||!$4(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Lv(t.children[r],e.children[r],n))return!1;return!0}function ox(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Cv(t[n],e[n]))}function wv(t,e,n){return bv(t,e,e.segments,n)}function bv(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ar(i,n)||e.hasChildren()||!$4(i,n,r))}else if(t.segments.length===n.length){if(!ar(t.segments,n)||!$4(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!wv(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ar(t.segments,i)||!$4(t.segments,i,r)||!t.children[ue]?!1:bv(t.children[ue],e,s,r)}}function $4(t,e,n){return e.every((r,i)=>_v[n](t[i].parameters,r.parameters))}var Sn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ze([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Si(this.queryParams),this._queryParamMap}toString(){return lx.serialize(this)}},ze=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return q4(this)}},cr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Si(this.parameters),this._parameterMap}toString(){return Iv(this)}};function cx(t,e){return ar(t,e)&&t.every((n,r)=>K2(n.parameters,e[r].parameters))}function ar(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function ax(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ue&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ue&&(n=n.concat(e(i,r)))}),n}var u5=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>new wo,providedIn:"root"})}return t})(),wo=class{parse(e){let n=new Bu(e);return new Sn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${vo(e.root,!0)}`,r=dx(e.queryParams),i=typeof e.fragment=="string"?`#${ux(e.fragment)}`:"";return`${n}${r}${i}`}},lx=new wo;function q4(t){return t.segments.map(e=>Iv(e)).join("/")}function vo(t,e){if(!t.hasChildren())return q4(t);if(e){let n=t.children[ue]?vo(t.children[ue],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ue&&r.push(`${i}:${vo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ax(t,(r,i)=>i===ue?[vo(t.children[ue],!1)]:[`${i}:${vo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ue]!=null?`${q4(t)}/${n[0]}`:`${q4(t)}/(${n.join("//")})`}}function Ev(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function U4(t){return Ev(t).replace(/%3B/gi,";")}function ux(t){return encodeURI(t)}function Vu(t){return Ev(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function G4(t){return decodeURIComponent(t)}function hv(t){return G4(t.replace(/\+/g,"%20"))}function Iv(t){return`${Vu(t.path)}${fx(t.parameters)}`}function fx(t){return Object.entries(t).map(([e,n])=>`;${Vu(e)}=${Vu(n)}`).join("")}function dx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${U4(n)}=${U4(i)}`).join("&"):`${U4(n)}=${U4(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var hx=/^[^\/()?;#]+/;function Nu(t){let e=t.match(hx);return e?e[0]:""}var px=/^[^\/()?;=#]+/;function mx(t){let e=t.match(px);return e?e[0]:""}var gx=/^[^=?&#]+/;function yx(t){let e=t.match(gx);return e?e[0]:""}var vx=/^[^&#]+/;function Cx(t){let e=t.match(vx);return e?e[0]:""}var Bu=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ue]=new ze(e,n)),r}parseSegment(){let e=Nu(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new cr(G4(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=mx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Nu(this.remaining);i&&(r=i,this.capture(r))}e[G4(n)]=G4(r)}parseQueryParam(e){let n=yx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Cx(this.remaining);o&&(r=o,this.capture(r))}let i=hv(n),s=hv(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Nu(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ue]:new ze([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function zv(t){return t.segments.length>0?new ze([],{[ue]:t}):t}function Sv(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Sv(i);if(r===ue&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ze(t.segments,e);return Mx(n)}function Mx(t){if(t.numberOfChildren===1&&t.children[ue]){let e=t.children[ue];return new ze(t.segments.concat(e.segments),e.children)}return t}function lr(t){return t instanceof Sn}function _x(t,e,n=null,r=null){let i=Dv(t);return Tv(i,e,n,r)}function Dv(t){let e;function n(s){let o={};for(let l of s.children){let u=n(l);o[l.outlet]=u}let c=new ze(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=zv(r);return e??i}function Tv(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ku(i,i,i,n,r);let s=Lx(e);if(s.toRoot())return ku(i,i,new ze([],{}),n,r);let o=wx(s,i,t),c=o.processChildren?Mo(o.segmentGroup,o.index,s.commands):xv(o.segmentGroup,o.index,s.commands);return ku(i,o.segmentGroup,c,n,r)}function W4(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function bo(t){return typeof t=="object"&&t!=null&&t.outlets}function ku(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=Av(t,e,n);let c=zv(Sv(o));return new Sn(c,s,i)}function Av(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Av(s,e,n)}),new ze(t.segments,r)}var K4=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&W4(r[0]))throw new $(4003,!1);let i=r.find(bo);if(i&&i!==Mv(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Lx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new K4(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,u])=>{c[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new K4(n,e,r)}var Ei=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function wx(t,e,n){if(t.isAbsolute)return new Ei(e,!0,0);if(!n)return new Ei(e,!1,NaN);if(n.parent===null)return new Ei(n,!0,0);let r=W4(t.commands[0])?0:1,i=n.segments.length-1+r;return bx(n,i,t.numberOfDoubleDots)}function bx(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Ei(r,!1,i-s)}function Ex(t){return bo(t[0])?t[0].outlets:{[ue]:t}}function xv(t,e,n){if(t??=new ze([],{}),t.segments.length===0&&t.hasChildren())return Mo(t,e,n);let r=Ix(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ze(t.segments.slice(0,r.pathIndex),{});return s.children[ue]=new ze(t.segments.slice(r.pathIndex),t.children),Mo(s,0,i)}else return r.match&&i.length===0?new ze(t.segments,{}):r.match&&!t.hasChildren()?ju(t,e,n):r.match?Mo(t,0,i):ju(t,e,n)}function Mo(t,e,n){if(n.length===0)return new ze(t.segments,{});{let r=Ex(n),i={};if(Object.keys(r).some(s=>s!==ue)&&t.children[ue]&&t.numberOfChildren===1&&t.children[ue].segments.length===0){let s=Mo(t.children[ue],e,n);return new ze(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=xv(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ze(t.segments,i)}}function Ix(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(bo(c))break;let l=`${c}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!mv(l,u,o))return s;r+=2}else{if(!mv(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ju(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(bo(s)){let l=zx(s.outlets);return new ze(r,l)}if(i===0&&W4(n[0])){let l=t.segments[e];r.push(new cr(l.path,pv(n[0]))),i++;continue}let o=bo(s)?s.outlets[ue]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&W4(c)?(r.push(new cr(o,pv(c))),i+=2):(r.push(new cr(o,{})),i++)}return new ze(r,{})}function zx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ju(new ze([],{}),0,r))}),e}function pv(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function mv(t,e,n){return t==n.path&&K2(e,n.parameters)}var _o="imperative",vt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(vt||{}),g2=class{id;url;constructor(e,n){this.id=e,this.url=n}},Eo=class extends g2{type=vt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},p1=class extends g2{urlAfterRedirects;type=vt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},e2=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(e2||{}),Uu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Uu||{}),zn=class extends g2{reason;code;type=vt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ur=class extends g2{reason;code;type=vt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Io=class extends g2{error;target;type=vt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Q4=class extends g2{urlAfterRedirects;state;type=vt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hu=class extends g2{urlAfterRedirects;state;type=vt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$u=class extends g2{urlAfterRedirects;state;shouldActivate;type=vt.GuardsCheckEnd;constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qu=class extends g2{urlAfterRedirects;state;type=vt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gu=class extends g2{urlAfterRedirects;state;type=vt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wu=class{route;type=vt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ku=class{route;type=vt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qu=class{snapshot;type=vt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yu=class{snapshot;type=vt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zu=class{snapshot;type=vt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xu=class{snapshot;type=vt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var zo=class{},Di=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Sx(t,e){return t.providers&&!t._injector&&(t._injector=ou(t.providers,e,`Route: ${t.path}`)),t._injector??e}function A2(t){return t.outlet||ue}function Dx(t,e){let n=t.filter(r=>A2(r)===e);return n.push(...t.filter(r=>A2(r)!==e)),n}function No(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ju=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return No(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new n3(this.rootInjector)}},n3=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ju(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ae(Ht))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Y4=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=e5(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=e5(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=t5(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return t5(e,this._root).map(n=>n.value)}};function e5(t,e){if(t===e.value)return e;for(let n of e.children){let r=e5(t,n);if(r)return r}return null}function t5(t,e){if(t===e.value)return[e];for(let n of e.children){let r=t5(t,n);if(r.length)return r.unshift(e),r}return[]}var Jt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function bi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Z4=class extends Y4{snapshot;constructor(e,n){super(e),this.snapshot=n,f5(this,e)}toString(){return this.snapshot.toString()}};function Nv(t){let e=Tx(t),n=new pt([new cr("",{})]),r=new pt({}),i=new pt({}),s=new pt({}),o=new pt(""),c=new x2(n,r,s,o,i,ue,t,e.root);return c.snapshot=e.root,new Z4(new Jt(c,[]),e)}function Tx(t){let e={},n={},r={},i="",s=new Ii([],e,r,i,n,ue,t,null,{});return new J4("",new Jt(s,[]))}var x2=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,s,o,c,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ce(u=>u[xo]))??oe(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>Si(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>Si(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function X4(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&Rv(i)&&(r.resolve[xo]=i.title),r}var Ii=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[xo]}constructor(e,n,r,i,s,o,c,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Si(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Si(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},J4=class extends Y4{url;constructor(e,n){super(n),this.url=e,f5(this,n)}toString(){return kv(this._root)}};function f5(t,e){e.value._routerState=t,e.children.forEach(n=>f5(t,n))}function kv(t){let e=t.children.length>0?` { ${t.children.map(kv).join(", ")} } `:"";return`${t.value}${e}`}function Ru(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,K2(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),K2(e.params,n.params)||t.paramsSubject.next(n.params),rx(e.url,n.url)||t.urlSubject.next(n.url),K2(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function n5(t,e){let n=K2(t.params,e.params)&&cx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||n5(t.parent,e.parent))}function Rv(t){return typeof t.title=="string"||t.title===null}var Ax=new Y(""),d5=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ue;activateEvents=new Ge;deactivateEvents=new Ge;attachEvents=new Ge;detachEvents=new Ge;routerOutletData=yi(void 0);parentContexts=N(n3);location=N(Ci);changeDetector=N(bn);inputBinder=N(h5,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new r5(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Re({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[S2]})}return t})(),r5=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===x2?this.route:e===n3?this.childContexts:e===Ax?this.outletData:this.parent.get(e,n)}},h5=new Y("");function xx(t,e,n){let r=So(t,e._root,n?n._root:void 0);return new Z4(r,e)}function So(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Nx(t,e,n);return new Jt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>So(t,c)),o}}let r=kx(e.value),i=e.children.map(s=>So(t,s));return new Jt(r,i)}}function Nx(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return So(t,r,i);return So(t,r)})}function kx(t){return new x2(new pt(t.url),new pt(t.params),new pt(t.queryParams),new pt(t.fragment),new pt(t.data),t.outlet,t.component,t)}var Do=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Pv="ngNavigationCancelingError";function e3(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=lr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ov(!1,e2.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ov(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Pv]=!0,n.cancellationCode=e,n}function Rx(t){return Fv(t)&&lr(t.url)}function Fv(t){return!!t&&t[Pv]}var Px=(t,e,n,r)=>ce(i=>(new i5(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),i5=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ru(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=bi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=bi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=bi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=bi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Xu(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Yu(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Ru(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Ru(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},t3=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},zi=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Ox(t,e,n){let r=t._root,i=e?e._root:null;return Co(r,i,n,[r.value])}function Fx(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ai(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Zp(t)?t:e.get(t):r}function Co(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=bi(e);return t.children.forEach(o=>{Vx(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Lo(c,n.getContext(o),i)),i}function Vx(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=Bx(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new t3(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Co(t,e,c?c.children:null,r,i):Co(t,e,n,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new zi(c.outlet.component,o))}else o&&Lo(e,c,i),i.canActivateChecks.push(new t3(r)),s.component?Co(t,null,c?c.children:null,r,i):Co(t,null,n,r,i);return i}function Bx(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ar(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ar(t.url,e.url)||!K2(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!n5(t,e)||!K2(t.queryParams,e.queryParams);case"paramsChange":default:return!n5(t,e)}}function Lo(t,e,n){let r=bi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Lo(o,e.children.getContext(s),n):Lo(o,null,n):Lo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new zi(e.outlet.component,i)):n.canDeactivateChecks.push(new zi(null,i)):n.canDeactivateChecks.push(new zi(null,i))}function ko(t){return typeof t=="function"}function jx(t){return typeof t=="boolean"}function Ux(t){return t&&ko(t.canLoad)}function Hx(t){return t&&ko(t.canActivate)}function $x(t){return t&&ko(t.canActivateChild)}function qx(t){return t&&ko(t.canDeactivate)}function Gx(t){return t&&ko(t.canMatch)}function Vv(t){return t instanceof fn||t?.name==="EmptyError"}var H4=Symbol("INITIAL_VALUE");function Ti(){return L2(t=>Ec(t.map(e=>e.pipe(dn(1),Dc(H4)))).pipe(ce(e=>{for(let n of e)if(n!==!0){if(n===H4)return H4;if(n===!1||Wx(n))return n}return!0}),s2(e=>e!==H4),dn(1)))}function Wx(t){return lr(t)||t instanceof Do}function Kx(t,e){return lt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?oe(ee(F({},n),{guardsResult:!0})):Qx(o,r,i,t).pipe(lt(c=>c&&jx(c)?Yx(r,s,t,e):oe(c)),ce(c=>ee(F({},n),{guardsResult:c})))})}function Qx(t,e,n,r){return Ve(t).pipe(lt(i=>tN(i.component,i.route,n,e,r)),hn(i=>i!==!0,!0))}function Yx(t,e,n,r){return Ve(e).pipe(ei(i=>Jr(Xx(i.route.parent,r),Zx(i.route,r),eN(t,i.path,n),Jx(t,i.route,n))),hn(i=>i!==!0,!0))}function Zx(t,e){return t!==null&&e&&e(new Zu(t)),oe(!0)}function Xx(t,e){return t!==null&&e&&e(new Qu(t)),oe(!0)}function Jx(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return oe(!0);let i=r.map(s=>Ic(()=>{let o=No(e)??n,c=Ai(s,o),l=Hx(c)?c.canActivate(e,t):Nt(o,()=>c(e,t));return m1(l).pipe(hn())}));return oe(i).pipe(Ti())}function eN(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Fx(o)).filter(o=>o!==null).map(o=>Ic(()=>{let c=o.guards.map(l=>{let u=No(o.node)??n,d=Ai(l,u),p=$x(d)?d.canActivateChild(r,t):Nt(u,()=>d(r,t));return m1(p).pipe(hn())});return oe(c).pipe(Ti())}));return oe(s).pipe(Ti())}function tN(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return oe(!0);let o=s.map(c=>{let l=No(e)??i,u=Ai(c,l),d=qx(u)?u.canDeactivate(t,e,n,r):Nt(l,()=>u(t,e,n,r));return m1(d).pipe(hn())});return oe(o).pipe(Ti())}function nN(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return oe(!0);let s=i.map(o=>{let c=Ai(o,t),l=Ux(c)?c.canLoad(e,n):Nt(t,()=>c(e,n));return m1(l)});return oe(s).pipe(Ti(),Bv(r))}function Bv(t){return oc(mt(e=>{if(typeof e!="boolean")throw e3(t,e)}),ce(e=>e===!0))}function rN(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return oe(!0);let s=i.map(o=>{let c=Ai(o,t),l=Gx(c)?c.canMatch(e,n):Nt(t,()=>c(e,n));return m1(l)});return oe(s).pipe(Ti(),Bv(r))}var To=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ao=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function wi(t){return Xr(new To(t))}function iN(t){return Xr(new $(4e3,!1))}function sN(t){return Xr(Ov(!1,e2.GuardRejected))}var s5=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return oe(r);if(i.numberOfChildren>1||!i.children[ue])return iN(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:l,fragment:u,routeConfig:d,url:p,outlet:y,params:g,data:E,title:T}=i,x=Nt(s,()=>c({params:g,data:E,queryParams:l,fragment:u,routeConfig:d,url:p,outlet:y,title:T}));if(x instanceof Sn)throw new Ao(x);n=x}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ao(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Sn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(e,l,r,i)}),new ze(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},o5={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oN(t,e,n,r,i){let s=jv(t,e,n);return s.matched?(r=Sx(e,r),rN(r,e,n,i).pipe(ce(o=>o===!0?s:F({},o5)))):oe(s)}function jv(t,e,n){if(e.path==="**")return cN(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},o5):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||nx)(n,t,e);if(!i)return F({},o5);let s={};Object.entries(i.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function cN(t){return{matched:!0,parameters:t.length>0?Mv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function gv(t,e,n,r){return n.length>0&&uN(t,n,r)?{segmentGroup:new ze(e,lN(r,new ze(n,t.children))),slicedSegments:[]}:n.length===0&&fN(t,n,r)?{segmentGroup:new ze(t.segments,aN(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ze(t.segments,t.children),slicedSegments:n}}function aN(t,e,n,r){let i={};for(let s of n)if(r3(t,e,s)&&!r[A2(s)]){let o=new ze([],{});i[A2(s)]=o}return F(F({},r),i)}function lN(t,e){let n={};n[ue]=e;for(let r of t)if(r.path===""&&A2(r)!==ue){let i=new ze([],{});n[A2(r)]=i}return n}function uN(t,e,n){return n.some(r=>r3(t,e,r)&&A2(r)!==ue)}function fN(t,e,n){return n.some(r=>r3(t,e,r))}function r3(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function dN(t,e,n){return e.length===0&&!t.children[n]}var c5=class{};function hN(t,e,n,r,i,s,o="emptyOnly"){return new a5(t,e,n,r,i,o,s).recognize()}var pN=31,a5=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new s5(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=gv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:n,rootSnapshot:r})=>{let i=new Jt(r,n),s=new J4("",i),o=_x(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ii([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,n).pipe(ce(r=>({children:r,rootSnapshot:n})),Zn(r=>{if(r instanceof Ao)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof To?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ce(o=>o instanceof Jt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ve(s).pipe(ei(o=>{let c=r.children[o],l=Dx(n,o);return this.processSegmentGroup(e,l,c,o,i)}),Sc((o,c)=>(o.push(...c),o)),Xn(null),il(),lt(o=>{if(o===null)return wi(r);let c=Uv(o);return mN(c),oe(c)}))}processSegment(e,n,r,i,s,o,c){return Ve(n).pipe(ei(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,c).pipe(Zn(u=>{if(u instanceof To)return oe(null);throw u}))),hn(l=>!!l),Zn(l=>{if(Vv(l))return dN(r,i,s)?oe(new c5):wi(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,l){return A2(r)!==o&&(o===ue||!r3(i,s,r))?wi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):wi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:l,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:y}=jv(n,i,s);if(!l)return wi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pN&&(this.allowRedirects=!1));let g=new Ii(s,u,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,yv(i),A2(i),i.component??i._loadedComponent??null,i,vv(i)),E=X4(g,c,this.paramsInheritanceStrategy);g.params=Object.freeze(E.params),g.data=Object.freeze(E.data);let T=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,g,e);return this.applyRedirects.lineralizeSegments(i,T).pipe(lt(x=>this.processSegment(e,r,n,x.concat(y),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=oN(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(L2(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(L2(({routes:u})=>{let d=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:g}=l,E=new Ii(y,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,yv(r),A2(r),r.component??r._loadedComponent??null,r,vv(r)),T=X4(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(T.params),E.data=Object.freeze(T.data);let{segmentGroup:x,slicedSegments:j}=gv(n,y,g,u);if(j.length===0&&x.hasChildren())return this.processChildren(d,u,x,E).pipe(ce(Q=>new Jt(E,Q)));if(u.length===0&&j.length===0)return oe(new Jt(E,[]));let G=A2(r)===s;return this.processSegment(d,u,x,j,G?ue:s,!0,E).pipe(ce(Q=>new Jt(E,Q instanceof Jt?[Q]:[])))}))):wi(n)))}getChildConfig(e,n,r){return n.children?oe({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?oe({routes:n._loadedRoutes,injector:n._loadedInjector}):nN(e,n,r,this.urlSerializer).pipe(lt(i=>i?this.configLoader.loadChildren(e,n).pipe(mt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):sN(n))):oe({routes:[],injector:e})}};function mN(t){t.sort((e,n)=>e.value.outlet===ue?-1:n.value.outlet===ue?1:e.value.outlet.localeCompare(n.value.outlet))}function gN(t){let e=t.value.routeConfig;return e&&e.path===""}function Uv(t){let e=[],n=new Set;for(let r of t){if(!gN(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Uv(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!n.has(r))}function yv(t){return t.data||{}}function vv(t){return t.resolve||{}}function yN(t,e,n,r,i,s){return lt(o=>hN(t,e,n,r,o.extractedUrl,i,s).pipe(ce(({state:c,tree:l})=>ee(F({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function vN(t,e){return lt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return oe(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of Hv(l))o.add(u);let c=0;return Ve(o).pipe(ei(l=>s.has(l)?CN(l,r,t,e):(l.data=X4(l,l.parent,t).resolve,oe(void 0))),mt(()=>c++),ti(1),lt(l=>c===o.size?oe(n):Vt))})}function Hv(t){let e=t.children.map(n=>Hv(n)).flat();return[t,...e]}function CN(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Rv(i)&&(s[xo]=i.title),MN(s,t,e,r).pipe(ce(o=>(t._resolvedData=o,t.data=X4(t,t.parent,n).resolve,null)))}function MN(t,e,n,r){let i=Fu(t);if(i.length===0)return oe({});let s={};return Ve(i).pipe(lt(o=>_N(t[o],e,n,r).pipe(hn(),mt(c=>{if(c instanceof Do)throw e3(new wo,c);s[o]=c}))),ti(1),ce(()=>s),Zn(o=>Vv(o)?Vt:Xr(o)))}function _N(t,e,n,r){let i=No(e)??r,s=Ai(t,i),o=s.resolve?s.resolve(e,n):Nt(i,()=>s(e,n));return m1(o)}function Pu(t){return L2(e=>{let n=t(e);return n?Ve(n).pipe(ce(()=>e)):oe(e)})}var $v=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ue);return r}getResolvedTitleForRoute(n){return n.data[xo]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>N(LN),providedIn:"root"})}return t})(),LN=(()=>{class t extends $v{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ae(uv))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),p5=new Y("",{providedIn:"root",factory:()=>({})}),wN=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=De({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Pe(0,"router-outlet")},dependencies:[d5],encapsulation:2})}return t})();function m5(t){let e=t.children&&t.children.map(m5),n=e?ee(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=wN),n}var g5=new Y(""),bN=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(mu);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return oe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=m1(n.loadComponent()).pipe(ce(qv),mt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Hs(()=>{this.componentLoaders.delete(n)})),i=new Kr(r,()=>new at).pipe(Wr());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return oe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=EN(r,this.compiler,n,this.onLoadEndListener).pipe(Hs(()=>{this.childrenLoaders.delete(r)})),o=new Kr(s,()=>new at).pipe(Wr());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function EN(t,e,n,r){return m1(t.loadChildren()).pipe(ce(qv),lt(i=>i instanceof no||Array.isArray(i)?oe(i):Ve(e.compileModuleAsync(i))),ce(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(g5,[],{optional:!0,self:!0}).flat()),{routes:o.map(m5),injector:s}}))}function IN(t){return t&&typeof t=="object"&&"default"in t}function qv(t){return IN(t)?t.default:t}var y5=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>N(zN),providedIn:"root"})}return t})(),zN=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),SN=new Y("");var DN=new Y(""),TN=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new at;transitionAbortSubject=new at;configLoader=N(bN);environmentInjector=N(Ht);destroyRef=N(ir);urlSerializer=N(u5);rootContexts=N(n3);location=N(po);inputBindingEnabled=N(h5,{optional:!0})!==null;titleStrategy=N($v);options=N(p5,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(y5);createViewTransition=N(SN,{optional:!0});navigationErrorHandler=N(DN,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>oe(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Wu(i)),r=i=>this.events.next(new Ku(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ee(F(F({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new pt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:_o,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(s2(s=>s.id!==0),ce(s=>ee(F({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),L2(s=>{let o=!1,c=!1;return oe(s).pipe(L2(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",e2.SupersededByNewNavigation),Vt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ee(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let p="";return this.events.next(new ur(l.id,this.urlSerializer.serialize(l.rawUrl),p,Uu.IgnoredSameUrlNavigation)),l.resolve(!1),Vt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return oe(l).pipe(L2(p=>{let y=this.transitions?.getValue();return this.events.next(new Eo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?Vt:Promise.resolve(p)}),yN(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),mt(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ee(F({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new Q4(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:y,source:g,restoredState:E,extras:T}=l,x=new Eo(p,this.urlSerializer.serialize(y),g,E);this.events.next(x);let j=Nv(this.rootComponentType).snapshot;return this.currentTransition=s=ee(F({},l),{targetSnapshot:j,urlAfterRedirects:y,extras:ee(F({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,oe(s)}else{let p="";return this.events.next(new ur(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Uu.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Vt}}),mt(l=>{let u=new Hu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ce(l=>(this.currentTransition=s=ee(F({},l),{guards:Ox(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Kx(this.environmentInjector,l=>this.events.next(l)),mt(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw e3(this.urlSerializer,l.guardsResult);let u=new $u(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),s2(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",e2.GuardRejected),!1)),Pu(l=>{if(l.guards.canActivateChecks.length)return oe(l).pipe(mt(u=>{let d=new qu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),L2(u=>{let d=!1;return oe(u).pipe(vN(this.paramsInheritanceStrategy,this.environmentInjector),mt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",e2.NoDataFromResolver)}}))}),mt(u=>{let d=new Gu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Pu(l=>{let u=d=>{let p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(mt(y=>{d.component=y}),ce(()=>{})));for(let y of d.children)p.push(...u(y));return p};return Ec(u(l.targetSnapshot.root)).pipe(Xn(null),dn(1))}),Pu(()=>this.afterPreactivation()),L2(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Ve(d).pipe(ce(()=>s)):oe(s)}),ce(l=>{let u=xx(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ee(F({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),mt(()=>{this.events.next(new zo)}),Px(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),dn(1),mt({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new p1(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),sl(this.transitionAbortSubject.pipe(mt(l=>{throw l}))),Hs(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",e2.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zn(l=>{if(this.destroyed)return s.resolve(!1),Vt;if(c=!0,Fv(l))this.events.next(new zn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),Rx(l)?this.events.next(new Di(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Io(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let d=Nt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Do){let{message:p,cancellationCode:y}=e3(this.urlSerializer,d);this.events.next(new zn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,y)),this.events.next(new Di(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(u),l}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Vt}))}))}cancelNavigationTransition(n,r,i){let s=new zn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function AN(t){return t!==_o}var xN=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>N(NN),providedIn:"root"})}return t})(),l5=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},NN=(()=>{class t extends l5{static \u0275fac=(()=>{let n;return function(i){return(n||(n=D2(t)))(i||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Gv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>N(kN),providedIn:"root"})}return t})(),kN=(()=>{class t extends Gv{location=N(po);urlSerializer=N(u5);options=N(p5,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=N(y5);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Sn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Nv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Eo)this.stateMemento=this.createStateMemento();else if(n instanceof ur)this.rawUrlTree=r.initialUrl;else if(n instanceof Q4){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof zo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof zn&&(n.code===e2.GuardRejected||n.code===e2.NoDataFromResolver)?this.restoreHistory(r):n instanceof Io?this.restoreHistory(r,!0):n instanceof p1&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Sn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=F(F({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=F(F({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=D2(t)))(i||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function RN(t,e){t.events.pipe(s2(n=>n instanceof p1||n instanceof zn||n instanceof Io||n instanceof ur),ce(n=>n instanceof p1||n instanceof ur?0:(n instanceof zn?n.code===e2.Redirect||n.code===e2.SupersededByNewNavigation:!1)?2:1),s2(n=>n!==2),dn(1)).subscribe(()=>{e()})}var PN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ON={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},N2=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(cu);stateManager=N(Gv);options=N(p5,{optional:!0})||{};pendingTasks=N(a1);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(TN);urlSerializer=N(u5);location=N(po);urlHandlingStrategy=N(y5);_events=new at;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(xN);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(g5,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(h5,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new qe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof zn&&r.code!==e2.Redirect&&r.code!==e2.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof p1)this.navigated=!0;else if(r instanceof Di){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=F({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||AN(i.source)},o);this.scheduleNavigation(c,_o,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}VN(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_o,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=F({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(m5),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=Dv(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return Tv(p,n,d,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=lr(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,_o,null,r)}navigate(n,r={skipLocationChange:!1}){return FN(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=F({},PN):r===!1?i=F({},ON):i=r,lr(n))return dv(this.currentUrlTree,n,i);let s=this.parseUrl(n);return dv(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,l,u;o?(c=o.resolve,l=o.reject,u=o.promise):u=new Promise((p,y)=>{c=p,l=y});let d=this.pendingTasks.add();return RN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function FN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function VN(t){return!(t instanceof zo)&&!(t instanceof Di)}var i3=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new at;constructor(n,r,i,s,o,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof p1&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(lr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:zg(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:lr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(K(N2),K(x2),P8("tabindex"),K(d2),K(Xt),K(Li))};static \u0275dir=Re({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ie("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&f1("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",d1],skipLocationChange:[2,"skipLocationChange","skipLocationChange",d1],replaceUrl:[2,"replaceUrl","replaceUrl",d1],routerLink:"routerLink"},features:[S2]})}return t})();var BN=new Y("");function Wv(t,...e){return o1([{provide:g5,multi:!0,useValue:t},[],{provide:x2,useFactory:jN,deps:[N2]},{provide:lu,multi:!0,useFactory:UN},e.map(n=>n.\u0275providers)])}function jN(t){return t.routerState.root}function UN(){let t=N(ut);return e=>{let n=t.get(i1);if(e!==n.components[0])return;let r=t.get(N2),i=t.get(HN);t.get($N)===1&&r.initialNavigation(),t.get(qN,null,fe.Optional)?.setUpPreloading(),t.get(BN,null,fe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var HN=new Y("",{factory:()=>new at}),$N=new Y("",{providedIn:"root",factory:()=>1});var qN=new Y("");var Kv=()=>{};var Yv=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GN=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},s3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,p=(s&3)<<4|c>>4,y=(c&15)<<2|u>>6,g=u&63;l||(g=64,o||(y=64)),r.push(n[d],n[p],n[y],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||u==null||p==null)throw new C5;let y=s<<2|c>>4;if(r.push(y),u!==64){let g=c<<4&240|u>>2;if(r.push(g),p!==64){let E=u<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},C5=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},WN=function(t){let e=Yv(t);return s3.encodeByteArray(e,!0)},Ro=function(t){return WN(t).replace(/\./g,"")},o3=function(t){try{return s3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var KN=()=>Zv().__FIREBASE_DEFAULTS__,QN=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&o3(t[1]);return e&&JSON.parse(e)},c3=()=>{try{return Kv()||KN()||QN()||YN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xv=t=>{var e,n;return(n=(e=c3())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Jv=t=>{let e=Xv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_5=()=>{var t;return(t=c3())===null||t===void 0?void 0:t.config},eC=t=>{var e;return(e=c3())===null||e===void 0?void 0:e[`_${t}`]};var fr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function tC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ro(JSON.stringify(n)),Ro(JSON.stringify(o)),""].join(".")}function t2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(t2())}function ZN(){var t;let e=(t=c3())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oC(){return!ZN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Po(){try{return typeof indexedDB=="object"}catch{return!1}}function cC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var XN="FirebaseError",y2=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XN,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k2.prototype.create)}},k2=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?JN(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new y2(i,c,r)}};function JN(t,e){return t.replace(ek,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ek=/\{\$([^}]+)}/g;function dr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Qv(s)&&Qv(o)){if(!dr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Qv(t){return t!==null&&typeof t=="object"}function L5(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aC(t,e){let n=new M5(t,e);return n.subscribe.bind(n)}var M5=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=v5),i.error===void 0&&(i.error=v5),i.complete===void 0&&(i.complete=v5);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function tk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function v5(){}var UY=4*60*60*1e3;function Qt(t){return t&&t._delegate?t._delegate:t}var Pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var hr="[DEFAULT]";var w5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new fr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rk(e))try{this.getOrInitializeService({instanceIdentifier:hr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=hr){return this.instances.has(e)}getOptions(e=hr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hr){return this.component?this.component.multipleInstances?e:hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nk(t){return t===hr?void 0:t}function rk(t){return t.instantiationMode==="EAGER"}var a3=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new w5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ik=[],he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{}),sk={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},ok=he.INFO,ck={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},ak=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=ck[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Q2=class{constructor(e){this.name=e,this._logLevel=ok,this._logHandler=ak,this._userLogHandler=null,ik.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var lk=(t,e)=>e.some(n=>t instanceof n),lC,uC;function uk(){return lC||(lC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fk(){return uC||(uC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var fC=new WeakMap,E5=new WeakMap,dC=new WeakMap,b5=new WeakMap,z5=new WeakMap;function dk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Y2(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fC.set(n,t)}).catch(()=>{}),z5.set(e,t),e}function hk(t){if(E5.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});E5.set(t,e)}var I5={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return E5.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Y2(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hC(t){I5=t(I5)}function pk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(l3(this),e,...n);return dC.set(r,e.sort?e.sort():[e]),Y2(r)}:fk().includes(t)?function(...e){return t.apply(l3(this),e),Y2(fC.get(this))}:function(...e){return Y2(t.apply(l3(this),e))}}function mk(t){return typeof t=="function"?pk(t):(t instanceof IDBTransaction&&hk(t),lk(t,uk())?new Proxy(t,I5):t)}function Y2(t){if(t instanceof IDBRequest)return dk(t);if(b5.has(t))return b5.get(t);let e=mk(t);return e!==t&&(b5.set(t,e),z5.set(e,t)),e}var l3=t=>z5.get(t);function mC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=Y2(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Y2(o.result),l.oldVersion,l.newVersion,Y2(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var gk=["get","getKey","getAll","getAllKeys","count"],yk=["put","add","delete","clear"],S5=new Map;function pC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(S5.get(e))return S5.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=yk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gk.includes(n)))return;let s=function(o,...c){return I(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]})};return S5.set(e,s),s}hC(t=>ee(F({},t),{get:(e,n,r)=>pC(e,n)||t.get(e,n,r),has:(e,n)=>!!pC(e,n)||t.has(e,n)}));var T5=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function vk(t){let e=t.getComponent();return e?.type==="VERSION"}var A5="@firebase/app",gC="0.11.2";var Dn=new Q2("@firebase/app"),Ck="@firebase/app-compat",Mk="@firebase/analytics-compat",_k="@firebase/analytics",Lk="@firebase/app-check-compat",wk="@firebase/app-check",bk="@firebase/auth",Ek="@firebase/auth-compat",Ik="@firebase/database",zk="@firebase/data-connect",Sk="@firebase/database-compat",Dk="@firebase/functions",Tk="@firebase/functions-compat",Ak="@firebase/installations",xk="@firebase/installations-compat",Nk="@firebase/messaging",kk="@firebase/messaging-compat",Rk="@firebase/performance",Pk="@firebase/performance-compat",Ok="@firebase/remote-config",Fk="@firebase/remote-config-compat",Vk="@firebase/storage",Bk="@firebase/storage-compat",jk="@firebase/firestore",Uk="@firebase/vertexai",Hk="@firebase/firestore-compat",$k="firebase",qk="11.4.0";var x5="[DEFAULT]",Gk={[A5]:"fire-core",[Ck]:"fire-core-compat",[_k]:"fire-analytics",[Mk]:"fire-analytics-compat",[wk]:"fire-app-check",[Lk]:"fire-app-check-compat",[bk]:"fire-auth",[Ek]:"fire-auth-compat",[Ik]:"fire-rtdb",[zk]:"fire-data-connect",[Sk]:"fire-rtdb-compat",[Dk]:"fire-fn",[Tk]:"fire-fn-compat",[Ak]:"fire-iid",[xk]:"fire-iid-compat",[Nk]:"fire-fcm",[kk]:"fire-fcm-compat",[Rk]:"fire-perf",[Pk]:"fire-perf-compat",[Ok]:"fire-rc",[Fk]:"fire-rc-compat",[Vk]:"fire-gcs",[Bk]:"fire-gcs-compat",[jk]:"fire-fst",[Hk]:"fire-fst-compat",[Uk]:"fire-vertex","fire-js":"fire-js",[$k]:"fire-js-all"};var Oo=new Map,Wk=new Map,N5=new Map;function yC(t,e){try{t.container.addComponent(e)}catch(n){Dn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function R2(t){let e=t.name;if(N5.has(e))return Dn.debug(`There were multiple attempts to register component ${e}.`),!1;N5.set(e,t);for(let n of Oo.values())yC(n,t);for(let n of Wk.values())yC(n,t);return!0}function u3(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Tn(t){return t==null?!1:t.settings!==void 0}var Kk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},g1=new k2("app","Firebase",Kk);var k5=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw g1.create("app-deleted",{appName:this._name})}};var xi=qk;function O5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:x5,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw g1.create("bad-app-name",{appName:String(i)});if(n||(n=_5()),!n)throw g1.create("no-options");let s=Oo.get(i);if(s){if(dr(n,s.options)&&dr(r,s.config))return s;throw g1.create("duplicate-app",{appName:i})}let o=new a3(i);for(let l of N5.values())o.addComponent(l);let c=new k5(n,r,o);return Oo.set(i,c),c}function Ni(t=x5){let e=Oo.get(t);if(!e&&t===x5&&_5())return O5();if(!e)throw g1.create("no-app",{appName:t});return e}function f3(){return Array.from(Oo.values())}function Xe(t,e,n){var r;let i=(r=Gk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dn.warn(c.join(" "));return}R2(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Qk="firebase-heartbeat-database",Yk=1,Fo="firebase-heartbeat-store",D5=null;function _C(){return D5||(D5=mC(Qk,Yk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fo)}catch(n){console.warn(n)}}}}).catch(t=>{throw g1.create("idb-open",{originalErrorMessage:t.message})})),D5}function Zk(t){return I(this,null,function*(){try{let n=(yield _C()).transaction(Fo),r=yield n.objectStore(Fo).get(LC(t));return yield n.done,r}catch(e){if(e instanceof y2)Dn.warn(e.message);else{let n=g1.create("idb-get",{originalErrorMessage:e?.message});Dn.warn(n.message)}}})}function vC(t,e){return I(this,null,function*(){try{let r=(yield _C()).transaction(Fo,"readwrite");yield r.objectStore(Fo).put(e,LC(t)),yield r.done}catch(n){if(n instanceof y2)Dn.warn(n.message);else{let r=g1.create("idb-set",{originalErrorMessage:n?.message});Dn.warn(r.message)}}})}function LC(t){return`${t.name}!${t.options.appId}`}var Xk=1024,Jk=30,R5=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new P5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=CC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Jk){let o=tR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Dn.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=CC(),{heartbeatsToSend:r,unsentEntries:i}=eR(this._heartbeatsCache.heartbeats),s=Ro(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Dn.warn(n),""}})}};function CC(){return new Date().toISOString().substring(0,10)}function eR(t,e=Xk){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),MC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var P5=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Po()?cC().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Zk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function MC(t){return Ro(JSON.stringify({version:2,heartbeats:t})).length}function tR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function nR(t){R2(new Pt("platform-logger",e=>new T5(e),"PRIVATE")),R2(new Pt("heartbeat",e=>new R5(e),"PRIVATE")),Xe(A5,gC,t),Xe(A5,gC,"esm2017"),Xe("fire-js","")}nR("");var rR="firebase",iR="11.4.0";Xe(rR,iR,"app");function F5(t){t===void 0&&(g4(F5),t=N(ut));let e=t.get(w4);return n=>new le(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let c=n.subscribe({next:l=>{r.next(l),o()},complete:()=>{r.complete(),o()},error:l=>{r.error(l),o()}});return c.add(()=>{r.unsubscribe(),o()}),c})}var mr=new vn("ANGULARFIRE2_VERSION");function h3(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ri=(t,e)=>{let n=e?[e]:f3(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ki=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(ki||{}),wC=yu()&&typeof Zone<"u"?ki.WARN:ki.SILENT;var d3=class{zone;delegate;constructor(e,n=J6){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,n,r)}},gr=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=N(Ae);this.outsideAngular=n.runOutsideAngular(()=>new d3(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new d3(typeof Zone>"u"?void 0:Zone.current,X6))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bC=!1;function sR(t,e){!bC&&(wC>ki.SILENT||yu())&&(bC=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),wC>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function oR(t){let e=N(Ae,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function pr(t){let e=N(Ae,{optional:!0});return e?e.run(()=>t()):t()}var cR=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Nt(n,()=>pr(()=>t.apply(void 0,r)))),Ot=(t,e,n)=>(n||=e?ki.WARN:ki.VERBOSE,function(){let r,i=arguments,s,o,c;try{s=N(gr),o=N(w4),c=N(Ht)}catch{return sR(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=pr(()=>o.add())),i[u]=cR(i[u],r,c));let l=oR(()=>t.apply(this,i));return e?l instanceof le?l.pipe(Yn(s.outsideAngular),Qn(s.insideAngular),F5(c)):l instanceof Promise?pr(()=>new Promise((u,d)=>{o.run(()=>l).then(p=>Nt(c,()=>pr(()=>u(p))),p=>Nt(c,()=>pr(()=>d(p))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:pr(()=>l):l instanceof le?l.pipe(Yn(s.outsideAngular),Qn(s.insideAngular)):pr(()=>l)});var yr=class{constructor(e){return e}},Vo=class{constructor(){return f3()}};function aR(t){return t&&t.length===1?t[0]:new yr(Ni())}var V5=new Y("angularfire2._apps"),lR={provide:yr,useFactory:aR,deps:[[new G2,V5]]},uR={provide:Vo,deps:[[new G2,V5]]};function fR(t){return(e,n)=>{let r=n.get(sr);Xe("angularfire",mr.full,"core"),Xe("angularfire",mr.full,"app"),Xe("angular",Ny.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new yr(i)}}function EC(t,...e){return o1([lR,uR,{provide:V5,useFactory:fR(t),multi:!0,deps:[Ae,ut,gr,...e]}])}var IC=Ot(O5,!0);var dR=new Map,hR={activated:!1,tokenObservers:[]},pR={initialized:!1,enabled:!1};function P2(t){return dR.get(t)||Object.assign({},hR)}function TC(){return pR}var mR="https://content-firebaseappcheck.googleapis.com/v1";var gR="exchangeDebugToken",zC={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},qZ=24*60*60*1e3;var U5=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return I(this,null,function*(){this.stop();try{this.pending=new fr,this.pending.promise.catch(n=>{}),yield yR(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new fr,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function yR(t){return new Promise(e=>{setTimeout(e,t)})}var vR={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},y1=new k2("appCheck","AppCheck",vR);function AC(t){if(!P2(t).activated)throw y1.create("use-before-activation",{appName:t.name})}function xC(r,i){return I(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let g=yield o.getHeartbeatsHeader();g&&(s["X-Firebase-Client"]=g)}let c={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(t,c)}catch(g){throw y1.create("fetch-network-error",{originalErrorMessage:g?.message})}if(l.status!==200)throw y1.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(g){throw y1.create("fetch-parse-error",{originalErrorMessage:g?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw y1.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(d[1])*1e3,y=Date.now();return{token:u.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function NC(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${mR}/projects/${n}/apps/${r}:${gR}?key=${i}`,body:{debug_token:e}}}var CR="firebase-app-check-database",MR=1,H5="firebase-app-check-store";var p3=null;function _R(){return p3||(p3=new Promise((t,e)=>{try{let n=indexedDB.open(CR,MR);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(y1.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(H5,{keyPath:"compositeKey"})}}}catch(n){e(y1.create("storage-open",{originalErrorMessage:n?.message}))}}),p3)}function LR(t,e){return wR(bR(t),e)}function wR(t,e){return I(this,null,function*(){let r=(yield _R()).transaction(H5,"readwrite"),s=r.objectStore(H5).put({compositeKey:t,value:e});return new Promise((o,c)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;c(y1.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function bR(t){return`${t.options.appId}-${t.name}`}var Bo=new Q2("@firebase/app-check");function B5(t,e){return Po()?LR(t,e).catch(n=>{Bo.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function kC(){return TC().enabled}function RC(){return I(this,null,function*(){let t=TC();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var ER={error:"UNKNOWN_ERROR"};function IR(t){return s3.encodeString(JSON.stringify(t),!1)}function $5(t,e=!1){return I(this,null,function*(){let n=t.app;AC(n);let r=P2(n),i=r.token,s;if(i&&!jo(i)&&(r.token=void 0,i=void 0),!i){let l=yield r.cachedTokenPromise;l&&(jo(l)?i=l:yield B5(n,void 0))}if(!e&&i&&jo(i))return{token:i.token};let o=!1;if(kC())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=xC(NC(n,yield RC()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let l=yield r.exchangeTokenPromise;return yield B5(n,l),r.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"?Bo.warn(l.message):Bo.error(l),j5(l)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield P2(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Bo.warn(l.message):Bo.error(l),s=l}let c;return i?s?jo(i)?c={token:i.token,internalError:s}:c=j5(s):(c={token:i.token},r.token=i,yield B5(n,i)):c=j5(s),o&&TR(n,c),c})}function zR(t){return I(this,null,function*(){let e=t.app;AC(e);let{provider:n}=P2(e);if(kC()){let r=yield RC(),{token:i}=yield xC(NC(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function SR(t,e,n,r){let{app:i}=t,s=P2(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&jo(s.token)){let c=s.token;Promise.resolve().then(()=>{n({token:c.token}),SC(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>SC(t))}function PC(t,e){let n=P2(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function SC(t){let{app:e}=t,n=P2(e),r=n.tokenRefresher;r||(r=DR(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function DR(t){let{app:e}=t;return new U5(()=>I(this,null,function*(){let n=P2(e),r;if(n.token?r=yield $5(t,!0):r=yield $5(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=P2(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},zC.RETRIAL_MIN_WAIT,zC.RETRIAL_MAX_WAIT)}function TR(t,e){let n=P2(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function jo(t){return t.expireTimeMillis-Date.now()>0}function j5(t){return{token:IR(ER),error:t}}var q5=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=P2(this.app);for(let n of e)PC(this.app,n.next);return Promise.resolve()}};function AR(t,e){return new q5(t,e)}function xR(t){return{getToken:e=>$5(t,e),getLimitedUseToken:()=>zR(t),addTokenListener:e=>SR(t,"INTERNAL",e),removeTokenListener:e=>PC(t.app,e)}}var NR="@firebase/app-check",kR="0.8.12";var RR="app-check",DC="app-check-internal";function PR(){R2(new Pt(RR,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return AR(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(DC).initialize()})),R2(new Pt(DC,t=>{let e=t.getProvider("app-check").getImmediate();return xR(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Xe(NR,kR)}PR();var OR="app-check";var m3=class{constructor(){return Ri(OR)}};var FR=["localhost","0.0.0.0","127.0.0.1"],iX=typeof window<"u"&&FR.includes(window.location.hostname);function $C(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qC=$C,GC=new k2("auth","Firebase",$C());var C3=new Q2("@firebase/auth");function BR(t,...e){C3.logLevel<=he.WARN&&C3.warn(`Auth (${xi}): ${t}`,...e)}function y3(t,...e){C3.logLevel<=he.ERROR&&C3.error(`Auth (${xi}): ${t}`,...e)}function OC(t,...e){throw r7(t,...e)}function n7(t,...e){return r7(t,...e)}function WC(t,e,n){let r=Object.assign(Object.assign({},qC()),{[e]:n});return new k2("auth","Firebase",r).create(e,{appName:t.name})}function v3(t){return WC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function r7(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GC.create(t,...e)}function Ee(t,e,...n){if(!t)throw r7(e,...n)}function Uo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw y3(e),new Error(e)}function M3(t,e){t||Uo(e)}function jR(){return FC()==="http:"||FC()==="https:"}function FC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function UR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jR()||iC()||"connection"in navigator)?navigator.onLine:!0}function HR(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Cr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,M3(n>e,"Short delay should be less than long delay!"),this.isMobile=nC()||sC()}get(){return UR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $R(t,e){M3(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var _3=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var qR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var GR=new Cr(3e4,6e4);function KC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function E3(s,o,c,l){return I(this,arguments,function*(t,e,n,r,i={}){return QC(t,i,()=>I(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let p=L5(Object.assign({key:t.config.apiKey},d)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let g=Object.assign({method:e,headers:y},u);return rC()||(g.referrerPolicy="no-referrer"),_3.fetch()(YC(t,t.config.apiHost,n,p),g)}))})}function QC(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},qR),e);try{let i=new K5(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw g3(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw g3(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw g3(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw g3(t,"user-disabled",o);let d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WC(t,d,u);OC(t,d)}}catch(i){if(i instanceof y2)throw i;OC(t,"network-request-failed",{message:String(i)})}})}function YC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?$R(t.config,i):`${t.config.apiScheme}://${i}`}var K5=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(n7(this.auth,"network-request-failed")),GR.get())})}};function g3(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=n7(t,e,r);return i.customData._tokenResponse=n,i}function WR(t,e){return I(this,null,function*(){return E3(t,"POST","/v1/accounts:delete",e)})}function ZC(t,e){return I(this,null,function*(){return E3(t,"POST","/v1/accounts:lookup",e)})}function Ho(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function i7(t,e=!1){return I(this,null,function*(){let n=Qt(t),r=yield n.getIdToken(e),i=XC(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ho(G5(i.auth_time)),issuedAtTime:Ho(G5(i.iat)),expirationTime:Ho(G5(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function G5(t){return Number(t)*1e3}function XC(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return y3("JWT malformed, contained fewer than 3 sections"),null;try{let i=o3(n);return i?JSON.parse(i):(y3("Failed to decode base64 JWT payload"),null)}catch(i){return y3("Caught error parsing JWT payload as JSON",i?.toString()),null}}function VC(t){let e=XC(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Q5(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof y2&&KR(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function KR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Y5=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var qo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ho(this.lastLoginAt),this.creationTime=Ho(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function L3(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Q5(t,ZC(n,{idToken:r}));Ee(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?JC(s.providerUserInfo):[],c=QR(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!c?.length,d=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new qo(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)})}function s7(t){return I(this,null,function*(){let e=Qt(t);yield L3(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function QR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JC(t){return t.map(e=>{var{providerId:n}=e,r=el(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function YR(t,e){return I(this,null,function*(){let n=yield QC(t,{},()=>I(this,null,function*(){let r=L5({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YC(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",_3.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function ZR(t,e){return I(this,null,function*(){return E3(t,"POST","/v2/accounts:revokeToken",KC(t,e))})}var $o=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let n=VC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield YR(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Uo("not implemented")}};function v1(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Go=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=el(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield Q5(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return i7(this,e)}reload(){return s7(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield L3(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Tn(this.auth.app))return Promise.reject(v3(this.auth));let e=yield this.getIdToken();return yield Q5(this,WR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,l,u,d;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(c=n.tenantId)!==null&&c!==void 0?c:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,j=(u=n.createdAt)!==null&&u!==void 0?u:void 0,G=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Q,emailVerified:Le,isAnonymous:He,providerData:be,stsTokenManager:L}=n;Ee(Q&&L,e,"internal-error");let v=$o.fromJSON(this.name,L);Ee(typeof Q=="string",e,"internal-error"),v1(p,e.name),v1(y,e.name),Ee(typeof Le=="boolean",e,"internal-error"),Ee(typeof He=="boolean",e,"internal-error"),v1(g,e.name),v1(E,e.name),v1(T,e.name),v1(x,e.name),v1(j,e.name),v1(G,e.name);let M=new t({uid:Q,auth:e,email:y,emailVerified:Le,displayName:p,isAnonymous:He,photoURL:E,phoneNumber:g,tenantId:T,stsTokenManager:v,createdAt:j,lastLoginAt:G});return be&&Array.isArray(be)&&(M.providerData=be.map(_=>Object.assign({},_))),x&&(M._redirectEventId=x),M}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new $o;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield L3(s),s})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];Ee(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?JC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new $o;c.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,u),l})}};var BC=new Map;function vr(t){M3(t instanceof Function,"Expected a class definition");let e=BC.get(t);return e?(M3(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BC.set(t,e),e)}var XR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Z5=XR;function W5(t,e,n){return`firebase:${t}:${e}:${n}`}var w3=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=W5(this.userKey,i.apiKey,s),this.fullPersistenceKey=W5("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Go._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(vr(Z5),e,r);let i=(yield Promise.all(n.map(u=>I(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||vr(Z5),o=W5(r,e.config.apiKey,e.name),c=null;for(let u of n)try{let d=yield u._get(o);if(d){let p=Go._fromJSON(e,d);u!==s&&(c=p),s=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(u=>I(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function jC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iP(e))return"Blackberry";if(sP(e))return"Webos";if(eP(e))return"Safari";if((e.includes("chrome/")||tP(e))&&!e.includes("edge/"))return"Chrome";if(rP(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function JR(t=t2()){return/firefox\//i.test(t)}function eP(t=t2()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tP(t=t2()){return/crios\//i.test(t)}function nP(t=t2()){return/iemobile/i.test(t)}function rP(t=t2()){return/android/i.test(t)}function iP(t=t2()){return/blackberry/i.test(t)}function sP(t=t2()){return/webos/i.test(t)}function eM(t,e=[]){let n;switch(t){case"Browser":n=jC(t2());break;case"Worker":n=`${jC(t2())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xi}/${r}`}var X5=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let l=e(s);o(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function oP(n){return I(this,arguments,function*(t,e={}){return E3(t,"GET","/v2/passwordPolicy",KC(t,e))})}var cP=6,J5=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:cP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var e7=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b3(this),this.idTokenSubscription=new b3(this),this.beforeStateQueue=new X5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vr(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield w3.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield ZC(this,{idToken:e}),r=yield Go._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(Tn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield L3(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=HR()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Tn(this.app))return Promise.reject(v3(this));let n=e?Qt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Tn(this.app)?Promise.reject(v3(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Tn(this.app)?Promise.reject(v3(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(vr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield oP(this),n=new J5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new k2("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield ZR(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&vr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=yield w3.create(this,[vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;if(Tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&BR(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function aP(t){return Qt(t)}var b3=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=aC(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var lP={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uP(t){lP=t}function fP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function dP(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var gX=fP("rcb"),yX=new Cr(3e4,6e4);var vX=new Cr(2e3,1e4);var CX=10*60*1e3;var MX=new Cr(3e4,6e4);var _X=new Cr(5e3,15e3);var LX=encodeURIComponent("fac");var UC="@firebase/auth",HC="1.9.1";var t7=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function hP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pP(t){R2(new Pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eM(t)},u=new e7(r,i,s,l);return dP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),R2(new Pt("auth-internal",e=>{let n=aP(e.getProvider("auth").getImmediate());return(r=>new t7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xe(UC,HC,hP(t)),Xe(UC,HC,"esm2017")}var mP=5*60,wX=eC("authIdTokenMaxAge")||mP;function gP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uP({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=n7("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pP("Browser");var pO="auth";var I3=class{constructor(){return Ri(pO)}};var tM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nM={};var An,o7;(function(){var t;function e(L,v){function M(){}M.prototype=v.prototype,L.D=v.prototype,L.prototype=new M,L.prototype.constructor=L,L.C=function(_,w,z){for(var C=Array(arguments.length-2),an=2;an<arguments.length;an++)C[an-2]=arguments[an];return v.prototype[w].apply(_,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,v,M){M||(M=0);var _=Array(16);if(typeof v=="string")for(var w=0;16>w;++w)_[w]=v.charCodeAt(M++)|v.charCodeAt(M++)<<8|v.charCodeAt(M++)<<16|v.charCodeAt(M++)<<24;else for(w=0;16>w;++w)_[w]=v[M++]|v[M++]<<8|v[M++]<<16|v[M++]<<24;v=L.g[0],M=L.g[1],w=L.g[2];var z=L.g[3],C=v+(z^M&(w^z))+_[0]+3614090360&4294967295;v=M+(C<<7&4294967295|C>>>25),C=z+(w^v&(M^w))+_[1]+3905402710&4294967295,z=v+(C<<12&4294967295|C>>>20),C=w+(M^z&(v^M))+_[2]+606105819&4294967295,w=z+(C<<17&4294967295|C>>>15),C=M+(v^w&(z^v))+_[3]+3250441966&4294967295,M=w+(C<<22&4294967295|C>>>10),C=v+(z^M&(w^z))+_[4]+4118548399&4294967295,v=M+(C<<7&4294967295|C>>>25),C=z+(w^v&(M^w))+_[5]+1200080426&4294967295,z=v+(C<<12&4294967295|C>>>20),C=w+(M^z&(v^M))+_[6]+2821735955&4294967295,w=z+(C<<17&4294967295|C>>>15),C=M+(v^w&(z^v))+_[7]+4249261313&4294967295,M=w+(C<<22&4294967295|C>>>10),C=v+(z^M&(w^z))+_[8]+1770035416&4294967295,v=M+(C<<7&4294967295|C>>>25),C=z+(w^v&(M^w))+_[9]+2336552879&4294967295,z=v+(C<<12&4294967295|C>>>20),C=w+(M^z&(v^M))+_[10]+4294925233&4294967295,w=z+(C<<17&4294967295|C>>>15),C=M+(v^w&(z^v))+_[11]+2304563134&4294967295,M=w+(C<<22&4294967295|C>>>10),C=v+(z^M&(w^z))+_[12]+1804603682&4294967295,v=M+(C<<7&4294967295|C>>>25),C=z+(w^v&(M^w))+_[13]+4254626195&4294967295,z=v+(C<<12&4294967295|C>>>20),C=w+(M^z&(v^M))+_[14]+2792965006&4294967295,w=z+(C<<17&4294967295|C>>>15),C=M+(v^w&(z^v))+_[15]+1236535329&4294967295,M=w+(C<<22&4294967295|C>>>10),C=v+(w^z&(M^w))+_[1]+4129170786&4294967295,v=M+(C<<5&4294967295|C>>>27),C=z+(M^w&(v^M))+_[6]+3225465664&4294967295,z=v+(C<<9&4294967295|C>>>23),C=w+(v^M&(z^v))+_[11]+643717713&4294967295,w=z+(C<<14&4294967295|C>>>18),C=M+(z^v&(w^z))+_[0]+3921069994&4294967295,M=w+(C<<20&4294967295|C>>>12),C=v+(w^z&(M^w))+_[5]+3593408605&4294967295,v=M+(C<<5&4294967295|C>>>27),C=z+(M^w&(v^M))+_[10]+38016083&4294967295,z=v+(C<<9&4294967295|C>>>23),C=w+(v^M&(z^v))+_[15]+3634488961&4294967295,w=z+(C<<14&4294967295|C>>>18),C=M+(z^v&(w^z))+_[4]+3889429448&4294967295,M=w+(C<<20&4294967295|C>>>12),C=v+(w^z&(M^w))+_[9]+568446438&4294967295,v=M+(C<<5&4294967295|C>>>27),C=z+(M^w&(v^M))+_[14]+3275163606&4294967295,z=v+(C<<9&4294967295|C>>>23),C=w+(v^M&(z^v))+_[3]+4107603335&4294967295,w=z+(C<<14&4294967295|C>>>18),C=M+(z^v&(w^z))+_[8]+1163531501&4294967295,M=w+(C<<20&4294967295|C>>>12),C=v+(w^z&(M^w))+_[13]+2850285829&4294967295,v=M+(C<<5&4294967295|C>>>27),C=z+(M^w&(v^M))+_[2]+4243563512&4294967295,z=v+(C<<9&4294967295|C>>>23),C=w+(v^M&(z^v))+_[7]+1735328473&4294967295,w=z+(C<<14&4294967295|C>>>18),C=M+(z^v&(w^z))+_[12]+2368359562&4294967295,M=w+(C<<20&4294967295|C>>>12),C=v+(M^w^z)+_[5]+4294588738&4294967295,v=M+(C<<4&4294967295|C>>>28),C=z+(v^M^w)+_[8]+2272392833&4294967295,z=v+(C<<11&4294967295|C>>>21),C=w+(z^v^M)+_[11]+1839030562&4294967295,w=z+(C<<16&4294967295|C>>>16),C=M+(w^z^v)+_[14]+4259657740&4294967295,M=w+(C<<23&4294967295|C>>>9),C=v+(M^w^z)+_[1]+2763975236&4294967295,v=M+(C<<4&4294967295|C>>>28),C=z+(v^M^w)+_[4]+1272893353&4294967295,z=v+(C<<11&4294967295|C>>>21),C=w+(z^v^M)+_[7]+4139469664&4294967295,w=z+(C<<16&4294967295|C>>>16),C=M+(w^z^v)+_[10]+3200236656&4294967295,M=w+(C<<23&4294967295|C>>>9),C=v+(M^w^z)+_[13]+681279174&4294967295,v=M+(C<<4&4294967295|C>>>28),C=z+(v^M^w)+_[0]+3936430074&4294967295,z=v+(C<<11&4294967295|C>>>21),C=w+(z^v^M)+_[3]+3572445317&4294967295,w=z+(C<<16&4294967295|C>>>16),C=M+(w^z^v)+_[6]+76029189&4294967295,M=w+(C<<23&4294967295|C>>>9),C=v+(M^w^z)+_[9]+3654602809&4294967295,v=M+(C<<4&4294967295|C>>>28),C=z+(v^M^w)+_[12]+3873151461&4294967295,z=v+(C<<11&4294967295|C>>>21),C=w+(z^v^M)+_[15]+530742520&4294967295,w=z+(C<<16&4294967295|C>>>16),C=M+(w^z^v)+_[2]+3299628645&4294967295,M=w+(C<<23&4294967295|C>>>9),C=v+(w^(M|~z))+_[0]+4096336452&4294967295,v=M+(C<<6&4294967295|C>>>26),C=z+(M^(v|~w))+_[7]+1126891415&4294967295,z=v+(C<<10&4294967295|C>>>22),C=w+(v^(z|~M))+_[14]+2878612391&4294967295,w=z+(C<<15&4294967295|C>>>17),C=M+(z^(w|~v))+_[5]+4237533241&4294967295,M=w+(C<<21&4294967295|C>>>11),C=v+(w^(M|~z))+_[12]+1700485571&4294967295,v=M+(C<<6&4294967295|C>>>26),C=z+(M^(v|~w))+_[3]+2399980690&4294967295,z=v+(C<<10&4294967295|C>>>22),C=w+(v^(z|~M))+_[10]+4293915773&4294967295,w=z+(C<<15&4294967295|C>>>17),C=M+(z^(w|~v))+_[1]+2240044497&4294967295,M=w+(C<<21&4294967295|C>>>11),C=v+(w^(M|~z))+_[8]+1873313359&4294967295,v=M+(C<<6&4294967295|C>>>26),C=z+(M^(v|~w))+_[15]+4264355552&4294967295,z=v+(C<<10&4294967295|C>>>22),C=w+(v^(z|~M))+_[6]+2734768916&4294967295,w=z+(C<<15&4294967295|C>>>17),C=M+(z^(w|~v))+_[13]+1309151649&4294967295,M=w+(C<<21&4294967295|C>>>11),C=v+(w^(M|~z))+_[4]+4149444226&4294967295,v=M+(C<<6&4294967295|C>>>26),C=z+(M^(v|~w))+_[11]+3174756917&4294967295,z=v+(C<<10&4294967295|C>>>22),C=w+(v^(z|~M))+_[2]+718787259&4294967295,w=z+(C<<15&4294967295|C>>>17),C=M+(z^(w|~v))+_[9]+3951481745&4294967295,L.g[0]=L.g[0]+v&4294967295,L.g[1]=L.g[1]+(w+(C<<21&4294967295|C>>>11))&4294967295,L.g[2]=L.g[2]+w&4294967295,L.g[3]=L.g[3]+z&4294967295}r.prototype.u=function(L,v){v===void 0&&(v=L.length);for(var M=v-this.blockSize,_=this.B,w=this.h,z=0;z<v;){if(w==0)for(;z<=M;)i(this,L,z),z+=this.blockSize;if(typeof L=="string"){for(;z<v;)if(_[w++]=L.charCodeAt(z++),w==this.blockSize){i(this,_),w=0;break}}else for(;z<v;)if(_[w++]=L[z++],w==this.blockSize){i(this,_),w=0;break}}this.h=w,this.o+=v},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var v=1;v<L.length-8;++v)L[v]=0;var M=8*this.o;for(v=L.length-8;v<L.length;++v)L[v]=M&255,M/=256;for(this.u(L),L=Array(16),v=M=0;4>v;++v)for(var _=0;32>_;_+=8)L[M++]=this.g[v]>>>_&255;return L};function s(L,v){var M=c;return Object.prototype.hasOwnProperty.call(M,L)?M[L]:M[L]=v(L)}function o(L,v){this.h=v;for(var M=[],_=!0,w=L.length-1;0<=w;w--){var z=L[w]|0;_&&z==v||(M[w]=z,_=!1)}this.g=M}var c={};function l(L){return-128<=L&&128>L?s(L,function(v){return new o([v|0],0>v?-1:0)}):new o([L|0],0>L?-1:0)}function u(L){if(isNaN(L)||!isFinite(L))return p;if(0>L)return x(u(-L));for(var v=[],M=1,_=0;L>=M;_++)v[_]=L/M|0,M*=4294967296;return new o(v,0)}function d(L,v){if(L.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(L.charAt(0)=="-")return x(d(L.substring(1),v));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=u(Math.pow(v,8)),_=p,w=0;w<L.length;w+=8){var z=Math.min(8,L.length-w),C=parseInt(L.substring(w,w+z),v);8>z?(z=u(Math.pow(v,z)),_=_.j(z).add(u(C))):(_=_.j(M),_=_.add(u(C)))}return _}var p=l(0),y=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-x(this).m();for(var L=0,v=1,M=0;M<this.g.length;M++){var _=this.i(M);L+=(0<=_?_:4294967296+_)*v,v*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(E(this))return"0";if(T(this))return"-"+x(this).toString(L);for(var v=u(Math.pow(L,6)),M=this,_="";;){var w=Le(M,v).g;M=j(M,w.j(v));var z=((0<M.g.length?M.g[0]:M.h)>>>0).toString(L);if(M=w,E(M))return z+_;for(;6>z.length;)z="0"+z;_=z+_}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function E(L){if(L.h!=0)return!1;for(var v=0;v<L.g.length;v++)if(L.g[v]!=0)return!1;return!0}function T(L){return L.h==-1}t.l=function(L){return L=j(this,L),T(L)?-1:E(L)?0:1};function x(L){for(var v=L.g.length,M=[],_=0;_<v;_++)M[_]=~L.g[_];return new o(M,~L.h).add(y)}t.abs=function(){return T(this)?x(this):this},t.add=function(L){for(var v=Math.max(this.g.length,L.g.length),M=[],_=0,w=0;w<=v;w++){var z=_+(this.i(w)&65535)+(L.i(w)&65535),C=(z>>>16)+(this.i(w)>>>16)+(L.i(w)>>>16);_=C>>>16,z&=65535,C&=65535,M[w]=C<<16|z}return new o(M,M[M.length-1]&-2147483648?-1:0)};function j(L,v){return L.add(x(v))}t.j=function(L){if(E(this)||E(L))return p;if(T(this))return T(L)?x(this).j(x(L)):x(x(this).j(L));if(T(L))return x(this.j(x(L)));if(0>this.l(g)&&0>L.l(g))return u(this.m()*L.m());for(var v=this.g.length+L.g.length,M=[],_=0;_<2*v;_++)M[_]=0;for(_=0;_<this.g.length;_++)for(var w=0;w<L.g.length;w++){var z=this.i(_)>>>16,C=this.i(_)&65535,an=L.i(w)>>>16,vs=L.i(w)&65535;M[2*_+2*w]+=C*vs,G(M,2*_+2*w),M[2*_+2*w+1]+=z*vs,G(M,2*_+2*w+1),M[2*_+2*w+1]+=C*an,G(M,2*_+2*w+1),M[2*_+2*w+2]+=z*an,G(M,2*_+2*w+2)}for(_=0;_<v;_++)M[_]=M[2*_+1]<<16|M[2*_];for(_=v;_<2*v;_++)M[_]=0;return new o(M,0)};function G(L,v){for(;(L[v]&65535)!=L[v];)L[v+1]+=L[v]>>>16,L[v]&=65535,v++}function Q(L,v){this.g=L,this.h=v}function Le(L,v){if(E(v))throw Error("division by zero");if(E(L))return new Q(p,p);if(T(L))return v=Le(x(L),v),new Q(x(v.g),x(v.h));if(T(v))return v=Le(L,x(v)),new Q(x(v.g),v.h);if(30<L.g.length){if(T(L)||T(v))throw Error("slowDivide_ only works with positive integers.");for(var M=y,_=v;0>=_.l(L);)M=He(M),_=He(_);var w=be(M,1),z=be(_,1);for(_=be(_,2),M=be(M,2);!E(_);){var C=z.add(_);0>=C.l(L)&&(w=w.add(M),z=C),_=be(_,1),M=be(M,1)}return v=j(L,w.j(v)),new Q(w,v)}for(w=p;0<=L.l(v);){for(M=Math.max(1,Math.floor(L.m()/v.m())),_=Math.ceil(Math.log(M)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),z=u(M),C=z.j(v);T(C)||0<C.l(L);)M-=_,z=u(M),C=z.j(v);E(z)&&(z=y),w=w.add(z),L=j(L,C)}return new Q(w,L)}t.A=function(L){return Le(this,L).h},t.and=function(L){for(var v=Math.max(this.g.length,L.g.length),M=[],_=0;_<v;_++)M[_]=this.i(_)&L.i(_);return new o(M,this.h&L.h)},t.or=function(L){for(var v=Math.max(this.g.length,L.g.length),M=[],_=0;_<v;_++)M[_]=this.i(_)|L.i(_);return new o(M,this.h|L.h)},t.xor=function(L){for(var v=Math.max(this.g.length,L.g.length),M=[],_=0;_<v;_++)M[_]=this.i(_)^L.i(_);return new o(M,this.h^L.h)};function He(L){for(var v=L.g.length+1,M=[],_=0;_<v;_++)M[_]=L.i(_)<<1|L.i(_-1)>>>31;return new o(M,L.h)}function be(L,v){var M=v>>5;v%=32;for(var _=L.g.length-M,w=[],z=0;z<_;z++)w[z]=0<v?L.i(z+M)>>>v|L.i(z+M+1)<<32-v:L.i(z+M);return new o(w,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o7=nM.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,An=nM.Integer=o}).apply(typeof tM<"u"?tM:typeof self<"u"?self:typeof window<"u"?window:{});var z3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xn={};var c7,mO,Pi,a7,Wo,S3,l7,u7,f7;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,h){return a==Array.prototype||a==Object.prototype||(a[f]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof z3=="object"&&z3];for(var f=0;f<a.length;++f){var h=a[f];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,f){if(f)e:{var h=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var b=a[m];if(!(b in h))break e;h=h[b]}a=a[a.length-1],m=h[a],f=f(m),f!=m&&f!=null&&e(h,a,{configurable:!0,writable:!0,value:f})}}function s(a,f){a instanceof String&&(a+="");var h=0,m=!1,b={next:function(){if(!m&&h<a.length){var S=h++;return{value:f(S,a[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(f,h){return h})}});var o=o||{},c=this||self;function l(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function u(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function d(a,f,h){return a.call.apply(a.bind,arguments)}function p(a,f,h){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),a.apply(f,b)}}return function(){return a.apply(f,arguments)}}function y(a,f,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,y.apply(null,arguments)}function g(a,f){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function E(a,f){function h(){}h.prototype=f.prototype,a.aa=f.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(m,b,S){for(var B=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)B[Te-2]=arguments[Te];return f.prototype[b].apply(m,B)}}function T(a){let f=a.length;if(0<f){let h=Array(f);for(let m=0;m<f;m++)h[m]=a[m];return h}return[]}function x(a,f){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(l(m)){let b=a.length||0,S=m.length||0;a.length=b+S;for(let B=0;B<S;B++)a[b+B]=m[B]}else a.push(m)}}class j{constructor(f,h){this.i=f,this.j=h,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function G(a){return/^[\s\xa0]*$/.test(a)}function Q(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Le(a){return Le[" "](a),a}Le[" "]=function(){};var He=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function be(a,f,h){for(let m in a)f.call(h,a[m],m,a)}function L(a,f){for(let h in a)f.call(void 0,a[h],h,a)}function v(a){let f={};for(let h in a)f[h]=a[h];return f}let M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(a,f){let h,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(h in m)a[h]=m[h];for(let S=0;S<M.length;S++)h=M[S],Object.prototype.hasOwnProperty.call(m,h)&&(a[h]=m[h])}}function w(a){var f=1;a=a.split(":");let h=[];for(;0<f&&a.length;)h.push(a.shift()),f--;return a.length&&h.push(a.join(":")),h}function z(a){c.setTimeout(()=>{throw a},0)}function C(){var a=d6;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class an{constructor(){this.h=this.g=null}add(f,h){let m=vs.get();m.set(f,h),this.h?this.h.next=m:this.g=m,this.h=m}}var vs=new j(()=>new kb,a=>a.reset());class kb{constructor(){this.next=this.g=this.h=null}set(f,h){this.h=f,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Cs,Ms=!1,d6=new an,d9=()=>{let a=c.Promise.resolve(void 0);Cs=()=>{a.then(Rb)}};var Rb=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(h){z(h)}var f=vs;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}Ms=!1};function $n(){this.s=this.s,this.C=this.C}$n.prototype.s=!1,$n.prototype.ma=function(){this.s||(this.s=!0,this.N())},$n.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Mt(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var Pb=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,f),c.removeEventListener("test",h,f)}catch{}return a}();function _s(a,f){if(Mt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(He){e:{try{Le(f.nodeName);var b=!0;break e}catch{}b=!1}b||(f=null)}}else h=="mouseover"?f=a.fromElement:h=="mouseout"&&(f=a.toElement);this.relatedTarget=f,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ob[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&_s.aa.h.call(this)}}E(_s,Mt);var Ob={2:"touch",3:"pen",4:"mouse"};_s.prototype.h=function(){_s.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ls="closure_listenable_"+(1e6*Math.random()|0),Fb=0;function Vb(a,f,h,m,b){this.listener=a,this.proxy=null,this.src=f,this.type=h,this.capture=!!m,this.ha=b,this.key=++Fb,this.da=this.fa=!1}function N0(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function k0(a){this.src=a,this.g={},this.h=0}k0.prototype.add=function(a,f,h,m,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var B=p6(a,f,m,b);return-1<B?(f=a[B],h||(f.fa=!1)):(f=new Vb(f,this.src,S,!!m,b),f.fa=h,a.push(f)),f};function h6(a,f){var h=f.type;if(h in a.g){var m=a.g[h],b=Array.prototype.indexOf.call(m,f,void 0),S;(S=0<=b)&&Array.prototype.splice.call(m,b,1),S&&(N0(f),a.g[h].length==0&&(delete a.g[h],a.h--))}}function p6(a,f,h,m){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==f&&S.capture==!!h&&S.ha==m)return b}return-1}var m6="closure_lm_"+(1e6*Math.random()|0),g6={};function h9(a,f,h,m,b){if(m&&m.once)return m9(a,f,h,m,b);if(Array.isArray(f)){for(var S=0;S<f.length;S++)h9(a,f[S],h,m,b);return null}return h=M6(h),a&&a[Ls]?a.K(f,h,u(m)?!!m.capture:!!m,b):p9(a,f,h,!1,m,b)}function p9(a,f,h,m,b,S){if(!f)throw Error("Invalid event type");var B=u(b)?!!b.capture:!!b,Te=v6(a);if(Te||(a[m6]=Te=new k0(a)),h=Te.add(f,h,m,B,S),h.proxy)return h;if(m=Bb(),h.proxy=m,m.src=a,m.listener=h,a.addEventListener)Pb||(b=B),b===void 0&&(b=!1),a.addEventListener(f.toString(),m,b);else if(a.attachEvent)a.attachEvent(y9(f.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Bb(){function a(h){return f.call(a.src,a.listener,h)}let f=jb;return a}function m9(a,f,h,m,b){if(Array.isArray(f)){for(var S=0;S<f.length;S++)m9(a,f[S],h,m,b);return null}return h=M6(h),a&&a[Ls]?a.L(f,h,u(m)?!!m.capture:!!m,b):p9(a,f,h,!0,m,b)}function g9(a,f,h,m,b){if(Array.isArray(f))for(var S=0;S<f.length;S++)g9(a,f[S],h,m,b);else m=u(m)?!!m.capture:!!m,h=M6(h),a&&a[Ls]?(a=a.i,f=String(f).toString(),f in a.g&&(S=a.g[f],h=p6(S,h,m,b),-1<h&&(N0(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[f],a.h--)))):a&&(a=v6(a))&&(f=a.g[f.toString()],a=-1,f&&(a=p6(f,h,m,b)),(h=-1<a?f[a]:null)&&y6(h))}function y6(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[Ls])h6(f.i,a);else{var h=a.type,m=a.proxy;f.removeEventListener?f.removeEventListener(h,m,a.capture):f.detachEvent?f.detachEvent(y9(h),m):f.addListener&&f.removeListener&&f.removeListener(m),(h=v6(f))?(h6(h,a),h.h==0&&(h.src=null,f[m6]=null)):N0(a)}}}function y9(a){return a in g6?g6[a]:g6[a]="on"+a}function jb(a,f){if(a.da)a=!0;else{f=new _s(f,this);var h=a.listener,m=a.ha||a.src;a.fa&&y6(a),a=h.call(m,f)}return a}function v6(a){return a=a[m6],a instanceof k0?a:null}var C6="__closure_events_fn_"+(1e9*Math.random()>>>0);function M6(a){return typeof a=="function"?a:(a[C6]||(a[C6]=function(f){return a.handleEvent(f)}),a[C6])}function _t(){$n.call(this),this.i=new k0(this),this.M=this,this.F=null}E(_t,$n),_t.prototype[Ls]=!0,_t.prototype.removeEventListener=function(a,f,h,m){g9(this,a,f,h,m)};function Dt(a,f){var h,m=a.F;if(m)for(h=[];m;m=m.F)h.push(m);if(a=a.M,m=f.type||f,typeof f=="string")f=new Mt(f,a);else if(f instanceof Mt)f.target=f.target||a;else{var b=f;f=new Mt(m,a),_(f,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var B=f.g=h[S];b=R0(B,m,!0,f)&&b}if(B=f.g=a,b=R0(B,m,!0,f)&&b,b=R0(B,m,!1,f)&&b,h)for(S=0;S<h.length;S++)B=f.g=h[S],b=R0(B,m,!1,f)&&b}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var h=a.g[f],m=0;m<h.length;m++)N0(h[m]);delete a.g[f],a.h--}}this.F=null},_t.prototype.K=function(a,f,h,m){return this.i.add(String(a),f,!1,h,m)},_t.prototype.L=function(a,f,h,m){return this.i.add(String(a),f,!0,h,m)};function R0(a,f,h,m){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var b=!0,S=0;S<f.length;++S){var B=f[S];if(B&&!B.da&&B.capture==h){var Te=B.listener,ht=B.ha||B.src;B.fa&&h6(a.i,B),b=Te.call(ht,m)!==!1&&b}}return b&&!m.defaultPrevented}function v9(a,f,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:c.setTimeout(a,f||0)}function C9(a){a.g=v9(()=>{a.g=null,a.i&&(a.i=!1,C9(a))},a.l);let f=a.h;a.h=null,a.m.apply(null,f)}class Ub extends $n{constructor(f,h){super(),this.m=f,this.l=h,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:C9(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(a){$n.call(this),this.h=a,this.g={}}E(ws,$n);var M9=[];function _9(a){be(a.g,function(f,h){this.g.hasOwnProperty(h)&&y6(f)},a),a.g={}}ws.prototype.N=function(){ws.aa.N.call(this),_9(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _6=c.JSON.stringify,Hb=c.JSON.parse,$b=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function L6(){}L6.prototype.h=null;function L9(a){return a.h||(a.h=a.i())}function w9(){}var bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function w6(){Mt.call(this,"d")}E(w6,Mt);function b6(){Mt.call(this,"c")}E(b6,Mt);var P1={},b9=null;function P0(){return b9=b9||new _t}P1.La="serverreachability";function E9(a){Mt.call(this,P1.La,a)}E(E9,Mt);function Es(a){let f=P0();Dt(f,new E9(f))}P1.STAT_EVENT="statevent";function I9(a,f){Mt.call(this,P1.STAT_EVENT,a),this.stat=f}E(I9,Mt);function Tt(a){let f=P0();Dt(f,new I9(f,a))}P1.Ma="timingevent";function z9(a,f){Mt.call(this,P1.Ma,a),this.size=f}E(z9,Mt);function Is(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},f)}function zs(){this.g=!0}zs.prototype.xa=function(){this.g=!1};function qb(a,f,h,m,b,S){a.info(function(){if(a.g)if(S)for(var B="",Te=S.split("&"),ht=0;ht<Te.length;ht++){var we=Te[ht].split("=");if(1<we.length){var Lt=we[0];we=we[1];var wt=Lt.split("_");B=2<=wt.length&&wt[1]=="type"?B+(Lt+"="+we+"&"):B+(Lt+"=redacted&")}}else B=null;else B=S;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+f+`
`+h+`
`+B})}function Gb(a,f,h,m,b,S,B){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+f+`
`+h+`
`+S+" "+B})}function Pr(a,f,h,m){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+Kb(a,h)+(m?" "+m:"")})}function Wb(a,f){a.info(function(){return"TIMEOUT: "+f})}zs.prototype.info=function(){};function Kb(a,f){if(!a.g)return f;if(!f)return null;try{var h=JSON.parse(f);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var m=h[a];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var B=1;B<b.length;B++)b[B]=""}}}}return _6(h)}catch{return f}}var O0={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},S9={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},E6;function F0(){}E(F0,L6),F0.prototype.g=function(){return new XMLHttpRequest},F0.prototype.i=function(){return{}},E6=new F0;function qn(a,f,h,m){this.j=a,this.i=f,this.l=h,this.R=m||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new D9}function D9(){this.i=null,this.g="",this.h=!1}var T9={},I6={};function z6(a,f,h){a.L=1,a.v=U0(ln(f)),a.m=h,a.P=!0,A9(a,null)}function A9(a,f){a.F=Date.now(),V0(a),a.A=ln(a.v);var h=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),q9(h.i,"t",m),a.C=0,h=a.j.J,a.h=new D9,a.g=lh(a.j,h?f:null,!a.m),0<a.O&&(a.M=new Ub(y(a.Y,a,a.g),a.O)),f=a.U,h=a.g,m=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(M9[0]=b.toString()),b=M9);for(var S=0;S<b.length;S++){var B=h9(h,b[S],m||f.handleEvent,!1,f.h||f);if(!B)break;f.g[B.key]=B}f=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Es(),qb(a.i,a.u,a.A,a.l,a.R,a.m)}qn.prototype.ca=function(a){a=a.target;let f=this.M;f&&un(a)==3?f.j():this.Y(a)},qn.prototype.Y=function(a){try{if(a==this.g)e:{let wt=un(this.g);var f=this.g.Ba();let Vr=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||X9(this.g)))){this.J||wt!=4||f==7||(f==8||0>=Vr?Es(3):Es(2)),S6(this);var h=this.g.Z();this.X=h;t:if(x9(this)){var m=X9(this.g);a="";var b=m.length,S=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){O1(this),Ss(this);var B="";break t}this.h.i=new c.TextDecoder}for(f=0;f<b;f++)this.h.h=!0,a+=this.h.i.decode(m[f],{stream:!(S&&f==b-1)});m.length=0,this.h.g+=a,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=h==200,Gb(this.i,this.u,this.A,this.l,this.R,wt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,ht=this.g;if((Te=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Te)){var we=Te;break t}}we=null}if(h=we)Pr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,D6(this,h);else{this.o=!1,this.s=3,Tt(12),O1(this),Ss(this);break e}}if(this.P){h=!0;let M2;for(;!this.J&&this.C<B.length;)if(M2=Qb(this,B),M2==I6){wt==4&&(this.s=4,Tt(14),h=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(M2==T9){this.s=4,Tt(15),Pr(this.i,this.l,B,"[Invalid Chunk]"),h=!1;break}else Pr(this.i,this.l,M2,null),D6(this,M2);if(x9(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||B.length!=0||this.h.h||(this.s=1,Tt(16),h=!1),this.o=this.o&&h,!h)Pr(this.i,this.l,B,"[Invalid Chunked Response]"),O1(this),Ss(this);else if(0<B.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),R6(Lt),Lt.M=!0,Tt(11))}}else Pr(this.i,this.l,B,null),D6(this,B);wt==4&&O1(this),this.o&&!this.J&&(wt==4?sh(this.j,this):(this.o=!1,V0(this)))}else dE(this.g),h==400&&0<B.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),O1(this),Ss(this)}}}catch{}finally{}};function x9(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Qb(a,f){var h=a.C,m=f.indexOf(`
`,h);return m==-1?I6:(h=Number(f.substring(h,m)),isNaN(h)?T9:(m+=1,m+h>f.length?I6:(f=f.slice(m,m+h),a.C=m+h,f)))}qn.prototype.cancel=function(){this.J=!0,O1(this)};function V0(a){a.S=Date.now()+a.I,N9(a,a.I)}function N9(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Is(y(a.ba,a),f)}function S6(a){a.B&&(c.clearTimeout(a.B),a.B=null)}qn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(Wb(this.i,this.A),this.L!=2&&(Es(),Tt(17)),O1(this),this.s=2,Ss(this)):N9(this,this.S-a)};function Ss(a){a.j.G==0||a.J||sh(a.j,a)}function O1(a){S6(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,_9(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function D6(a,f){try{var h=a.j;if(h.G!=0&&(h.g==a||T6(h.h,a))){if(!a.K&&T6(h.h,a)&&h.G==3){try{var m=h.Da.g.parse(f)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)W0(h),q0(h);else break e;k6(h),Tt(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=Is(y(h.Za,h),6e3));if(1>=P9(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else V1(h,11)}else if((a.K||h.g==a)&&W0(h),!G(f))for(b=h.Da.g.parse(f),f=0;f<b.length;f++){let we=b[f];if(h.T=we[0],we=we[1],h.G==2)if(we[0]=="c"){h.K=we[1],h.ia=we[2];let Lt=we[3];Lt!=null&&(h.la=Lt,h.j.info("VER="+h.la));let wt=we[4];wt!=null&&(h.Aa=wt,h.j.info("SVER="+h.Aa));let Vr=we[5];Vr!=null&&typeof Vr=="number"&&0<Vr&&(m=1.5*Vr,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let M2=a.g;if(M2){let Q0=M2.g?M2.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Q0){var S=m.h;S.g||Q0.indexOf("spdy")==-1&&Q0.indexOf("quic")==-1&&Q0.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(A6(S,S.h),S.h=null))}if(m.D){let P6=M2.g?M2.g.getResponseHeader("X-HTTP-Session-Id"):null;P6&&(m.ya=P6,Oe(m.I,m.D,P6))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var B=a;if(m.qa=ah(m,m.J?m.ia:null,m.W),B.K){O9(m.h,B);var Te=B,ht=m.L;ht&&(Te.I=ht),Te.B&&(S6(Te),V0(Te)),m.g=B}else rh(m);0<h.i.length&&G0(h)}else we[0]!="stop"&&we[0]!="close"||V1(h,7);else h.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?V1(h,7):N6(h):we[0]!="noop"&&h.l&&h.l.ta(we),h.v=0)}}Es(4)}catch{}}var Yb=class{constructor(a,f){this.g=a,this.map=f}};function k9(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function R9(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function P9(a){return a.h?1:a.g?a.g.size:0}function T6(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function A6(a,f){a.g?a.g.add(f):a.h=f}function O9(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}k9.prototype.cancel=function(){if(this.i=F9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function F9(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(let h of a.g.values())f=f.concat(h.D);return f}return T(a.i)}function Zb(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var f=[],h=a.length,m=0;m<h;m++)f.push(a[m]);return f}f=[],h=0;for(m in a)f[h++]=a[m];return f}function Xb(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var f=[];a=a.length;for(var h=0;h<a;h++)f.push(h);return f}f=[],h=0;for(let m in a)f[h++]=m;return f}}}function V9(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var h=Xb(a),m=Zb(a),b=m.length,S=0;S<b;S++)f.call(void 0,m[S],h&&h[S],a)}var B9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jb(a,f){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var m=a[h].indexOf("="),b=null;if(0<=m){var S=a[h].substring(0,m);b=a[h].substring(m+1)}else S=a[h];f(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function F1(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof F1){this.h=a.h,B0(this,a.j),this.o=a.o,this.g=a.g,j0(this,a.s),this.l=a.l;var f=a.i,h=new As;h.i=f.i,f.g&&(h.g=new Map(f.g),h.h=f.h),j9(this,h),this.m=a.m}else a&&(f=String(a).match(B9))?(this.h=!1,B0(this,f[1]||"",!0),this.o=Ds(f[2]||""),this.g=Ds(f[3]||"",!0),j0(this,f[4]),this.l=Ds(f[5]||"",!0),j9(this,f[6]||"",!0),this.m=Ds(f[7]||"")):(this.h=!1,this.i=new As(null,this.h))}F1.prototype.toString=function(){var a=[],f=this.j;f&&a.push(Ts(f,U9,!0),":");var h=this.g;return(h||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Ts(f,U9,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ts(h,h.charAt(0)=="/"?nE:tE,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ts(h,iE)),a.join("")};function ln(a){return new F1(a)}function B0(a,f,h){a.j=h?Ds(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function j0(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function j9(a,f,h){f instanceof As?(a.i=f,sE(a.i,a.h)):(h||(f=Ts(f,rE)),a.i=new As(f,a.h))}function Oe(a,f,h){a.i.set(f,h)}function U0(a){return Oe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ds(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ts(a,f,h){return typeof a=="string"?(a=encodeURI(a).replace(f,eE),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function eE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var U9=/[#\/\?@]/g,tE=/[#\?:]/g,nE=/[#\?]/g,rE=/[#\?@]/g,iE=/#/g;function As(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Gn(a){a.g||(a.g=new Map,a.h=0,a.i&&Jb(a.i,function(f,h){a.add(decodeURIComponent(f.replace(/\+/g," ")),h)}))}t=As.prototype,t.add=function(a,f){Gn(this),this.i=null,a=Or(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(f),this.h+=1,this};function H9(a,f){Gn(a),f=Or(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function $9(a,f){return Gn(a),f=Or(a,f),a.g.has(f)}t.forEach=function(a,f){Gn(this),this.g.forEach(function(h,m){h.forEach(function(b){a.call(f,b,m,this)},this)},this)},t.na=function(){Gn(this);let a=Array.from(this.g.values()),f=Array.from(this.g.keys()),h=[];for(let m=0;m<f.length;m++){let b=a[m];for(let S=0;S<b.length;S++)h.push(f[m])}return h},t.V=function(a){Gn(this);let f=[];if(typeof a=="string")$9(this,a)&&(f=f.concat(this.g.get(Or(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)f=f.concat(a[h])}return f},t.set=function(a,f){return Gn(this),this.i=null,a=Or(this,a),$9(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function q9(a,f,h){H9(a,f),0<h.length&&(a.i=null,a.g.set(Or(a,f),T(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],f=Array.from(this.g.keys());for(var h=0;h<f.length;h++){var m=f[h];let S=encodeURIComponent(String(m)),B=this.V(m);for(m=0;m<B.length;m++){var b=S;B[m]!==""&&(b+="="+encodeURIComponent(String(B[m]))),a.push(b)}}return this.i=a.join("&")};function Or(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function sE(a,f){f&&!a.j&&(Gn(a),a.i=null,a.g.forEach(function(h,m){var b=m.toLowerCase();m!=b&&(H9(this,m),q9(this,b,h))},a)),a.j=f}function oE(a,f){let h=new zs;if(c.Image){let m=new Image;m.onload=g(Wn,h,"TestLoadImage: loaded",!0,f,m),m.onerror=g(Wn,h,"TestLoadImage: error",!1,f,m),m.onabort=g(Wn,h,"TestLoadImage: abort",!1,f,m),m.ontimeout=g(Wn,h,"TestLoadImage: timeout",!1,f,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else f(!1)}function cE(a,f){let h=new zs,m=new AbortController,b=setTimeout(()=>{m.abort(),Wn(h,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:m.signal}).then(S=>{clearTimeout(b),S.ok?Wn(h,"TestPingServer: ok",!0,f):Wn(h,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(b),Wn(h,"TestPingServer: error",!1,f)})}function Wn(a,f,h,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(h)}catch{}}function aE(){this.g=new $b}function lE(a,f,h){let m=h||"";try{V9(a,function(b,S){let B=b;u(b)&&(B=_6(b)),f.push(m+S+"="+encodeURIComponent(B))})}catch(b){throw f.push(m+"type="+encodeURIComponent("_badmap")),b}}function xs(a){this.l=a.Ub||null,this.j=a.eb||!1}E(xs,L6),xs.prototype.g=function(){return new H0(this.l,this.j)},xs.prototype.i=function(a){return function(){return a}}({});function H0(a,f){_t.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(H0,_t),t=H0.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,ks(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||c).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;G9(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function G9(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Ns(this):ks(this),this.readyState==3&&G9(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ns(this))},t.Qa=function(a){this.g&&(this.response=a,Ns(this))},t.ga=function(){this.g&&Ns(this)};function Ns(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ks(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],f=this.h.entries();for(var h=f.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=f.next();return a.join(`\r
`)};function ks(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(H0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function W9(a){let f="";return be(a,function(h,m){f+=m,f+=":",f+=h,f+=`\r
`}),f}function x6(a,f,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=W9(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Oe(a,f,h))}function $e(a){_t.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E($e,_t);var uE=/^https?$/i,fE=["POST","PUT"];t=$e.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():E6.g(),this.v=this.o?L9(this.o):L9(E6),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(S){K9(this,S);return}if(a=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)h.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())h.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(fE,f,void 0))||m||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,B]of h)this.g.setRequestHeader(S,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Z9(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){K9(this,S)}};function K9(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,Q9(a),$0(a)}function Q9(a){a.A||(a.A=!0,Dt(a,"complete"),Dt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Dt(this,"complete"),Dt(this,"abort"),$0(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$0(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Y9(this):this.bb())},t.bb=function(){Y9(this)};function Y9(a){if(a.h&&typeof o<"u"&&(!a.v[1]||un(a)!=4||a.Z()!=2)){if(a.u&&un(a)==4)v9(a.Ea,0,a);else if(Dt(a,"readystatechange"),un(a)==4){a.h=!1;try{let B=a.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var h;if(!(h=f)){var m;if(m=B===0){var b=String(a.D).match(B9)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),m=!uE.test(b?b.toLowerCase():"")}h=m}if(h)Dt(a,"complete"),Dt(a,"success");else{a.m=6;try{var S=2<un(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",Q9(a)}}finally{$0(a)}}}}function $0(a,f){if(a.g){Z9(a);let h=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||Dt(a,"ready");try{h.onreadystatechange=m}catch{}}}function Z9(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function un(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Hb(f)}};function X9(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function dE(a){let f={};a=(a.g&&2<=un(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(G(a[m]))continue;var h=w(a[m]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=f[b]||[];f[b]=S,S.push(h)}L(f,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(a,f,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||f}function J9(a){this.Aa=0,this.i=[],this.j=new zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,a),this.cb=Rs("retryDelaySeedMs",1e4,a),this.Wa=Rs("forwardChannelMaxRetries",2,a),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new k9(a&&a.concurrentRequestLimit),this.Da=new aE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=J9.prototype,t.la=8,t.G=1,t.connect=function(a,f,h,m){Tt(0),this.W=a,this.H=f||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=ah(this,null,this.W),G0(this)};function N6(a){if(eh(a),a.G==3){var f=a.U++,h=ln(a.I);if(Oe(h,"SID",a.K),Oe(h,"RID",f),Oe(h,"TYPE","terminate"),Ps(a,h),f=new qn(a,a.j,f),f.L=2,f.v=U0(ln(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(f.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=f.v,h=!0),h||(f.g=lh(f.j,null),f.g.ea(f.v)),f.F=Date.now(),V0(f)}ch(a)}function q0(a){a.g&&(R6(a),a.g.cancel(),a.g=null)}function eh(a){q0(a),a.u&&(c.clearTimeout(a.u),a.u=null),W0(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function G0(a){if(!R9(a.h)&&!a.s){a.s=!0;var f=a.Ga;Cs||d9(),Ms||(Cs(),Ms=!0),d6.add(f,a),a.B=0}}function hE(a,f){return P9(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Is(y(a.Ga,a,f),oh(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new qn(this,this.j,a),S=this.o;if(this.S&&(S?(S=v(S),_(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var f=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(f+=m,4096<f){f=h;break e}if(f===4096||h===this.i.length-1){f=h+1;break e}}f=1e3}else f=1e3;f=nh(this,b,f),h=ln(this.I),Oe(h,"RID",a),Oe(h,"CVER",22),this.D&&Oe(h,"X-HTTP-Session-Id",this.D),Ps(this,h),S&&(this.O?f="headers="+encodeURIComponent(String(W9(S)))+"&"+f:this.m&&x6(h,this.m,S)),A6(this.h,b),this.Ua&&Oe(h,"TYPE","init"),this.P?(Oe(h,"$req",f),Oe(h,"SID","null"),b.T=!0,z6(b,h,null)):z6(b,h,f),this.G=2}}else this.G==3&&(a?th(this,a):this.i.length==0||R9(this.h)||th(this))};function th(a,f){var h;f?h=f.l:h=a.U++;let m=ln(a.I);Oe(m,"SID",a.K),Oe(m,"RID",h),Oe(m,"AID",a.T),Ps(a,m),a.m&&a.o&&x6(m,a.m,a.o),h=new qn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),f&&(a.i=f.D.concat(a.i)),f=nh(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),A6(a.h,h),z6(h,m,f)}function Ps(a,f){a.H&&be(a.H,function(h,m){Oe(f,m,h)}),a.l&&V9({},function(h,m){Oe(f,m,h)})}function nh(a,f,h){h=Math.min(a.i.length,h);var m=a.l?y(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let B=["count="+h];S==-1?0<h?(S=b[0].g,B.push("ofs="+S)):S=0:B.push("ofs="+S);let Te=!0;for(let ht=0;ht<h;ht++){let we=b[ht].g,Lt=b[ht].map;if(we-=S,0>we)S=Math.max(0,b[ht].g-100),Te=!1;else try{lE(Lt,B,"req"+we+"_")}catch{m&&m(Lt)}}if(Te){m=B.join("&");break e}}}return a=a.i.splice(0,h),f.D=a,m}function rh(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;Cs||d9(),Ms||(Cs(),Ms=!0),d6.add(f,a),a.v=0}}function k6(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Is(y(a.Fa,a),oh(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Is(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),q0(this),ih(this))};function R6(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function ih(a){a.g=new qn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=ln(a.qa);Oe(f,"RID","rpc"),Oe(f,"SID",a.K),Oe(f,"AID",a.T),Oe(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&Oe(f,"TO",a.ja),Oe(f,"TYPE","xmlhttp"),Ps(a,f),a.m&&a.o&&x6(f,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=U0(ln(f)),h.m=null,h.P=!0,A9(h,a)}t.Za=function(){this.C!=null&&(this.C=null,q0(this),k6(this),Tt(19))};function W0(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function sh(a,f){var h=null;if(a.g==f){W0(a),R6(a),a.g=null;var m=2}else if(T6(a.h,f))h=f.D,O9(a.h,f),m=1;else return;if(a.G!=0){if(f.o)if(m==1){h=f.m?f.m.length:0,f=Date.now()-f.F;var b=a.B;m=P0(),Dt(m,new z9(m,h)),G0(a)}else rh(a);else if(b=f.s,b==3||b==0&&0<f.X||!(m==1&&hE(a,f)||m==2&&k6(a)))switch(h&&0<h.length&&(f=a.h,f.i=f.i.concat(h)),b){case 1:V1(a,5);break;case 4:V1(a,10);break;case 3:V1(a,6);break;default:V1(a,2)}}}function oh(a,f){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*f}function V1(a,f){if(a.j.info("Error code "+f),f==2){var h=y(a.fb,a),m=a.Xa;let b=!m;m=new F1(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||B0(m,"https"),U0(m),b?oE(m.toString(),h):cE(m.toString(),h)}else Tt(2);a.G=0,a.l&&a.l.sa(f),ch(a),eh(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function ch(a){if(a.G=0,a.ka=[],a.l){let f=F9(a.h);(f.length!=0||a.i.length!=0)&&(x(a.ka,f),x(a.ka,a.i),a.h.i.length=0,T(a.i),a.i.length=0),a.l.ra()}}function ah(a,f,h){var m=h instanceof F1?ln(h):new F1(h);if(m.g!="")f&&(m.g=f+"."+m.g),j0(m,m.s);else{var b=c.location;m=b.protocol,f=f?f+"."+b.hostname:b.hostname,b=+b.port;var S=new F1(null);m&&B0(S,m),f&&(S.g=f),b&&j0(S,b),h&&(S.l=h),m=S}return h=a.D,f=a.ya,h&&f&&Oe(m,h,f),Oe(m,"VER",a.la),Ps(a,m),m}function lh(a,f,h){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new $e(new xs({eb:h})):new $e(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}t=uh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function K0(){}K0.prototype.g=function(a,f){return new Yt(a,f)};function Yt(a,f){_t.call(this),this.g=new J9(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!G(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!G(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Fr(this)}E(Yt,_t),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){N6(this.g)},Yt.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=_6(a),a=h);f.i.push(new Yb(f.Ya++,a)),f.G==3&&G0(f)},Yt.prototype.N=function(){this.g.l=null,delete this.j,N6(this.g),delete this.g,Yt.aa.N.call(this)};function fh(a){w6.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(let h in f){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}E(fh,w6);function dh(){b6.call(this),this.status=1}E(dh,b6);function Fr(a){this.g=a}E(Fr,uh),Fr.prototype.ua=function(){Dt(this.g,"a")},Fr.prototype.ta=function(a){Dt(this.g,new fh(a))},Fr.prototype.sa=function(a){Dt(this.g,new dh)},Fr.prototype.ra=function(){Dt(this.g,"b")},K0.prototype.createWebChannel=K0.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,f7=xn.createWebChannelTransport=function(){return new K0},u7=xn.getStatEventTarget=function(){return P0()},l7=xn.Event=P1,S3=xn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},O0.NO_ERROR=0,O0.TIMEOUT=8,O0.HTTP_ERROR=6,Wo=xn.ErrorCode=O0,S9.COMPLETE="complete",a7=xn.EventType=S9,w9.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Pi=xn.WebChannel=w9,mO=xn.FetchXmlHttpFactory=xs,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,c7=xn.XhrIo=$e}).apply(typeof z3<"u"?z3:typeof self<"u"?self:typeof window<"u"?window:{});var rM="@firebase/firestore",iM="4.7.9";var ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");var rs="11.4.0";var wr=new Q2("@firebase/firestore");function Oi(){return wr.logLevel}function U(t,...e){if(wr.logLevel<=he.DEBUG){let n=e.map(Xf);wr.debug(`Firestore (${rs}): ${t}`,...n)}}function Nn(t,...e){if(wr.logLevel<=he.ERROR){let n=e.map(Xf);wr.error(`Firestore (${rs}): ${t}`,...n)}}function $i(t,...e){if(wr.logLevel<=he.WARN){let n=e.map(Xf);wr.warn(`Firestore (${rs}): ${t}`,...n)}}function Xf(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function J(t="Unexpected state"){let e=`FIRESTORE (${rs}) INTERNAL ASSERTION FAILED: `+t;throw Nn(e),new Error(e)}function Se(t,e){t||J()}function ne(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends y2{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var X2=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var R3=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},g7=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}},y7=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},v7=class{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),s=new X2;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new X2,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>I(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new X2)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string"),new R3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string"),new ft(e)}},C7=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},M7=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new C7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},P3=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},_7=class{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Se(this.o===void 0);let r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new P3(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string"),this.R=n.token,new P3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function gO(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var O3=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=gO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}};function ye(t,e){return t<e?-1:t>e?1:0}function qi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var sM=-62135596800,oM=1e6,Ct=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*oM);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sM)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oM}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-sM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Ct(0,0))}static max(){return new t(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var cM="__name__",F3=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=t.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return An.fromString(e.substring(4,e.length-2))}},Ue=class t extends F3{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},yO=/^[_a-zA-Z][_a-zA-Z0-9]*$/,n2=class t extends F3{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return yO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cM}static keyField(){return new t([cM])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new H(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new H(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ue.fromString(e))}static fromName(e){return new t(Ue.fromString(e).popFirst(5))}static empty(){return new t(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ue(e.slice()))}};var Jo=-1,L7=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};L7.UNKNOWN_ID=-1;function vO(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new br(i,Z.empty(),e)}function CO(t){return new br(t.readTime,t.key,Jo)}var br=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(se.min(),Z.empty(),Jo)}static max(){return new t(se.max(),Z.empty(),Jo)}};function MO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}var _O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",w7=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function is(t){return I(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==_O)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var R=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let l=0;l<s;l++){let u=l;n(e[u]).next(d=>{o[u]=d,++c,c===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function LO(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ss(t){return t.name==="IndexedDbTransactionError"}var Jf=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this._e&&this._e(n),n}}t.ae=-1;return t})(),ed=-1;function Ca(t){return t==null}function e0(t){return t===0&&1/t==-1/0}function wO(t){return typeof t=="number"&&Number.isInteger(t)&&!e0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var KM="";function bO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aM(e)),e=EO(t.get(n),e);return aM(e)}function EO(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case KM:n+="";break;default:n+=s}}return n}function aM(t){return t+KM+""}var IO="remoteDocuments",QM="owner";var YM="mutationQueues";var ZM="mutations";var XM="documentMutations",zO="remoteDocumentsV14";var JM="remoteDocumentGlobal";var e_="targets";var t_="targetDocuments";var n_="targetGlobal",r_="collectionParents";var i_="clientMetadata";var s_="bundles";var o_="namedQueries";var SO="indexConfiguration";var DO="indexState";var TO="indexEntries";var c_="documentOverlays";var AO="globals";var xO=[YM,ZM,XM,IO,e_,QM,n_,t_,i_,JM,r_,s_,o_],EJ=[...xO,c_],NO=[YM,ZM,XM,zO,e_,QM,n_,t_,i_,JM,r_,s_,o_,c_],kO=NO,RO=[...kO,SO,DO,TO];var IJ=[...RO,AO];function lM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function a_(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ke=class t{constructor(e,n){this.comparator=e,this.root=n||J2.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,J2.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,J2.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ji(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ji(this.root,e,this.comparator,!1)}getReverseIterator(){return new ji(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ji(this.root,e,this.comparator,!0)}},ji=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},J2=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();let e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}};J2.EMPTY=null,J2.RED=!0,J2.BLACK=!1;J2.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,s){return this}insert(e,n,r){return new J2(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V3(this.data.getIterator())}getIteratorFrom(e){return new V3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},V3=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Z2=class t{constructor(e){this.fields=e,e.sort(n2.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(n2.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qi(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var B3=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var zt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new B3("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};zt.EMPTY_BYTE_STRING=new zt("");var PO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kn(t){if(Se(!!t),typeof t=="string"){let e=0,n=PO.exec(t);if(Se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rn(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}var l_="server_timestamp",u_="__type__",f_="__previous_value__",d_="__local_write_time__";function td(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[u_])===null||n===void 0?void 0:n.stringValue)===l_}function Ma(t){let e=t.mapValue.fields[f_];return td(e)?Ma(e):e}function t0(t){let e=kn(t.mapValue.fields[d_].timestampValue);return new Ct(e.seconds,e.nanos)}var b7=class{constructor(e,n,r,i,s,o,c,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u}},j3="(default)",U3=class t{constructor(e,n){this.projectId=e,this.database=n||j3}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===j3}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var nd="__type__",h_="__max__",D3={mapValue:{fields:{__type__:{stringValue:h_}}}},rd="__vector__",Gi="value";function L1(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?td(t)?4:m_(t)?9007199254740991:p_(t)?10:11:J()}function nn(t,e){if(t===e)return!0;let n=L1(t);if(n!==L1(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return t0(t).isEqual(t0(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=kn(i.timestampValue),c=kn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Rn(i.bytesValue).isEqual(Rn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=je(i.doubleValue),c=je(s.doubleValue);return o===c?e0(o)===e0(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return qi(t.arrayValue.values||[],e.arrayValue.values||[],nn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(lM(o)!==lM(c))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!nn(o[l],c[l])))return!1;return!0}(t,e);default:return J()}}function n0(t,e){return(t.values||[]).find(n=>nn(n,e))!==void 0}function Wi(t,e){if(t===e)return 0;let n=L1(t),r=L1(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=je(s.integerValue||s.doubleValue),l=je(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return uM(t.timestampValue,e.timestampValue);case 4:return uM(t0(t),t0(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Rn(s),l=Rn(o);return c.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),l=o.split("/");for(let u=0;u<c.length&&u<l.length;u++){let d=ye(c[u],l[u]);if(d!==0)return d}return ye(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=ye(je(s.latitude),je(o.latitude));return c!==0?c:ye(je(s.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fM(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,l,u,d;let p=s.fields||{},y=o.fields||{},g=(c=p[Gi])===null||c===void 0?void 0:c.arrayValue,E=(l=y[Gi])===null||l===void 0?void 0:l.arrayValue,T=ye(((u=g?.values)===null||u===void 0?void 0:u.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:fM(g,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===D3.mapValue&&o===D3.mapValue)return 0;if(s===D3.mapValue)return 1;if(o===D3.mapValue)return-1;let c=s.fields||{},l=Object.keys(c),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){let y=ye(l[p],d[p]);if(y!==0)return y;let g=Wi(c[l[p]],u[d[p]]);if(g!==0)return g}return ye(l.length,d.length)}(t.mapValue,e.mapValue);default:throw J()}}function uM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);let n=kn(t),r=kn(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function fM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Wi(n[i],r[i]);if(s)return s}return ye(n.length,r.length)}function Ki(t){return E7(t)}function E7(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=kn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=E7(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${E7(n.fields[o])}`;return i+"}"}(t.mapValue):J()}function x3(t){switch(L1(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Ma(t);return e?16+x3(e):16;case 5:return 2*t.stringValue.length;case 6:return Rn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+x3(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Tr(r.fields,(s,o)=>{i+=s.length+x3(o)}),i}(t.mapValue);default:throw J()}}function dM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function I7(t){return!!t&&"integerValue"in t}function id(t){return!!t&&"arrayValue"in t}function hM(t){return!!t&&"nullValue"in t}function pM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function N3(t){return!!t&&"mapValue"in t}function p_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[nd])===null||n===void 0?void 0:n.stringValue)===rd}function Qo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Tr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qo(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function m_(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h_}var SJ={mapValue:{fields:{[nd]:{stringValue:rd},[Gi]:{arrayValue:{}}}}};var O2=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!N3(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(n)}setAll(e){let n=n2.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Qo(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());N3(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];N3(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tr(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Qo(this.value))}};function g_(t){let e=[];return Tr(t.fields,(n,r)=>{let i=new n2([n]);if(N3(r)){let s=g_(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Z2(e)}var F2=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,se.min(),se.min(),se.min(),O2.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,se.min(),se.min(),O2.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,se.min(),se.min(),O2.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=O2.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=O2.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Qi=class{constructor(e,n){this.position=e,this.inclusive=n}};function mM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Wi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function gM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nn(t.position[n],e.position[n]))return!1;return!0}var Yi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function OO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var H3=class{},ot=class t extends H3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S7(e,n,r):n==="array-contains"?new A7(e,r):n==="in"?new x7(e,r):n==="not-in"?new N7(e,r):n==="array-contains-any"?new k7(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D7(e,r):new T7(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wi(n,this.value)):n!==null&&L1(this.value)===L1(n)&&this.matchesComparison(Wi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},V2=class t extends H3{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new t(e,n)}matches(e){return y_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function y_(t){return t.op==="and"}function v_(t){return FO(t)&&y_(t)}function FO(t){for(let e of t.filters)if(e instanceof V2)return!1;return!0}function z7(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Ki(t.value);if(v_(t))return t.filters.map(e=>z7(e)).join(",");{let e=t.filters.map(n=>z7(n)).join(",");return`${t.op}(${e})`}}function C_(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&nn(r.value,i.value)}(t,e):t instanceof V2?function(r,i){return i instanceof V2&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&C_(o,i.filters[c]),!0):!1}(t,e):void J()}function M_(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Ki(n.value)}`}(t):t instanceof V2?function(n){return n.op.toString()+" {"+n.getFilters().map(M_).join(" ,")+"}"}(t):"Filter"}var S7=class extends ot{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){let n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}},D7=class extends ot{constructor(e,n){super(e,"in",n),this.keys=__("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},T7=class extends ot{constructor(e,n){super(e,"not-in",n),this.keys=__("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function __(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}var A7=class extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return id(n)&&n0(n.arrayValue,this.value)}},x7=class extends ot{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&n0(this.value.arrayValue,n)}},N7=class extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(n0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!n0(this.value.arrayValue,n)}},k7=class extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!id(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>n0(this.value.arrayValue,r))}};var R7=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.le=null}};function yM(t,e=null,n=[],r=[],i=null,s=null,o=null){return new R7(t,e,n,r,i,s,o)}function sd(t){let e=ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>z7(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ca(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ki(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ki(r)).join(",")),e.le=n}return e.le}function od(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!C_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gM(t.startAt,e.startAt)&&gM(t.endAt,e.endAt)}function P7(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Er=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function VO(t,e,n,r,i,s,o,c){return new Er(t,e,n,r,i,s,o,c)}function cd(t){return new Er(t)}function vM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function L_(t){return t.collectionGroup!==null}function Yo(t){let e=ne(t);if(e.he===null){e.he=[];let n=new Set;for(let s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new dt(n2.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Yi(s,r))}),n.has(n2.keyField().canonicalString())||e.he.push(new Yi(n2.keyField(),r))}return e.he}function en(t){let e=ne(t);return e.Pe||(e.Pe=BO(e,Yo(t))),e.Pe}function BO(t,e){if(t.limitType==="F")return yM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Yi(i.field,s)});let n=t.endAt?new Qi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qi(t.startAt.position,t.startAt.inclusive):null;return yM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function O7(t,e){let n=t.filters.concat([e]);return new Er(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $3(t,e,n){return new Er(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _a(t,e){return od(en(t),en(e))&&t.limitType===e.limitType}function w_(t){return`${sd(en(t))}|lt:${t.limitType}`}function Fi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>M_(i)).join(", ")}]`),Ca(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ki(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ki(i)).join(",")),`Target(${r})`}(en(t))}; limitType=${t.limitType})`}function La(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Yo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,l){let u=mM(o,c,l);return o.inclusive?u<=0:u<0}(r.startAt,Yo(r),i)||r.endAt&&!function(o,c,l){let u=mM(o,c,l);return o.inclusive?u>=0:u>0}(r.endAt,Yo(r),i))}(t,e)}function jO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function b_(t){return(e,n)=>{let r=!1;for(let i of Yo(t)){let s=UO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function UO(t,e,n){let r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,c){let l=o.data.field(s),u=c.data.field(s);return l!==null&&u!==null?Wi(l,u):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}var Pn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return a_(this.inner)}size(){return this.innerSize}};var HO=new Ke(Z.comparator);function On(){return HO}var E_=new Ke(Z.comparator);function Ko(...t){let e=E_;for(let n of t)e=e.insert(n.key,n);return e}function I_(t){let e=E_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mr(){return Zo()}function z_(){return Zo()}function Zo(){return new Pn(t=>t.toString(),(t,e)=>t.isEqual(e))}var $O=new Ke(Z.comparator),qO=new dt(Z.comparator);function ge(...t){let e=qO;for(let n of t)e=e.add(n);return e}var GO=new dt(ye);function WO(){return GO}function ad(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e0(e)?"-0":e}}function S_(t){return{integerValue:""+t}}function KO(t,e){return wO(e)?S_(e):ad(t,e)}var Zi=class{constructor(){this._=void 0}};function QO(t,e,n){return t instanceof Xi?function(i,s){let o={fields:{[u_]:{stringValue:l_},[d_]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&td(s)&&(s=Ma(s)),s&&(o.fields[f_]=s),{mapValue:o}}(n,e):t instanceof Ir?T_(t,e):t instanceof zr?A_(t,e):function(i,s){let o=D_(i,s),c=CM(o)+CM(i.Ie);return I7(o)&&I7(i.Ie)?S_(c):ad(i.serializer,c)}(t,e)}function YO(t,e,n){return t instanceof Ir?T_(t,e):t instanceof zr?A_(t,e):n}function D_(t,e){return t instanceof Ji?function(r){return I7(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Xi=class extends Zi{},Ir=class extends Zi{constructor(e){super(),this.elements=e}};function T_(t,e){let n=x_(e);for(let r of t.elements)n.some(i=>nn(i,r))||n.push(r);return{arrayValue:{values:n}}}var zr=class extends Zi{constructor(e){super(),this.elements=e}};function A_(t,e){let n=x_(e);for(let r of t.elements)n=n.filter(i=>!nn(i,r));return{arrayValue:{values:n}}}var Ji=class extends Zi{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function CM(t){return je(t.integerValue||t.doubleValue)}function x_(t){return id(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ZO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ir&&i instanceof Ir||r instanceof zr&&i instanceof zr?qi(r.elements,i.elements,nn):r instanceof Ji&&i instanceof Ji?nn(r.Ie,i.Ie):r instanceof Xi&&i instanceof Xi}(t.transform,e.transform)}var F7=class{constructor(e,n){this.version=e,this.transformResults=n}},C1=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function k3(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var es=class{};function N_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new r0(t.key,C1.none()):new Sr(t.key,t.data,C1.none());{let n=t.data,r=O2.empty(),i=new dt(n2.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fn(t.key,r,new Z2(i.toArray()),C1.none())}}function XO(t,e,n){t instanceof Sr?function(i,s,o){let c=i.value.clone(),l=_M(i.fieldTransforms,s,o.transformResults);c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Fn?function(i,s,o){if(!k3(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=_M(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(k_(i)),l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Xo(t,e,n,r){return t instanceof Sr?function(s,o,c,l){if(!k3(s.precondition,o))return c;let u=s.value.clone(),d=LM(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fn?function(s,o,c,l){if(!k3(s.precondition,o))return c;let u=LM(s.fieldTransforms,l,o),d=o.data;return d.setAll(k_(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,c){return k3(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function JO(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=D_(r.transform,i||null);s!=null&&(n===null&&(n=O2.empty()),n.set(r.field,s))}return n||null}function MM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qi(r,i,(s,o)=>ZO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Sr=class extends es{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Fn=class extends es{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function k_(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function _M(t,e,n){let r=new Map;Se(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,YO(o,c,n[i]))}return r}function LM(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,QO(s,o,e))}return r}var r0=class extends es{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},V7=class extends es{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var B7=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&XO(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Xo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=z_();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let l=N_(o,c);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&qi(this.mutations,e.mutations,(n,r)=>MM(n,r))&&qi(this.baseMutations,e.baseMutations,(n,r)=>MM(n,r))}},j7=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length);let i=function(){return $O}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var U7=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var H7=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var it,_e;function eF(t){switch(t){case k.OK:return J();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return J()}}function R_(t){if(t===void 0)return Nn("GRPC error has no .code"),k.UNKNOWN;switch(t){case it.OK:return k.OK;case it.CANCELLED:return k.CANCELLED;case it.UNKNOWN:return k.UNKNOWN;case it.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case it.INTERNAL:return k.INTERNAL;case it.UNAVAILABLE:return k.UNAVAILABLE;case it.UNAUTHENTICATED:return k.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case it.NOT_FOUND:return k.NOT_FOUND;case it.ALREADY_EXISTS:return k.ALREADY_EXISTS;case it.PERMISSION_DENIED:return k.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case it.ABORTED:return k.ABORTED;case it.OUT_OF_RANGE:return k.OUT_OF_RANGE;case it.UNIMPLEMENTED:return k.UNIMPLEMENTED;case it.DATA_LOSS:return k.DATA_LOSS;default:return J()}}(_e=it||(it={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var wM=null;function tF(){return new TextEncoder}var nF=new An([4294967295,4294967295],0);function bM(t){let e=tF().encode(t),n=new o7;return n.update(e),new Uint8Array(n.digest())}function EM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new An([n,r],0),new An([i,s],0)]}var $7=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _r(`Invalid padding: ${n}`);if(r<0)throw new _r(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _r(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _r(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=An.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(An.fromNumber(r)));return i.compare(nF)===1&&(i=new An([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let n=bM(e),[r,i]=EM(n);for(let s=0;s<this.hashCount;s++){let o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ee===0)return;let n=bM(e),[r,i]=EM(n);for(let s=0;s<this.hashCount;s++){let o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},_r=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var q3=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,i0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(se.min(),i,new Ke(ye),On(),ge())}},i0=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ge(),ge(),ge())}};var Ui=class{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}},G3=class{constructor(e,n){this.targetId=e,this.ge=n}},W3=class{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},K3=class{constructor(){this.pe=0,this.ye=IM(),this.we=zt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ge(),n=ge(),r=ge();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new i0(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=IM()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Se(this.pe>=0)}Le(){this.Se=!0,this.be=!0}},q7=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=On(),this.$e=T3(),this.Ke=T3(),this.Ue=new Ke(ye)}We(e){for(let n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(let n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{let r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){let n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){let s=i.target;if(P7(s))if(r===0){let o=new Z(s.path);this.ze(n,o,F2.newNoDocument(o,se.min()))}else Se(r===1);else{let o=this.et(n);if(o!==r){let c=this.tt(e),l=c?this.nt(c,e,o):1;if(l!==0){this.Ye(n);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,u)}wM?.rt(function(d,p,y,g,E){var T,x,j,G,Q,Le;let He={localCacheCount:d,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},be=p.unchangedNames;return be&&(He.bloomFilter={applied:E===0,hashCount:(T=be?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(G=(j=(x=be?.bits)===null||x===void 0?void 0:x.bitmap)===null||j===void 0?void 0:j.length)!==null&&G!==void 0?G:0,padding:(Le=(Q=be?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&Le!==void 0?Le:0,mightContain:L=>{var v;return(v=g?.mightContain(L))!==null&&v!==void 0&&v}}),He}(o,e.ge,this.ke.it(),c,l))}}}}tt(e){let n=e.ge.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,c;try{o=Rn(r).toUint8Array()}catch(l){if(l instanceof B3)return $i("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new $7(o,i,s)}catch(l){return $i(l instanceof _r?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){let r=this.ke.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.ke.it(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,s,null),i++)}),i}ot(e){let n=new Map;this.qe.forEach((s,o)=>{let c=this.Xe(o);if(c){if(s.current&&P7(c.target)){let l=new Z(c.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,F2.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=ge();this.Ke.forEach((s,o)=>{let c=!0;o.forEachWhile(l=>{let u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));let i=new q3(e,n,this.Ue,this.Qe,r);return this.Qe=On(),this.$e=T3(),this.Ke=T3(),this.Ue=new Ke(ye),i}Ge(e,n){if(!this.Je(e))return;let r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){let n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new K3,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new dt(ye),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new dt(ye),this.$e=this.$e.insert(e,n)),n}Je(e){let n=this.Xe(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){let n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new K3),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}};function T3(){return new Ke(Z.comparator)}function IM(){return new Ke(Z.comparator)}var rF={asc:"ASCENDING",desc:"DESCENDING"},iF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sF={and:"AND",or:"OR"},G7=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function W7(t,e){return t.useProto3Json||Ca(e)?e:{value:e}}function Q3(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oF(t,e){return Q3(t,e.toTimestamp())}function tn(t){return Se(!!t),se.fromTimestamp(function(n){let r=kn(n);return new Ct(r.seconds,r.nanos)}(t))}function ld(t,e){return K7(t,e).canonicalString()}function K7(t,e){let n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function O_(t){let e=Ue.fromString(t);return Se(U_(e)),e}function Q7(t,e){return ld(t.databaseId,e.path)}function d7(t,e){let n=O_(e);if(n.get(1)!==t.databaseId.projectId)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(V_(n))}function F_(t,e){return ld(t.databaseId,e)}function cF(t){let e=O_(t);return e.length===4?Ue.emptyPath():V_(e)}function Y7(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function V_(t){return Se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zM(t,e,n){return{name:Q7(t,e),fields:n.value.mapValue.fields}}function aF(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Se(d===void 0||typeof d=="string"),zt.fromBase64String(d||"")):(Se(d===void 0||d instanceof Buffer||d instanceof Uint8Array),zt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(u){let d=u.code===void 0?k.UNKNOWN:R_(u.code);return new H(d,u.message||"")}(o);n=new W3(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=d7(t,r.document.name),s=tn(r.document.updateTime),o=r.document.createTime?tn(r.document.createTime):se.min(),c=new O2({mapValue:{fields:r.document.fields}}),l=F2.newFoundDocument(i,s,o,c),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Ui(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=d7(t,r.document),s=r.readTime?tn(r.readTime):se.min(),o=F2.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Ui([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=d7(t,r.document),s=r.removedTargetIds||[];n=new Ui([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new H7(i,s),c=r.targetId;n=new G3(c,o)}}return n}function lF(t,e){let n;if(e instanceof Sr)n={update:zM(t,e.key,e.value)};else if(e instanceof r0)n={delete:Q7(t,e.key)};else if(e instanceof Fn)n={update:zM(t,e.key,e.data),updateMask:vF(e.fieldMask)};else{if(!(e instanceof V7))return J();n={verify:Q7(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Xi)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ir)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof zr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ji)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:oF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J()}(t,e.precondition)),n}function uF(t,e){return t&&t.length>0?(Se(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?tn(i.updateTime):tn(s);return o.isEqual(se.min())&&(o=tn(s)),new F7(o,i.transformResults||[])}(n,e))):[]}function fF(t,e){return{documents:[F_(t,e.path)]}}function dF(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=F_(t,i);let s=function(u){if(u.length!==0)return j_(V2.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(y){return{field:Vi(y.field),direction:mF(y.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let c=W7(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:i}}function hF(t){let e=cF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Se(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){let y=B_(p);return y instanceof V2&&v_(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(E){return new Yi(Bi(E.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,Ca(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(p){let y=!!p.before,g=p.values||[];return new Qi(g,y)}(n.startAt));let u=null;return n.endAt&&(u=function(p){let y=!p.before,g=p.values||[];return new Qi(g,y)}(n.endAt)),VO(e,i,o,s,c,"F",l,u)}function pF(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function B_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Bi(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Bi(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Bi(n.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Bi(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(Bi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return V2.create(n.compositeFilter.filters.map(r=>B_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function mF(t){return rF[t]}function gF(t){return iF[t]}function yF(t){return sF[t]}function Vi(t){return{fieldPath:t.canonicalString()}}function Bi(t){return n2.fromServerFormat(t.fieldPath)}function j_(t){return t instanceof ot?function(n){if(n.op==="=="){if(pM(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NAN"}};if(hM(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pM(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NAN"}};if(hM(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vi(n.field),op:gF(n.op),value:n.value}}}(t):t instanceof V2?function(n){let r=n.getFilters().map(i=>j_(i));return r.length===1?r[0]:{compositeFilter:{op:yF(n.op),filters:r}}}(t):J()}function vF(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function U_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var s0=class t{constructor(e,n,r,i,s=se.min(),o=se.min(),c=zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Z7=class{constructor(e){this.Tt=e}};function CF(t){let e=hF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$3(e,e.limit,"L"):e}var Y3=class{constructor(){}At(e,n){this.Rt(e,n),n.Vt()}Rt(e,n){if("nullValue"in e)this.ft(n,5);else if("booleanValue"in e)this.ft(n,10),n.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(n,15),n.gt(je(e.integerValue));else if("doubleValue"in e){let r=je(e.doubleValue);isNaN(r)?this.ft(n,13):(this.ft(n,15),e0(r)?n.gt(0):n.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(n,20),typeof r=="string"&&(r=kn(r)),n.yt(`${r.seconds||""}`),n.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,n),this.bt(n);else if("bytesValue"in e)this.ft(n,30),n.St(Rn(e.bytesValue)),this.bt(n);else if("referenceValue"in e)this.Dt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(n,45),n.gt(r.latitude||0),n.gt(r.longitude||0)}else"mapValue"in e?m_(e)?this.ft(n,Number.MAX_SAFE_INTEGER):p_(e)?this.vt(e.mapValue,n):(this.Ct(e.mapValue,n),this.bt(n)):"arrayValue"in e?(this.Ft(e.arrayValue,n),this.bt(n)):J()}wt(e,n){this.ft(n,25),this.Mt(e,n)}Mt(e,n){n.yt(e)}Ct(e,n){let r=e.fields||{};this.ft(n,55);for(let i of Object.keys(r))this.wt(i,n),this.Rt(r[i],n)}vt(e,n){var r,i;let s=e.fields||{};this.ft(n,53);let o=Gi,c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(n,15),n.gt(je(c)),this.wt(o,n),this.Rt(s[o],n)}Ft(e,n){let r=e.values||[];this.ft(n,50);for(let i of r)this.Rt(i,n)}Dt(e,n){this.ft(n,37),Z.fromName(e).path.forEach(r=>{this.ft(n,60),this.Mt(r,n)})}ft(e,n){e.gt(n)}bt(e){e.gt(2)}};Y3.xt=new Y3;var X7=class{constructor(){this.Tn=new J7}addToCollectionParentIndex(e,n){return this.Tn.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(br.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(br.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}},J7=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Ue.comparator)).toArray()}};var DJ=new Uint8Array(0);var SM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H_=41943040,v2=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};v2.DEFAULT_COLLECTION_PERCENTILE=10,v2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,v2.DEFAULT=new v2(H_,v2.DEFAULT_COLLECTION_PERCENTILE,v2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),v2.DISABLED=new v2(-1,0,0);var o0=class t{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new t(0)}static Un(){return new t(-1)}};var DM="LruGarbageCollector",MF=1048576;function TM([t,e],[n,r]){let i=ye(t,n);return i===0?ye(e,r):i}var ef=class{constructor(e){this.Hn=e,this.buffer=new dt(TM),this.Jn=0}Yn(){return++this.Jn}Zn(e){let n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();TM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},tf=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){U(DM,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>I(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){ss(n)?U(DM,"Ignoring IndexedDB error during garbage collection: ",n):yield is(n)}yield this.er(3e5)}))}},nf=class{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return R.resolve(Jf.ae);let r=new ef(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),R.resolve(SM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SM):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,c,l,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Oi()<=he.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(l-c)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),R.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}};function _F(t,e){return new nf(t,e)}var rf=class{constructor(){this.changes=new Pn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,F2.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var sf=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var of=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xo(r.mutation,i,Z2.empty(),Ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){let i=Mr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ko();return s.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Mr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=On(),o=Zo(),c=function(){return Zo()}();return n.forEach((l,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Fn)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Xo(d.mutation,u,d.mutation.getFieldMask(),Ct.now())):o.set(u.key,Z2.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return c.set(u,new sf(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Zo(),i=new Ke((o,c)=>o-c),s=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(l=>{let u=n.get(l);if(u===null)return;let d=r.get(l)||Z2.empty();d=c.applyToLocalView(u,d),r.set(l,d);let p=(i.get(c.batchId)||ge()).add(l);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),u=l.key,d=l.value,p=z_();d.forEach(y=>{if(!s.has(y)){let g=N_(n.get(y),r.get(y));g!==null&&p.set(y,g),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(Mr()),c=Jo,l=s;return o.next(u=>R.forEach(u,(d,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(d)?R.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{l=l.insert(d,y)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ge())).next(d=>({batchId:c,changes:I_(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=Ko();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Ko();return this.indexManager.getCollectionParents(e,s).next(c=>R.forEach(c,l=>{let u=function(p,y){return new Er(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,F2.newInvalidDocument(d)))});let c=Ko();return o.forEach((l,u)=>{let d=s.get(l);d!==void 0&&Xo(d.mutation,u,Z2.empty(),Ct.now()),La(n,u)&&(c=c.insert(l,u))}),c})}};var cf=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return R.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:tn(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:CF(i.bundledQuery),readTime:tn(i.readTime)}}(n)),R.resolve()}};var af=class{constructor(){this.overlays=new Ke(Z.comparator),this.Rr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Mr();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){let i=Mr(),s=n.length+1,o=new Z(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let l=c.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ke((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Mr(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let c=Mr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>c.set(u,d)),!(c.size()>=i)););return R.resolve(c)}Et(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new U7(n,r));let s=this.Rr.get(n);s===void 0&&(s=ge(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}};var lf=class{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,R.resolve()}};var c0=class{constructor(){this.Vr=new dt(st.mr),this.gr=new dt(st.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){let r=new st(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new st(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){let n=new Z(new Ue([])),r=new st(n,e),i=new st(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let n=new Z(new Ue([])),r=new st(n,e),i=new st(n,e+1),s=ge();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new st(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},st=class{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Z.comparator(e.key,n.key)||ye(e.Cr,n.Cr)}static pr(e,n){return ye(e.Cr,n.Cr)||Z.comparator(e.key,n.key)}};var uf=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new dt(st.mr)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new B7(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.Mr=this.Mr.add(new st(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Nr(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?ed:this.Fr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new st(n,0),i=new st(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{let c=this.Or(o.Cr);s.push(c)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(ye);return n.forEach(i=>{let s=new st(i,0),o=new st(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],c=>{r=r.add(c.Cr)})}),R.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;Z.isDocumentKey(s)||(s=s.child(""));let o=new st(new Z(s),0),c=new dt(ye);return this.Mr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(c=c.add(l.Cr)),!0)},o),R.resolve(this.Br(c))}Br(e){let n=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return R.forEach(n.mutations,i=>{let s=new st(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){let r=new st(n,0),i=this.Mr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var ff=class{constructor(e){this.kr=e,this.docs=function(){return new Ke(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():F2.newInvalidDocument(n))}getEntries(e,n){let r=On();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():F2.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=On(),o=n.path,c=new Z(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||MO(CO(d),r)<=0||(i.has(d.key)||La(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}qr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new df(this)}getSize(e){return R.resolve(this.size)}},df=class extends rf{constructor(e){super(),this.Ir=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}};var hf=class{constructor(e){this.persistence=e,this.Qr=new Pn(n=>sd(n),od),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new c0,this.targetCount=0,this.Ur=o0.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),R.resolve()}zn(e){this.Qr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Ur=new o0(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.zn(n),R.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Qr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){let r=this.Qr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),R.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Kr.vr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Kr.containsKey(n))}};var Z3=class{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Jf(0),this.zr=!1,this.zr=!0,this.jr=new lf,this.referenceDelegate=e(this),this.Hr=new hf(this),this.indexManager=new X7,this.remoteDocumentCache=function(i){return new ff(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Z7(n),this.Yr=new cf(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new af,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new uf(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new pf(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return R.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}},pf=class extends w7{constructor(e){super(),this.currentSequenceNumber=e}},mf=class t{constructor(e){this.persistence=e,this.ti=new c0,this.ni=null}static ri(e){return new t(e)}get ii(){if(this.ni)return this.ni;throw J()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),R.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.ii,r=>{let i=Z.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return R.or([()=>R.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}},X3=class t{constructor(e,n){this.persistence=e,this.oi=new Pn(r=>bO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=_F(this,n)}static ri(e,n){return new t(e,n)}Zr(){}Xr(e){return R.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){let n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return R.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?R.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(c=>{c||(r++,s.removeEntry(o,se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),R.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),R.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),R.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),R.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=x3(e.data.value)),n}ar(e,n,r){return R.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.oi.get(n);return R.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var gf=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=ge(),i=ge();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var yf=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var vf=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return oC()?8:LO(t2())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new yf;return this._s(e,n,o).next(c=>{if(s.result=c,this.Xi)return this.us(e,n,o,c.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Oi()<=he.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Fi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),R.resolve()):(Oi()<=he.DEBUG&&U("QueryEngine","Query:",Fi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Oi()<=he.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Fi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,en(n))):R.resolve())}rs(e,n){if(vM(n))return R.resolve(null);let r=en(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$3(n,null,"F"),r=en(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ge(...s);return this.ns.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.cs(n,c);return this.ls(n,u,o,l.readTime)?this.rs(e,$3(n,null,"F")):this.hs(e,u,n,l)}))})))}ss(e,n,r,i){return vM(n)||i.isEqual(se.min())?R.resolve(null):this.ns.getDocuments(e,r).next(s=>{let o=this.cs(n,s);return this.ls(n,o,r,i)?R.resolve(null):(Oi()<=he.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fi(n)),this.hs(e,o,n,vO(i,Jo)).next(c=>c))})}cs(e,n){let r=new dt(b_(e));return n.forEach((i,s)=>{La(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return Oi()<=he.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Fi(n)),this.ns.getDocumentsMatchingQuery(e,n,br.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var ud="LocalStore",LF=3e8,Cf=class{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Ke(ye),this.Is=new Pn(s=>sd(s),od),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new of(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}};function wF(t,e,n,r){return new Cf(t,e,n,r)}function $_(t,e){return I(this,null,function*(){let n=ne(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],l=ge();for(let u of i){o.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}for(let u of s){c.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:c}))})})})}function bF(t,e){let n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,l,u,d){let p=u.batch,y=p.keys(),g=R.resolve();return y.forEach(E=>{g=g.next(()=>d.getEntry(l,E)).next(T=>{let x=u.docVersions.get(E);Se(x!==null),T.version.compareTo(x)<0&&(p.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),d.addEntry(T)))})}),g.next(()=>c.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=ge();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function q_(t){let e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function EF(t,e){let n=ne(t),r=e.snapshotVersion,i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;let c=[];e.targetChanges.forEach((d,p)=>{let y=i.get(p);if(!y)return;c.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,p)));let g=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(zt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(p,g),function(T,x,j){return T.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=LF?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(y,g,d)&&c.push(n.Hr.updateTargetData(s,g))});let l=On(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(IF(s,o,e.documentUpdates).next(d=>{l=d.Vs,u=d.fs})),!r.isEqual(se.min())){let d=n.Hr.getLastRemoteSnapshotVersion(s).next(p=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(d)}return R.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ts=i,s))}function IF(t,e,n){let r=ge(),i=ge();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=On();return n.forEach((c,l)=>{let u=s.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):U(ud,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function zF(t,e){let n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ed),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SF(t,e){let n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new s0(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}function Mf(t,e,n){return I(this,null,function*(){let r=ne(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ss(o))throw o;U(ud,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function AM(t,e,n){let r=ne(t),i=se.min(),s=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){let p=ne(l),y=p.Is.get(d);return y!==void 0?R.resolve(p.Ts.get(y)):p.Hr.getTargetData(u,d)}(r,o,en(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,c.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:ge())).next(c=>(DF(r,jO(e),c),{documents:c,gs:s})))}function DF(t,e,n){let r=t.Es.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}var J3=class{constructor(){this.activeTargetIds=WO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var _f=class{constructor(){this.ho=new J3,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new J3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Lf=class{To(e){}shutdown(){}};var xM="ConnectivityMonitor",ea=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){U(xM,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){U(xM,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var A3=null;function wf(){return A3===null?A3=function(){return 268435456+Math.round(2147483648*Math.random())}():A3++,"0x"+A3.toString(16)}var h7="RestConnection",TF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},bf=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===j3?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,n,r,i,s){let o=wf(),c=this.So(e,n.toUriEncodedString());U(h7,`Sending RPC '${e}' ${o}:`,c,r);let l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,c,l,r).then(u=>(U(h7,`Received RPC '${e}' ${o}: `,u),u),u=>{throw $i(h7,`RPC '${e}' ${o} failed with error: `,u,"url: ",c,"request:",r),u})}Co(e,n,r,i,s,o){return this.bo(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,n){let r=TF[e];return`${this.po}/v1/${n}:${r}`}terminate(){}};var Ef=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}};var It="WebChannelConnection",If=class extends bf{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){let s=wf();return new Promise((o,c)=>{let l=new c7;l.setWithCredentials(!0),l.listenOnce(a7.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Wo.NO_ERROR:let d=l.getResponseJson();U(It,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Wo.TIMEOUT:U(It,`RPC '${e}' ${s} timed out`),c(new H(k.DEADLINE_EXCEEDED,"Request time out"));break;case Wo.HTTP_ERROR:let p=l.getStatus();if(U(It,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let g=y?.error;if(g&&g.status&&g.message){let E=function(x){let j=x.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(j)>=0?j:k.UNKNOWN}(g.status);c(new H(E,g.message))}else c(new H(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new H(k.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{U(It,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);U(It,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Wo(e,n,r){let i=wf(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=f7(),c=u7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let d=s.join("");U(It,`Creating RPC '${e}' stream ${i}: ${d}`,l);let p=o.createWebChannel(d,l),y=!1,g=!1,E=new Ef({Fo:x=>{g?U(It,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(y||(U(It,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),U(It,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},Mo:()=>p.close()}),T=(x,j,G)=>{x.listen(j,Q=>{try{G(Q)}catch(Le){setTimeout(()=>{throw Le},0)}})};return T(p,Pi.EventType.OPEN,()=>{g||(U(It,`RPC '${e}' stream ${i} transport opened.`),E.Qo())}),T(p,Pi.EventType.CLOSE,()=>{g||(g=!0,U(It,`RPC '${e}' stream ${i} transport closed`),E.Ko())}),T(p,Pi.EventType.ERROR,x=>{g||(g=!0,$i(It,`RPC '${e}' stream ${i} transport errored:`,x),E.Ko(new H(k.UNAVAILABLE,"The operation could not be completed")))}),T(p,Pi.EventType.MESSAGE,x=>{var j;if(!g){let G=x.data[0];Se(!!G);let Q=G,Le=Q?.error||((j=Q[0])===null||j===void 0?void 0:j.error);if(Le){U(It,`RPC '${e}' stream ${i} received error:`,Le);let He=Le.status,be=function(M){let _=it[M];if(_!==void 0)return R_(_)}(He),L=Le.message;be===void 0&&(be=k.INTERNAL,L="Unknown error status: "+He+" with message "+Le.message),g=!0,E.Ko(new H(be,L)),p.close()}else U(It,`RPC '${e}' stream ${i} received:`,G),E.Uo(G)}}),T(c,l7.STAT_EVENT,x=>{x.stat===S3.PROXY?U(It,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===S3.NOPROXY&&U(It,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}};function p7(){return typeof document<"u"?document:null}function wa(t){return new G7(t,!0)}var ta=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var NM="PersistentStream",na=class{constructor(e,n,r,i,s,o,c,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ta(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return I(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return I(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,n){return I(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Nn(n.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(n)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{let i=new H(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){let r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>I(this,null,function*(){this.state=0,this.start()}))}m_(e){return U(NM,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(U(NM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},zf=class extends na{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let n=aF(this.serializer,e),r=function(s){if(!("targetChange"in s))return se.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?tn(o.readTime):se.min()}(e);return this.listener.p_(n,r)}y_(e){let n={};n.database=Y7(this.serializer),n.addTarget=function(s,o){let c,l=o.target;if(c=P7(l)?{documents:fF(s,l)}:{query:dF(s,l).ht},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=P_(s,o.resumeToken);let u=W7(s,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(se.min())>0){c.readTime=Q3(s,o.snapshotVersion.toTimestamp());let u=W7(s,o.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,e);let r=pF(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){let n={};n.database=Y7(this.serializer),n.removeTarget=e,this.I_(n)}},Sf=class extends na{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Se(!!e.streamToken),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();let n=uF(e.writeResults,e.commitTime),r=tn(e.commitTime);return this.listener.v_(r,n)}C_(){let e={};e.database=Y7(this.serializer),this.I_(e)}S_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>lF(this.serializer,r))};this.I_(n)}};var Df=class{},Tf=class extends Df{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,K7(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(k.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Co(e,K7(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(k.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},Af=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Nn(n),this.N_=!1):U("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var Dr="RemoteStore",xf=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(()=>I(this,null,function*(){Ar(this)&&(U(Dr,"Restarting streams for network reachability change."),yield function(l){return I(this,null,function*(){let u=ne(l);u.W_.add(4),yield p0(u),u.j_.set("Unknown"),u.W_.delete(4),yield ba(u)})}(this))}))}),this.j_=new Af(r,i)}};function ba(t){return I(this,null,function*(){if(Ar(t))for(let e of t.G_)yield e(!0)})}function p0(t){return I(this,null,function*(){for(let e of t.G_)yield e(!1)})}function G_(t,e){let n=ne(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),pd(n)?hd(n):os(n).c_()&&dd(n,e))}function fd(t,e){let n=ne(t),r=os(n);n.U_.delete(e),r.c_()&&W_(n,e),n.U_.size===0&&(r.c_()?r.P_():Ar(n)&&n.j_.set("Unknown"))}function dd(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}os(t).y_(e)}function W_(t,e){t.H_.Ne(e),os(t).w_(e)}function hd(t){t.H_=new q7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),os(t).start(),t.j_.B_()}function pd(t){return Ar(t)&&!os(t).u_()&&t.U_.size>0}function Ar(t){return ne(t).W_.size===0}function K_(t){t.H_=void 0}function AF(t){return I(this,null,function*(){t.j_.set("Online")})}function xF(t){return I(this,null,function*(){t.U_.forEach((e,n)=>{dd(t,e)})})}function NF(t,e){return I(this,null,function*(){K_(t),pd(t)?(t.j_.q_(e),hd(t)):t.j_.set("Unknown")})}function kF(t,e,n){return I(this,null,function*(){if(t.j_.set("Online"),e instanceof W3&&e.state===2&&e.cause)try{yield function(i,s){return I(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.U_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.U_.delete(c),i.H_.removeTarget(c))})}(t,e)}catch(r){U(Dr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ra(t,r)}else if(e instanceof Ui?t.H_.We(e):e instanceof G3?t.H_.Ze(e):t.H_.je(e),!n.isEqual(se.min()))try{let r=yield q_(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let c=s.H_.ot(o);return c.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.U_.get(u);d&&s.U_.set(u,d.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,u)=>{let d=s.U_.get(l);if(!d)return;s.U_.set(l,d.withResumeToken(zt.EMPTY_BYTE_STRING,d.snapshotVersion)),W_(s,l);let p=new s0(d.target,l,u,d.sequenceNumber);dd(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){U(Dr,"Failed to raise snapshot:",r),yield ra(t,r)}})}function ra(t,e,n){return I(this,null,function*(){if(!ss(e))throw e;t.W_.add(1),yield p0(t),t.j_.set("Offline"),n||(n=()=>q_(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){U(Dr,"Retrying IndexedDB access"),yield n(),t.W_.delete(1),yield ba(t)}))})}function Q_(t,e){return e().catch(n=>ra(t,n,e))}function Ea(t){return I(this,null,function*(){let e=ne(t),n=w1(e),r=e.K_.length>0?e.K_[e.K_.length-1].batchId:ed;for(;RF(e);)try{let i=yield zF(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,PF(e,i)}catch(i){yield ra(e,i)}Y_(e)&&Z_(e)})}function RF(t){return Ar(t)&&t.K_.length<10}function PF(t,e){t.K_.push(e);let n=w1(t);n.c_()&&n.b_&&n.S_(e.mutations)}function Y_(t){return Ar(t)&&!w1(t).u_()&&t.K_.length>0}function Z_(t){w1(t).start()}function OF(t){return I(this,null,function*(){w1(t).C_()})}function FF(t){return I(this,null,function*(){let e=w1(t);for(let n of t.K_)e.S_(n.mutations)})}function VF(t,e,n){return I(this,null,function*(){let r=t.K_.shift(),i=j7.from(r,e,n);yield Q_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ea(t)})}function BF(t,e){return I(this,null,function*(){e&&w1(t).b_&&(yield function(r,i){return I(this,null,function*(){if(function(o){return eF(o)&&o!==k.ABORTED}(i.code)){let s=r.K_.shift();w1(r).h_(),yield Q_(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Ea(r)}})}(t,e)),Y_(t)&&Z_(t)})}function kM(t,e){return I(this,null,function*(){let n=ne(t);n.asyncQueue.verifyOperationInProgress(),U(Dr,"RemoteStore received new credentials");let r=Ar(n);n.W_.add(3),yield p0(n),r&&n.j_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),yield ba(n)})}function jF(t,e){return I(this,null,function*(){let n=ne(t);e?(n.W_.delete(2),yield ba(n)):e||(n.W_.add(2),yield p0(n),n.j_.set("Unknown"))})}function os(t){return t.J_||(t.J_=function(n,r,i){let s=ne(n);return s.M_(),new zf(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:AF.bind(null,t),No:xF.bind(null,t),Lo:NF.bind(null,t),p_:kF.bind(null,t)}),t.G_.push(e=>I(this,null,function*(){e?(t.J_.h_(),pd(t)?hd(t):t.j_.set("Unknown")):(yield t.J_.stop(),K_(t))}))),t.J_}function w1(t){return t.Y_||(t.Y_=function(n,r,i){let s=ne(n);return s.M_(),new Sf(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:OF.bind(null,t),Lo:BF.bind(null,t),D_:FF.bind(null,t),v_:VF.bind(null,t)}),t.G_.push(e=>I(this,null,function*(){e?(t.Y_.h_(),yield Ea(t)):(yield t.Y_.stop(),t.K_.length>0&&(U(Dr,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))}))),t.Y_}var Nf=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new X2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function md(t,e){if(Nn("AsyncQueue",`${e}: ${t}`),ss(t))return new H(k.UNAVAILABLE,`${e}: ${t}`);throw t}var ia=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=Ko(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var sa=class{constructor(){this.Z_=new Ke(Z.comparator)}track(e){let n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):J():this.Z_=this.Z_.insert(n,e)}X_(){let e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}},ts=class t{constructor(e,n,r,i,s,o,c,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new t(e,n,ia.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_a(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var kf=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},Rf=class{constructor(){this.queries=RM(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){let i=ne(n),s=i.queries;i.queries=RM(),s.forEach((o,c)=>{for(let l of c.ta)l.onError(r)})})(this,new H(k.ABORTED,"Firestore shutting down"))}};function RM(){return new Pn(t=>w_(t),_a)}function X_(t,e){return I(this,null,function*(){let n=ne(t),r=3,i=e.query,s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new kf,r=e.ra()?0:1);try{switch(r){case 0:s.ea=yield n.onListen(i,!0);break;case 1:s.ea=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let c=md(o,`Initialization of query '${Fi(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&gd(n)})}function J_(t,e){return I(this,null,function*(){let n=ne(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function UF(t,e){let n=ne(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let c of o.ta)c.oa(i)&&(r=!0);o.ea=i}}r&&gd(n)}function HF(t,e,n){let r=ne(t),i=r.queries.get(e);if(i)for(let s of i.ta)s.onError(n);r.queries.delete(e)}function gd(t){t.ia.forEach(e=>{e.next()})}var Pf,PM;(PM=Pf||(Pf={}))._a="default",PM.Cache="cache";var oa=class{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ts(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;let r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;let n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Pf.Cache}};var ca=class{constructor(e){this.key=e}},aa=class{constructor(e){this.key=e}},Of=class{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ge(),this.mutatedKeys=ge(),this.ya=b_(e),this.wa=new ia(this.ya)}get ba(){return this.fa}Sa(e,n){let r=n?n.Da:new sa,i=n?n.wa:this.wa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{let y=i.get(d),g=La(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),x=!1;y&&g?y.data.isEqual(g.data)?E!==T&&(r.track({type:3,doc:g}),x=!0):this.va(y,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.ya(g,l)>0||u&&this.ya(g,u)<0)&&(c=!0)):!y&&g?(r.track({type:0,doc:g}),x=!0):y&&!g&&(r.track({type:1,doc:y}),x=!0,(l||u)&&(c=!0)),x&&(g?(o=o.add(g),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:c,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let o=e.Da.X_();o.sort((d,p)=>function(g,E){let T=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return T(g)-T(E)}(d.type,p.type)||this.ya(d.doc,p.doc)),this.Ca(r),i=i!=null&&i;let c=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new ts(this.query,e.wa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new sa,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=ge(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new aa(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new ca(r))}),n}Oa(e){this.fa=e.gs,this.pa=ge();let n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return ts.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},yd="SyncEngine",Ff=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Vf=class{constructor(e){this.key=e,this.Ba=!1}},Bf=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Pn(c=>w_(c),_a),this.qa=new Map,this.Qa=new Set,this.$a=new Ke(Z.comparator),this.Ka=new Map,this.Ua=new c0,this.Wa={},this.Ga=new Map,this.za=o0.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function $F(t,e,n=!0){return I(this,null,function*(){let r=sL(t),i,s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=yield eL(r,e,n,!0),i})}function qF(t,e){return I(this,null,function*(){let n=sL(t);yield eL(n,e,!0,!1)})}function eL(t,e,n,r){return I(this,null,function*(){let i=yield SF(t.localStore,en(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),c;return r&&(c=yield GF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&G_(t.remoteStore,i),c})}function GF(t,e,n,r,i){return I(this,null,function*(){t.Ha=(p,y,g)=>function(T,x,j,G){return I(this,null,function*(){let Q=x.view.Sa(j);Q.ls&&(Q=yield AM(T.localStore,x.query,!1).then(({documents:L})=>x.view.Sa(L,Q)));let Le=G&&G.targetChanges.get(x.targetId),He=G&&G.targetMismatches.get(x.targetId)!=null,be=x.view.applyChanges(Q,T.isPrimaryClient,Le,He);return FM(T,x.targetId,be.Ma),be.snapshot})}(t,p,y,g);let s=yield AM(t.localStore,e,!0),o=new Of(e,s.gs),c=o.Sa(s.documents),l=i0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(c,t.isPrimaryClient,l);FM(t,n,u.Ma);let d=new Ff(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot})}function WF(t,e,n){return I(this,null,function*(){let r=ne(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!_a(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Mf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fd(r.remoteStore,i.targetId),jf(r,i.targetId)}).catch(is))):(jf(r,i.targetId),yield Mf(r.localStore,i.targetId,!0))})}function KF(t,e){return I(this,null,function*(){let n=ne(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fd(n.remoteStore,r.targetId))})}function QF(t,e,n){return I(this,null,function*(){let r=nV(t);try{let i=yield function(o,c){let l=ne(o),u=Ct.now(),d=c.reduce((g,E)=>g.add(E.key),ge()),p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=On(),T=ge();return l.ds.getEntries(g,d).next(x=>{E=x,E.forEach((j,G)=>{G.isValidDocument()||(T=T.add(j))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(x=>{p=x;let j=[];for(let G of c){let Q=JO(G,p.get(G.key).overlayedDocument);Q!=null&&j.push(new Fn(G.key,Q,g_(Q.value.mapValue),C1.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,j,c)}).next(x=>{y=x;let j=x.applyToLocalDocumentSet(p,T);return l.documentOverlayCache.saveOverlays(g,x.batchId,j)})}).then(()=>({batchId:y.batchId,changes:I_(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new Ke(ye)),u=u.insert(c,l),o.Wa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield m0(r,i.changes),yield Ea(r.remoteStore)}catch(i){let s=md(i,"Failed to persist write");n.reject(s)}})}function tL(t,e){return I(this,null,function*(){let n=ne(t);try{let r=yield EF(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Ka.get(s);o&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Se(o.Ba):i.removedDocuments.size>0&&(Se(o.Ba),o.Ba=!1))}),yield m0(n,r,e)}catch(r){yield is(r)}})}function OM(t,e,n){let r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ka.forEach((s,o)=>{let c=o.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let l=ne(o);l.onlineState=c;let u=!1;l.queries.forEach((d,p)=>{for(let y of p.ta)y.sa(c)&&(u=!0)}),u&&gd(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function YF(t,e,n){return I(this,null,function*(){let r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ka.get(e),s=i&&i.key;if(s){let o=new Ke(Z.comparator);o=o.insert(s,F2.newNoDocument(s,se.min()));let c=ge().add(s),l=new q3(se.min(),new Map,new Ke(ye),o,c);yield tL(r,l),r.$a=r.$a.remove(s),r.Ka.delete(e),vd(r)}else yield Mf(r.localStore,e,!1).then(()=>jf(r,e,n)).catch(is)})}function ZF(t,e){return I(this,null,function*(){let n=ne(t),r=e.batch.batchId;try{let i=yield bF(n.localStore,e);rL(n,r,null),nL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield m0(n,i)}catch(i){yield is(i)}})}function XF(t,e,n){return I(this,null,function*(){let r=ne(t);try{let i=yield function(o,c){let l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,c).next(p=>(Se(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);rL(r,e,n),nL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield m0(r,i)}catch(i){yield is(i)}})}function nL(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function rL(t,e,n){let r=ne(t),i=r.Wa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function jf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||iL(t,r)})}function iL(t,e){t.Qa.delete(e.path.canonicalString());let n=t.$a.get(e);n!==null&&(fd(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),vd(t))}function FM(t,e,n){for(let r of n)r instanceof ca?(t.Ua.addReference(r.key,e),JF(t,r)):r instanceof aa?(U(yd,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||iL(t,r.key)):J()}function JF(t,e){let n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(U(yd,"New document in limbo: "+n),t.Qa.add(r),vd(t))}function vd(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){let e=t.Qa.values().next().value;t.Qa.delete(e);let n=new Z(Ue.fromString(e)),r=t.za.next();t.Ka.set(r,new Vf(n)),t.$a=t.$a.insert(n,r),G_(t.remoteStore,new s0(en(cd(n.path)),r,"TargetPurposeLimboResolution",Jf.ae))}}function m0(t,e,n){return I(this,null,function*(){let r=ne(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((c,l)=>{o.push(r.Ha(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=n?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);let p=gf.Yi(l.targetId,u);s.push(p)}}))}),yield Promise.all(o),r.La.p_(i),yield function(l,u){return I(this,null,function*(){let d=ne(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>R.forEach(u,y=>R.forEach(y.Hi,g=>d.persistence.referenceDelegate.addReference(p,y.targetId,g)).next(()=>R.forEach(y.Ji,g=>d.persistence.referenceDelegate.removeReference(p,y.targetId,g)))))}catch(p){if(!ss(p))throw p;U(ud,"Failed to update sequence numbers: "+p)}for(let p of u){let y=p.targetId;if(!p.fromCache){let g=d.Ts.get(y),E=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(E);d.Ts=d.Ts.insert(y,T)}}})}(r.localStore,s))})}function eV(t,e){return I(this,null,function*(){let n=ne(t);if(!n.currentUser.isEqual(e)){U(yd,"User change. New user:",e.toKey());let r=yield $_(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(c=>{c.forEach(l=>{l.reject(new H(k.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield m0(n,r.Rs)}})}function tV(t,e){let n=ne(t),r=n.Ka.get(e);if(r&&r.Ba)return ge().add(r.key);{let i=ge(),s=n.qa.get(e);if(!s)return i;for(let o of s){let c=n.ka.get(o);i=i.unionWith(c.view.ba)}return i}}function sL(t){let e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YF.bind(null,e),e.La.p_=UF.bind(null,e.eventManager),e.La.Ja=HF.bind(null,e.eventManager),e}function nV(t){let e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XF.bind(null,e),e}var oL=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return I(this,null,function*(){this.serializer=wa(n.databaseInfo.databaseId),this.sharedClientState=this.Za(n),this.persistence=this.Xa(n),yield this.persistence.start(),this.localStore=this.eu(n),this.gcScheduler=this.tu(n,this.localStore),this.indexBackfillerScheduler=this.nu(n,this.localStore)})}tu(n,r){return null}nu(n,r){return null}eu(n){return wF(this.persistence,new vf,n.initialUser,this.serializer)}Xa(n){return new Z3(mf.ri,this.serializer)}Za(n){return new _f}terminate(){return I(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),Uf=class extends oL{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Se(this.persistence.referenceDelegate instanceof X3);let r=this.persistence.referenceDelegate.garbageCollector;return new tf(r,e.asyncQueue,n)}Xa(e){let n=this.cacheSizeBytes!==void 0?v2.withCacheSize(this.cacheSizeBytes):v2.DEFAULT;return new Z3(r=>X3.ri(r,n),this.serializer)}};var rV=(()=>{class t{initialize(n,r){return I(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>OM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=eV.bind(null,this.syncEngine),yield jF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Rf}()}createDatastore(n){let r=wa(n.databaseInfo.databaseId),i=function(o){return new If(o)}(n.databaseInfo);return function(o,c,l,u){return new Tf(o,c,l,u)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,l){return new xf(i,s,o,c,l)}(this.localStore,this.datastore,n.asyncQueue,r=>OM(this.syncEngine,r,0),function(){return ea.D()?new ea:new Lf}())}createSyncEngine(n,r){return function(s,o,c,l,u,d,p){let y=new Bf(s,o,c,l,u,d);return p&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var n,r;yield function(s){return I(this,null,function*(){let o=ne(s);U(Dr,"RemoteStore shutting down."),o.W_.add(5),yield p0(o),o.z_.shutdown(),o.j_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var la=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Nn("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var b1="FirestoreClient",Hf=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=O3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>I(this,null,function*(){U(b1,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(U(b1,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new X2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=md(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function m7(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U(b1,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield $_(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function VM(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield iV(t);U(b1,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kM(e.remoteStore,i)),t._onlineComponents=e})}function iV(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U(b1,"Using user provided OfflineComponentProvider");try{yield m7(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;$i("Error using user provided cache. Falling back to memory cache: "+n),yield m7(t,new oL)}}else U(b1,"Using default OfflineComponentProvider"),yield m7(t,new Uf(void 0));return t._offlineComponents})}function cL(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U(b1,"Using user provided OnlineComponentProvider"),yield VM(t,t._uninitializedComponentsProvider._online)):(U(b1,"Using default OnlineComponentProvider"),yield VM(t,new rV))),t._onlineComponents})}function sV(t){return cL(t).then(e=>e.syncEngine)}function $f(t){return I(this,null,function*(){let e=yield cL(t),n=e.eventManager;return n.onListen=$F.bind(null,e.syncEngine),n.onUnlisten=WF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KF.bind(null,e.syncEngine),n})}function oV(t,e,n={}){let r=new X2;return t.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(s,o,c,l,u){let d=new la({next:y=>{d.su(),o.enqueueAndForget(()=>J_(s,p)),y.fromCache&&l.source==="server"?u.reject(new H(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new oa(c,d,{includeMetadataChanges:!0,Ta:!0});return X_(s,p)}(yield $f(t),t.asyncQueue,e,n,r)})),r.promise}function aL(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var BM=new Map;function lL(t,e,n){if(!n)throw new H(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cV(t,e,n,r){if(e===!0&&r===!0)throw new H(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jM(t){if(!Z.isDocumentKey(t))throw new H(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UM(t){if(Z.isDocumentKey(t))throw new H(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ia(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function M1(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Ia(t);throw new H(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function aV(t,e){if(e<=0)throw new H(k.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var uL="firestore.googleapis.com",HM=!0,ua=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uL,this.ssl=HM}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:HM;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MF)throw new H(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ns=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ua({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ua(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new g7;switch(r.type){case"firstParty":return new M7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=BM.get(n);r&&(U("ComponentProvider","Removing Datastore"),BM.delete(n),r.terminate())}(this),Promise.resolve()}};function fL(t,e,n,r={}){var i;let s=(t=M1(t,ns))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s.host!==uL&&s.host!==c&&$i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:!1,emulatorOptions:r});if(!dr(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=ft.MOCK_USER;else{u=tC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new H(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ft(p)}t._authCredentials=new y7(new R3(u,d))}}var E1=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},r2=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},_1=class t extends E1{constructor(e,n,r){super(e,n,cd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new r2(this.firestore,null,new Z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function dL(t,e,...n){if(t=Qt(t),lL("collection","path",e),t instanceof ns){let r=Ue.fromString(e,...n);return UM(r),new _1(t,null,r)}{if(!(t instanceof r2||t instanceof _1))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ue.fromString(e,...n));return UM(r),new _1(t.firestore,null,r)}}function Cd(t,e,...n){if(t=Qt(t),arguments.length===1&&(e=O3.newId()),lL("doc","path",e),t instanceof ns){let r=Ue.fromString(e,...n);return jM(r),new r2(t,null,new Z(r))}{if(!(t instanceof r2||t instanceof _1))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ue.fromString(e,...n));return jM(r),new r2(t.firestore,t instanceof _1?t.converter:null,new Z(r))}}var $M="AsyncQueue",fa=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ta(this,"async_queue_retry"),this.bu=()=>{let r=p7();r&&U($M,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;let n=p7();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let n=p7();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let n=new X2;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return I(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ss(e))throw e;U($M,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Nn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);let i=Nf.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&J()}verifyOperationInProgress(){}Mu(){return I(this,null,function*(){let e;do e=this.Su,yield e;while(e!==this.Su)})}xu(e){for(let n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let n=this.fu.indexOf(e);this.fu.splice(n,1)}};function qM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var I1=class extends ns{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fa,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new fa(e),this._firestoreClient=void 0,yield e}})}};function hL(t,e){let n=typeof t=="object"?t:Ni(),r=typeof t=="string"?t:e||j3,i=u3(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Jv("firestore");s&&fL(i,...s)}return i}function Md(t){if(t._terminated)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lV(t),t._firestoreClient}function lV(t){var e,n,r;let i=t._freezeSettings(),s=function(c,l,u,d){return new b7(c,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,aL(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Hf(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(t._componentsProvider))}var a0=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(zt.fromBase64String(e))}catch(n){throw new H(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var l0=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new n2(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var da=class{constructor(e){this._methodName=e}};var u0=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var f0=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var uV=/^__.*__$/,qf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sr(e,this.data,n,this.fieldTransforms)}};function pL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}var Gf=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ha(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(pL(this.Lu)&&uV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},Wf=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wa(e)}ju(e,n,r,i=!1){return new Gf({Lu:e,methodName:n,zu:r,path:n2.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function mL(t){let e=t._freezeSettings(),n=wa(t._databaseId);return new Wf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fV(t,e,n,r,i,s={}){let o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);vL("Data must be an object, but it was:",o,r);let c=gL(r,o),l,u;if(s.merge)l=new Z2(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let p of s.mergeFields){let y=hV(e,p,n);if(!o.contains(y))throw new H(k.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);mV(d,y)||d.push(y)}l=new Z2(d),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new qf(new O2(c),l,u)}function dV(t,e,n,r=!1){return _d(n,t.ju(r?4:3,e))}function _d(t,e){if(yL(t=Qt(t)))return vL("Unsupported field value:",e,t),gL(t,e);if(t instanceof da)return function(r,i){if(!pL(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let l=_d(c,i.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ct.fromDate(r);return{timestampValue:Q3(i.serializer,s)}}if(r instanceof Ct){let s=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Q3(i.serializer,s)}}if(r instanceof u0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof a0)return{bytesValue:P_(i.serializer,r._byteString)};if(r instanceof r2){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ld(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof f0)return function(o,c){return{mapValue:{fields:{[nd]:{stringValue:rd},[Gi]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Wu("VectorValues must only contain numeric values.");return ad(c.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Ia(r)}`)}(t,e)}function gL(t,e){let n={};return a_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(t,(r,i)=>{let s=_d(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function yL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof u0||t instanceof a0||t instanceof r2||t instanceof da||t instanceof f0)}function vL(t,e,n){if(!yL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Ia(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function hV(t,e,n){if((e=Qt(e))instanceof l0)return e._internalPath;if(typeof e=="string")return CL(t,e);throw ha("Field path arguments must be of type string or ",t,!1,void 0,n)}var pV=new RegExp("[~\\*/\\[\\]]");function CL(t,e,n){if(e.search(pV)>=0)throw ha(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new l0(...e.split("."))._internalPath}catch{throw ha(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ha(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new H(k.INVALID_ARGUMENT,c+t+l)}function mV(t,e){return t.some(n=>n.isEqual(e))}var pa=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new r2(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Kf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Ld("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Kf=class extends pa{data(){return super.data()}};function Ld(t,e){return typeof e=="string"?CL(t,e):e instanceof l0?e._internalPath:e._delegate._internalPath}function ML(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var d0=class{},ma=class extends d0{};function _L(t,e,...n){let r=[];e instanceof d0&&r.push(e),r=r.concat(n),function(s){let o=s.filter(l=>l instanceof Qf).length,c=s.filter(l=>l instanceof ga).length;if(o>1||o>0&&c>0)throw new H(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ga=class t extends ma{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return bL(e._query,n),new E1(e.firestore,e.converter,O7(e._query,n))}_parse(e){let n=mL(e.firestore);return function(s,o,c,l,u,d,p){let y;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){WM(p,d);let E=[];for(let T of p)E.push(GM(l,s,T));y={arrayValue:{values:E}}}else y=GM(l,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||WM(p,d),y=dV(c,o,p,d==="in"||d==="not-in");return ot.create(u,d,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function LL(t,e,n){let r=e,i=Ld("where",t);return ga._create(i,r,n)}var Qf=class t extends d0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:V2.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,c=s.getFlattenedFilters();for(let l of c)bL(o,l),o=O7(o,l)}(e._query,n),new E1(e.firestore,e.converter,O7(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Yf=class t extends ma{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new E1(e.firestore,e.converter,$3(e._query,this._limit,this._limitType))}};function wL(t){return aV("limit",t),Yf._create("limit",t,"F")}function GM(t,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new H(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L_(e)&&n.indexOf("/")!==-1)throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ue.fromString(n));if(!Z.isDocumentKey(r))throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dM(t,new Z(r))}if(n instanceof r2)return dM(t,n._key);throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ia(n)}.`)}function WM(t,e){if(!Array.isArray(t)||t.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bL(t,e){let n=function(i,s){for(let o of i)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Zf=class{convertValue(e,n="none"){switch(L1(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Tr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Gi].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>je(o.doubleValue));return new f0(s)}convertGeoPoint(e){return new u0(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Ma(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(t0(e));default:return null}}convertTimestamp(e){let n=kn(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ue.fromString(e);Se(U_(r));let i=new U3(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||Nn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function gV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Lr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ya=class extends pa{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Hi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Ld("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Hi=class extends ya{data(e={}){return super.data(e)}},va=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hi(this._firestore,this._userDataWriter,r.key,r,new Lr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let l=new Hi(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let l=new Hi(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Lr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),d=o.indexOf(c.doc.key)),{type:yV(c.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function yV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}var h0=class extends Zf{constructor(e){super(),this.firestore=e}convertBytes(e){return new a0(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new r2(this.firestore,null,n)}};function EL(t){t=M1(t,E1);let e=M1(t.firestore,I1),n=Md(e),r=new h0(e);return ML(t._query),oV(n,t._query).then(i=>new va(e,r,t,i))}function IL(t){return SL(M1(t.firestore,I1),[new r0(t._key,C1.none())])}function zL(t,e){let n=M1(t.firestore,I1),r=Cd(t),i=gV(t.converter,e);return SL(n,[fV(mL(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,C1.exists(!1))]).then(()=>r)}function wd(t,...e){var n,r,i;t=Qt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||qM(e[o])||(s=e[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(qM(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,d;if(t instanceof r2)u=M1(t.firestore,I1),d=cd(t._key.path),l={next:p=>{e[o]&&e[o](vV(u,t,p))},error:e[o+1],complete:e[o+2]};else{let p=M1(t,E1);u=M1(p.firestore,I1),d=p._query;let y=new h0(u);l={next:g=>{e[o]&&e[o](new va(u,y,p,g))},error:e[o+1],complete:e[o+2]},ML(t._query)}return function(y,g,E,T){let x=new la(T),j=new oa(g,x,E);return y.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return X_(yield $f(y),j)})),()=>{x.su(),y.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return J_(yield $f(y),j)}))}}(Md(u),d,c,l)}function SL(t,e){return function(r,i){let s=new X2;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return QF(yield sV(r),i,s)})),s.promise}(Md(t),e)}function vV(t,e,n){let r=n.docs.get(e._key),i=new h0(t);return new ya(t,i,e._key,r,new Lr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){rs=i})(xi),R2(new Pt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new I1(new v7(r.getProvider("auth-internal")),new _7(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new U3(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Xe(rM,iM,e),Xe(rM,iM,"esm2017")})();var za=function(){return za=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},za.apply(this,arguments)};var _V={includeMetadataChanges:!1};function DL(t,e){return e===void 0&&(e=_V),new le(function(n){var r=wd(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function TL(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:za(za({},r),(n={},n[e.idField]=t.id,n))}function AL(t){return DL(t,{includeMetadataChanges:!0}).pipe(ce(function(e){return e.docs}))}function xL(t,e){return e===void 0&&(e={}),AL(t).pipe(ce(function(n){return n.map(function(r){return TL(r,e)})}))}var Vn=class{constructor(e){return e}},NL="firestore",bd=class{constructor(){return Ri(NL)}};var Ed=new Y("angularfire2.firestore-instances");function LV(t,e){let n=h3(NL,t,e);return n&&new Vn(n)}function wV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vn(r)}}var bV={provide:bd,deps:[[new G2,Ed]]},EV={provide:Vn,useFactory:LV,deps:[[new G2,Ed],yr]};function kL(t,...e){return Xe("angularfire",mr.full,"fst"),o1([EV,bV,{provide:Ed,useFactory:wV(t),multi:!0,deps:[Ae,ut,gr,Vo,[new G2,I3],[new G2,m3],...e]}])}var RL=Ot(xL,!0);var g0=Ot(zL,!0,2);var z1=Ot(dL,!0,2);var PL=Ot(IL,!0,2);var OL=Ot(Cd,!0,2);var Sa=Ot(EL,!0);var FL=Ot(hL,!0);var VL=Ot(wL,!0,2);var BL=Ot(_L,!0,2);var jL=Ot(LL,!0,2);var C2=class t{cart=gt(this.loadCartFromStorage());total=m2(()=>this.cart().reduce((e,n)=>e+n.price*n.quantity,0));loadCartFromStorage(){let e=localStorage.getItem("cart");return e?JSON.parse(e):[]}saveCartToStorage(){localStorage.setItem("cart",JSON.stringify(this.cart()))}addToCart(e){this.cart().find(r=>r.id===e.id)||(this.cart.set([...this.cart(),e]),this.saveCartToStorage())}removeFromCart(e){this.cart.set(this.cart().filter(n=>n.id!==e.id)),this.saveCartToStorage()}updateCart(){this.cart.set([...this.cart()]),this.saveCartToStorage()}clearCart(){this.cart.set([]),localStorage.removeItem("cart")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};function IV(t,e,n){return(e=SV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(n),!0).forEach(function(r){IV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SV(t){var e=zV(t,"string");return typeof e=="symbol"?e:e+""}var $L=()=>{},Kd={},gw={},yw=null,vw={mark:$L,measure:$L};try{typeof window<"u"&&(Kd=window),typeof document<"u"&&(gw=document),typeof MutationObserver<"u"&&(yw=MutationObserver),typeof performance<"u"&&(vw=performance)}catch{}var{userAgent:qL=""}=Kd.navigator||{},D1=Kd,Fe=gw,GL=yw,Da=vw,Zee=!!D1.document,Un=!!Fe.documentElement&&!!Fe.head&&typeof Fe.addEventListener=="function"&&typeof Fe.createElement=="function",Cw=~qL.indexOf("MSIE")||~qL.indexOf("Trident/"),DV=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,TV=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Mw={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},AV={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},_w=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],St="classic",Ra="duotone",xV="sharp",NV="sharp-duotone",Lw=[St,Ra,xV,NV],kV={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},RV={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},PV=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),OV={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},FV=["fak","fa-kit","fakd","fa-kit-duotone"],WL={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},VV=["kit"],BV={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},jV=["fak","fakd"],UV={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},KL={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Ta={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},HV=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],$V=["fak","fa-kit","fakd","fa-kit-duotone"],qV={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},GV={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},WV={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Ad={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},KV=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],xd=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...HV,...KV],QV=["solid","regular","light","thin","duotone","brands"],ww=[1,2,3,4,5,6,7,8,9,10],YV=ww.concat([11,12,13,14,15,16,17,18,19,20]),ZV=[...Object.keys(WV),...QV,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ta.GROUP,Ta.SWAP_OPACITY,Ta.PRIMARY,Ta.SECONDARY].concat(ww.map(t=>"".concat(t,"x"))).concat(YV.map(t=>"w-".concat(t))),XV={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},Bn="___FONT_AWESOME___",Nd=16,bw="fa",Ew="svg-inline--fa",Nr="data-fa-i2svg",kd="data-fa-pseudo-element",JV="data-fa-pseudo-element-pending",Qd="data-prefix",Yd="data-icon",QL="fontawesome-i2svg",eB="async",tB=["HTML","HEAD","STYLE","SCRIPT"],Iw=(()=>{try{return!0}catch{return!1}})();function L0(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[St]}})}var zw=P({},Mw);zw[St]=P(P(P(P({},{"fa-duotone":"duotone"}),Mw[St]),WL.kit),WL["kit-duotone"]);var nB=L0(zw),Rd=P({},OV);Rd[St]=P(P(P(P({},{duotone:"fad"}),Rd[St]),KL.kit),KL["kit-duotone"]);var YL=L0(Rd),Pd=P({},Ad);Pd[St]=P(P({},Pd[St]),UV.kit);var Zd=L0(Pd),Od=P({},GV);Od[St]=P(P({},Od[St]),BV.kit);var Xee=L0(Od),rB=DV,Sw="fa-layers-text",iB=TV,sB=P({},kV),Jee=L0(sB),oB=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Id=AV,cB=[...VV,...ZV],v0=D1.FontAwesomeConfig||{};function aB(t){var e=Fe.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function lB(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Fe&&typeof Fe.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e,i=lB(aB(n));i!=null&&(v0[r]=i)});var Dw={styleDefault:"solid",familyDefault:St,cssPrefix:bw,replacementClass:Ew,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};v0.familyPrefix&&(v0.cssPrefix=v0.familyPrefix);var ls=P(P({},Dw),v0);ls.autoReplaceSvg||(ls.observeMutations=!1);var W={};Object.keys(Dw).forEach(t=>{Object.defineProperty(W,t,{enumerable:!0,set:function(e){ls[t]=e,C0.forEach(n=>n(W))},get:function(){return ls[t]}})});Object.defineProperty(W,"familyPrefix",{enumerable:!0,set:function(t){ls.cssPrefix=t,C0.forEach(e=>e(W))},get:function(){return ls.cssPrefix}});D1.FontAwesomeConfig=W;var C0=[];function uB(t){return C0.push(t),()=>{C0.splice(C0.indexOf(t),1)}}var S1=Nd,rn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function fB(t){if(!t||!Un)return;let e=Fe.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;let n=Fe.head.childNodes,r=null;for(let i=n.length-1;i>-1;i--){let s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Fe.head.insertBefore(e,r),t}var dB="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function M0(){let t=12,e="";for(;t-- >0;)e+=dB[Math.random()*62|0];return e}function us(t){let e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Xd(t){return t.classList?us(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function Tw(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function hB(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(Tw(t[n]),'" '),"").trim()}function Pa(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function Jd(t){return t.size!==rn.size||t.x!==rn.x||t.y!==rn.y||t.rotate!==rn.rotate||t.flipX||t.flipY}function pB(t){let{transform:e,containerWidth:n,iconWidth:r}=t,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(c)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function mB(t){let{transform:e,width:n=Nd,height:r=Nd,startCentered:i=!1}=t,s="";return i&&Cw?s+="translate(".concat(e.x/S1-n/2,"em, ").concat(e.y/S1-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/S1,"em), calc(-50% + ").concat(e.y/S1,"em)) "):s+="translate(".concat(e.x/S1,"em, ").concat(e.y/S1,"em) "),s+="scale(".concat(e.size/S1*(e.flipX?-1:1),", ").concat(e.size/S1*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var gB=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Aw(){let t=bw,e=Ew,n=W.cssPrefix,r=W.replacementClass,i=gB;if(n!==t||r!==e){let s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(c,".".concat(r))}return i}var ZL=!1;function zd(){W.autoAddCss&&!ZL&&(fB(Aw()),ZL=!0)}var yB={mixout(){return{dom:{css:Aw,insertCss:zd}}},hooks(){return{beforeDOMElementCreation(){zd()},beforeI2svg(){zd()}}}},jn=D1||{};jn[Bn]||(jn[Bn]={});jn[Bn].styles||(jn[Bn].styles={});jn[Bn].hooks||(jn[Bn].hooks={});jn[Bn].shims||(jn[Bn].shims=[]);var sn=jn[Bn],xw=[],Nw=function(){Fe.removeEventListener("DOMContentLoaded",Nw),Na=1,xw.map(t=>t())},Na=!1;Un&&(Na=(Fe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Fe.readyState),Na||Fe.addEventListener("DOMContentLoaded",Nw));function vB(t){Un&&(Na?setTimeout(t,0):xw.push(t))}function w0(t){let{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?Tw(t):"<".concat(e," ").concat(hB(n),">").concat(r.map(w0).join(""),"</").concat(e,">")}function XL(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var CB=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},Sd=function(e,n,r,i){var s=Object.keys(e),o=s.length,c=i!==void 0?CB(n,i):n,l,u,d;for(r===void 0?(l=1,d=e[s[0]]):(l=0,d=r);l<o;l++)u=s[l],d=c(d,e[u],u,e);return d};function MB(t){let e=[],n=0,r=t.length;for(;n<r;){let i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){let s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function Fd(t){let e=MB(t);return e.length===1?e[0].toString(16):null}function _B(t,e){let n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function JL(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function Vd(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:r=!1}=n,i=JL(e);typeof sn.hooks.addPack=="function"&&!r?sn.hooks.addPack(t,JL(e)):sn.styles[t]=P(P({},sn.styles[t]||{}),i),t==="fas"&&Vd("fa",e)}var{styles:_0,shims:LB}=sn,kw=Object.keys(Zd),wB=kw.reduce((t,e)=>(t[e]=Object.keys(Zd[e]),t),{}),e9=null,Rw={},Pw={},Ow={},Fw={},Vw={};function bB(t){return~cB.indexOf(t)}function EB(t,e){let n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!bB(i)?i:null}var Bw=()=>{let t=r=>Sd(_0,(i,s,o)=>(i[o]=Sd(s,r,{}),i),{});Rw=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(c=>typeof c=="number").forEach(c=>{r[c.toString(16)]=s}),r)),Pw=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(c=>typeof c=="string").forEach(c=>{r[c]=s}),r)),Vw=t((r,i,s)=>{let o=i[2];return r[s]=s,o.forEach(c=>{r[c]=s}),r});let e="far"in _0||W.autoFetchSvg,n=Sd(LB,(r,i)=>{let s=i[0],o=i[1],c=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:c}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:c}),r},{names:{},unicodes:{}});Ow=n.names,Fw=n.unicodes,e9=Oa(W.styleDefault,{family:W.familyDefault})};uB(t=>{e9=Oa(t.styleDefault,{family:W.familyDefault})});Bw();function t9(t,e){return(Rw[t]||{})[e]}function IB(t,e){return(Pw[t]||{})[e]}function xr(t,e){return(Vw[t]||{})[e]}function jw(t){return Ow[t]||{prefix:null,iconName:null}}function zB(t){let e=Fw[t],n=t9("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function T1(){return e9}var Uw=()=>({prefix:null,iconName:null,rest:[]});function SB(t){let e=St,n=kw.reduce((r,i)=>(r[i]="".concat(W.cssPrefix,"-").concat(i),r),{});return Lw.forEach(r=>{(t.includes(n[r])||t.some(i=>wB[r].includes(i)))&&(e=r)}),e}function Oa(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:n=St}=e,r=nB[n][t];if(n===Ra&&!t)return"fad";let i=YL[n][t]||YL[n][r],s=t in sn.styles?t:null;return i||s||null}function DB(t){let e=[],n=null;return t.forEach(r=>{let i=EB(W.cssPrefix,r);i?n=i:r&&e.push(r)}),{iconName:n,rest:e}}function ew(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function Fa(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:n=!1}=e,r=null,i=xd.concat($V),s=ew(t.filter(p=>i.includes(p))),o=ew(t.filter(p=>!xd.includes(p))),c=s.filter(p=>(r=p,!_w.includes(p))),[l=null]=c,u=SB(s),d=P(P({},DB(o)),{},{prefix:Oa(l,{family:u})});return P(P(P({},d),NB({values:t,family:u,styles:_0,config:W,canonical:d,givenPrefix:r})),TB(n,r,d))}function TB(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};let s=e==="fa"?jw(i):{},o=xr(r,i);return i=s.iconName||o||i,r=s.prefix||r,r==="far"&&!_0.far&&_0.fas&&!W.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}var AB=Lw.filter(t=>t!==St||t!==Ra),xB=Object.keys(Ad).filter(t=>t!==St).map(t=>Object.keys(Ad[t])).flat();function NB(t){let{values:e,family:n,canonical:r,givenPrefix:i="",styles:s={},config:o={}}=t,c=n===Ra,l=e.includes("fa-duotone")||e.includes("fad"),u=o.familyDefault==="duotone",d=r.prefix==="fad"||r.prefix==="fa-duotone";if(!c&&(l||u||d)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&AB.includes(n)&&(Object.keys(s).find(y=>xB.includes(y))||o.autoFetchSvg)){let y=PV.get(n).defaultShortPrefixId;r.prefix=y,r.iconName=xr(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||i==="fa")&&(r.prefix=T1()||"fas"),r}var Bd=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=P(P({},this.definitions[s]||{}),i[s]),Vd(s,i[s]);let o=Zd[St][s];o&&Vd(o,i[s]),Bw()})}reset(){this.definitions={}}_pullDefinitions(e,n){let r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{let{prefix:s,iconName:o,icon:c}=r[i],l=c[2];e[s]||(e[s]={}),l.length>0&&l.forEach(u=>{typeof u=="string"&&(e[s][u]=c)}),e[s][o]=c}),e}},tw=[],cs={},as={},kB=Object.keys(as);function RB(t,e){let{mixoutsTo:n}=e;return tw=t,cs={},Object.keys(as).forEach(r=>{kB.indexOf(r)===-1&&delete as[r]}),tw.forEach(r=>{let i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){let s=r.hooks();Object.keys(s).forEach(o=>{cs[o]||(cs[o]=[]),cs[o].push(s[o])})}r.provides&&r.provides(as)}),n}function jd(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(cs[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function kr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(cs[t]||[]).forEach(s=>{s.apply(null,n)})}function A1(){let t=arguments[0],e=Array.prototype.slice.call(arguments,1);return as[t]?as[t].apply(null,e):void 0}function Ud(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t,n=t.prefix||T1();if(e)return e=xr(n,e)||e,XL(Hw.definitions,n,e)||XL(sn.styles,n,e)}var Hw=new Bd,PB=()=>{W.autoReplaceSvg=!1,W.observeMutations=!1,kr("noAuto")},OB={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Un?(kr("beforeI2svg",t),A1("pseudoElements2svg",t),A1("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=t;W.autoReplaceSvg===!1&&(W.autoReplaceSvg=!0),W.observeMutations=!0,vB(()=>{VB({autoReplaceSvgRoot:e}),kr("watch",t)})}},FB={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:xr(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){let e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=Oa(t[0]);return{prefix:n,iconName:xr(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(W.cssPrefix,"-"))>-1||t.match(rB))){let e=Fa(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||T1(),iconName:xr(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){let e=T1();return{prefix:e,iconName:xr(e,t)||t}}}},i2={noAuto:PB,config:W,dom:OB,parse:FB,library:Hw,findIconDefinition:Ud,toHtml:w0},VB=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=Fe}=t;(Object.keys(sn.styles).length>0||W.autoFetchSvg)&&Un&&W.autoReplaceSvg&&i2.dom.i2svg({node:e})};function Va(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>w0(n))}}),Object.defineProperty(t,"node",{get:function(){if(!Un)return;let n=Fe.createElement("div");return n.innerHTML=t.html,n.children}}),t}function BB(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(Jd(o)&&n.found&&!r.found){let{width:c,height:l}=n,u={x:c/l/2,y:.5};i.style=Pa(P(P({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function jB(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t,o=s===!0?"".concat(e,"-").concat(W.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:P(P({},i),{},{id:o}),children:r}]}]}function n9(t){let{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:c,maskId:l,titleId:u,extra:d,watchable:p=!1}=t,{width:y,height:g}=n.found?n:e,E=jV.includes(r),T=[W.replacementClass,i?"".concat(W.cssPrefix,"-").concat(i):""].filter(He=>d.classes.indexOf(He)===-1).filter(He=>He!==""||!!He).concat(d.classes).join(" "),x={children:[],attributes:P(P({},d.attributes),{},{"data-prefix":r,"data-icon":i,class:T,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(g)})},j=E&&!~d.classes.indexOf("fa-fw")?{width:"".concat(y/g*16*.0625,"em")}:{};p&&(x.attributes[Nr]=""),c&&(x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(u||M0())},children:[c]}),delete x.attributes.title);let G=P(P({},x),{},{prefix:r,iconName:i,main:e,mask:n,maskId:l,transform:s,symbol:o,styles:P(P({},j),d.styles)}),{children:Q,attributes:Le}=n.found&&e.found?A1("generateAbstractMask",G)||{children:[],attributes:{}}:A1("generateAbstractIcon",G)||{children:[],attributes:{}};return G.children=Q,G.attributes=Le,o?jB(G):BB(G)}function nw(t){let{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:c=!1}=t,l=P(P(P({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[Nr]="");let u=P({},o.styles);Jd(i)&&(u.transform=mB({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);let d=Pa(u);d.length>0&&(l.style=d);let p=[];return p.push({tag:"span",attributes:l,children:[e]}),s&&p.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),p}function UB(t){let{content:e,title:n,extra:r}=t,i=P(P(P({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=Pa(r.styles);s.length>0&&(i.style=s);let o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var{styles:Dd}=sn;function Hd(t){let e=t[0],n=t[1],[r]=t.slice(4),i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(W.cssPrefix,"-").concat(Id.GROUP)},children:[{tag:"path",attributes:{class:"".concat(W.cssPrefix,"-").concat(Id.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(W.cssPrefix,"-").concat(Id.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}var HB={found:!1,width:512,height:512};function $B(t,e){!Iw&&!W.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function $d(t,e){let n=e;return e==="fa"&&W.styleDefault!==null&&(e=T1()),new Promise((r,i)=>{if(n==="fa"){let s=jw(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&Dd[e]&&Dd[e][t]){let s=Dd[e][t];return r(Hd(s))}$B(t,e),r(P(P({},HB),{},{icon:W.showMissingIcons&&t?A1("missingIconAbstract")||{}:{}}))})}var rw=()=>{},qd=W.measurePerformance&&Da&&Da.mark&&Da.measure?Da:{mark:rw,measure:rw},y0='FA "6.7.2"',qB=t=>(qd.mark("".concat(y0," ").concat(t," begins")),()=>$w(t)),$w=t=>{qd.mark("".concat(y0," ").concat(t," ends")),qd.measure("".concat(y0," ").concat(t),"".concat(y0," ").concat(t," begins"),"".concat(y0," ").concat(t," ends"))},r9={begin:qB,end:$w},Aa=()=>{};function iw(t){return typeof(t.getAttribute?t.getAttribute(Nr):null)=="string"}function GB(t){let e=t.getAttribute?t.getAttribute(Qd):null,n=t.getAttribute?t.getAttribute(Yd):null;return e&&n}function WB(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(W.replacementClass)}function KB(){return W.autoReplaceSvg===!0?xa.replace:xa[W.autoReplaceSvg]||xa.replace}function QB(t){return Fe.createElementNS("http://www.w3.org/2000/svg",t)}function YB(t){return Fe.createElement(t)}function qw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:n=t.tag==="svg"?QB:YB}=e;if(typeof t=="string")return Fe.createTextNode(t);let r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(qw(s,{ceFn:n}))}),r}function ZB(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var xa={replace:function(t){let e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(qw(n),e)}),e.getAttribute(Nr)===null&&W.keepOriginalSource){let n=Fe.createComment(ZB(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){let e=t[0],n=t[1];if(~Xd(e).indexOf(W.replacementClass))return xa.replace(t);let r=new RegExp("".concat(W.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){let s=n[0].attributes.class.split(" ").reduce((o,c)=>(c===W.replacementClass||c.match(r)?o.toSvg.push(c):o.toNode.push(c),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}let i=n.map(s=>w0(s)).join(`
`);e.setAttribute(Nr,""),e.innerHTML=i}};function sw(t){t()}function Gw(t,e){let n=typeof e=="function"?e:Aa;if(t.length===0)n();else{let r=sw;W.mutateApproach===eB&&(r=D1.requestAnimationFrame||sw),r(()=>{let i=KB(),s=r9.begin("mutate");t.map(i),s(),n()})}}var i9=!1;function Ww(){i9=!0}function Gd(){i9=!1}var ka=null;function ow(t){if(!GL||!W.observeMutations)return;let{treeCallback:e=Aa,nodeCallback:n=Aa,pseudoElementsCallback:r=Aa,observeMutationsRoot:i=Fe}=t;ka=new GL(s=>{if(i9)return;let o=T1();us(s).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!iw(c.addedNodes[0])&&(W.searchPseudoElements&&r(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&W.searchPseudoElements&&r(c.target.parentNode),c.type==="attributes"&&iw(c.target)&&~oB.indexOf(c.attributeName))if(c.attributeName==="class"&&GB(c.target)){let{prefix:l,iconName:u}=Fa(Xd(c.target));c.target.setAttribute(Qd,l||o),u&&c.target.setAttribute(Yd,u)}else WB(c.target)&&n(c.target)})}),Un&&ka.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function XB(){ka&&ka.disconnect()}function JB(t){let e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce((r,i)=>{let s=i.split(":"),o=s[0],c=s.slice(1);return o&&c.length>0&&(r[o]=c.join(":").trim()),r},{})),n}function ej(t){let e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=Fa(Xd(t));return i.prefix||(i.prefix=T1()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=IB(i.prefix,t.innerText)||t9(i.prefix,Fd(t.innerText))),!i.iconName&&W.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function tj(t){let e=us(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return W.autoA11y&&(n?e["aria-labelledby"]="".concat(W.replacementClass,"-title-").concat(r||M0()):(e["aria-hidden"]="true",e.focusable="false")),e}function nj(){return{iconName:null,title:null,titleId:null,prefix:null,transform:rn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function cw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:n,prefix:r,rest:i}=ej(t),s=tj(t),o=jd("parseNodeAttributes",{},t),c=e.styleParser?JB(t):[];return P({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:rn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:s}},o)}var{styles:rj}=sn;function Kw(t){let e=W.autoReplaceSvg==="nest"?cw(t,{styleParser:!1}):cw(t);return~e.extra.classes.indexOf(Sw)?A1("generateLayersText",t,e):A1("generateSvgReplacementMutation",t,e)}function ij(){return[...FV,...xd]}function aw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Un)return Promise.resolve();let n=Fe.documentElement.classList,r=d=>n.add("".concat(QL,"-").concat(d)),i=d=>n.remove("".concat(QL,"-").concat(d)),s=W.autoFetchSvg?ij():_w.concat(Object.keys(rj));s.includes("fa")||s.push("fa");let o=[".".concat(Sw,":not([").concat(Nr,"])")].concat(s.map(d=>".".concat(d,":not([").concat(Nr,"])"))).join(", ");if(o.length===0)return Promise.resolve();let c=[];try{c=us(t.querySelectorAll(o))}catch{}if(c.length>0)r("pending"),i("complete");else return Promise.resolve();let l=r9.begin("onTree"),u=c.reduce((d,p)=>{try{let y=Kw(p);y&&d.push(y)}catch(y){Iw||y.name==="MissingIcon"&&console.error(y)}return d},[]);return new Promise((d,p)=>{Promise.all(u).then(y=>{Gw(y,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),d()})}).catch(y=>{l(),p(y)})})}function sj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Kw(t).then(n=>{n&&Gw([n],e)})}function oj(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:Ud(e||{}),{mask:i}=n;return i&&(i=(i||{}).icon?i:Ud(i||{})),t(r,P(P({},n),{},{mask:i}))}}var cj=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=rn,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:c=null,classes:l=[],attributes:u={},styles:d={}}=e;if(!t)return;let{prefix:p,iconName:y,icon:g}=t;return Va(P({type:"icon"},t),()=>(kr("beforeDOMElementCreation",{iconDefinition:t,params:e}),W.autoA11y&&(o?u["aria-labelledby"]="".concat(W.replacementClass,"-title-").concat(c||M0()):(u["aria-hidden"]="true",u.focusable="false")),n9({icons:{main:Hd(g),mask:i?Hd(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:p,iconName:y,transform:P(P({},rn),n),symbol:r,title:o,maskId:s,titleId:c,extra:{attributes:u,styles:d,classes:l}})))},aj={mixout(){return{icon:oj(cj)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=aw,t.nodeCallback=sj,t}}},provides(t){t.i2svg=function(e){let{node:n=Fe,callback:r=()=>{}}=e;return aw(n,r)},t.generateSvgReplacementMutation=function(e,n){let{iconName:r,title:i,titleId:s,prefix:o,transform:c,symbol:l,mask:u,maskId:d,extra:p}=n;return new Promise((y,g)=>{Promise.all([$d(r,o),u.iconName?$d(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(E=>{let[T,x]=E;y([e,n9({icons:{main:T,mask:x},prefix:o,iconName:r,transform:c,symbol:l,maskId:d,title:i,titleId:s,extra:p,watchable:!0})])}).catch(g)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e,c=Pa(o);c.length>0&&(r.style=c);let l;return Jd(s)&&(l=A1("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(l||i.icon),{children:n,attributes:r}}}},lj={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:n=[]}=e;return Va({type:"layer"},()=>{kr("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(W.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},uj={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return Va({type:"counter",content:t},()=>(kr("beforeDOMElementCreation",{content:t,params:e}),UB({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(W.cssPrefix,"-layers-counter"),...r]}})))}}}},fj={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=rn,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return Va({type:"text",content:t},()=>(kr("beforeDOMElementCreation",{content:t,params:e}),nw({content:t,transform:P(P({},rn),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(W.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){let{title:r,transform:i,extra:s}=n,o=null,c=null;if(Cw){let l=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/l,c=u.height/l}return W.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,nw({content:e.innerHTML,width:o,height:c,transform:i,title:r,extra:s,watchable:!0})])}}},dj=new RegExp('"',"ug"),lw=[1105920,1112319],uw=P(P(P(P({},{FontAwesome:{normal:"fas",400:"fas"}}),RV),XV),qV),Wd=Object.keys(uw).reduce((t,e)=>(t[e.toLowerCase()]=uw[e],t),{}),hj=Object.keys(Wd).reduce((t,e)=>{let n=Wd[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function pj(t){let e=t.replace(dj,""),n=_B(e,0),r=n>=lw[0]&&n<=lw[1],i=e.length===2?e[0]===e[1]:!1;return{value:Fd(i?e[0]:e),isSecondary:r||i}}function mj(t,e){let n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(Wd[n]||{})[i]||hj[n]}function fw(t,e){let n="".concat(JV).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();let o=us(t.children).filter(y=>y.getAttribute(kd)===e)[0],c=D1.getComputedStyle(t,e),l=c.getPropertyValue("font-family"),u=l.match(iB),d=c.getPropertyValue("font-weight"),p=c.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&p!=="none"&&p!==""){let y=c.getPropertyValue("content"),g=mj(l,d),{value:E,isSecondary:T}=pj(y),x=u[0].startsWith("FontAwesome"),j=t9(g,E),G=j;if(x){let Q=zB(E);Q.iconName&&Q.prefix&&(j=Q.iconName,g=Q.prefix)}if(j&&!T&&(!o||o.getAttribute(Qd)!==g||o.getAttribute(Yd)!==G)){t.setAttribute(n,G),o&&t.removeChild(o);let Q=nj(),{extra:Le}=Q;Le.attributes[kd]=e,$d(j,g).then(He=>{let be=n9(P(P({},Q),{},{icons:{main:He,mask:Uw()},prefix:g,iconName:G,extra:Le,watchable:!0})),L=Fe.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(L,t.firstChild):t.appendChild(L),L.outerHTML=be.map(v=>w0(v)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function gj(t){return Promise.all([fw(t,"::before"),fw(t,"::after")])}function yj(t){return t.parentNode!==document.head&&!~tB.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(kd)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function dw(t){if(Un)return new Promise((e,n)=>{let r=us(t.querySelectorAll("*")).filter(yj).map(gj),i=r9.begin("searchPseudoElements");Ww(),Promise.all(r).then(()=>{i(),Gd(),e()}).catch(()=>{i(),Gd(),n()})})}var vj={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=dw,t}}},provides(t){t.pseudoElements2svg=function(e){let{node:n=Fe}=e;W.searchPseudoElements&&dw(n)}}},hw=!1,Cj={mixout(){return{dom:{unwatch(){Ww(),hw=!0}}}},hooks(){return{bootstrap(){ow(jd("mutationObserverCallbacks",{}))},noAuto(){XB()},watch(t){let{observeMutationsRoot:e}=t;hw?Gd():ow(jd("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},pw=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{let i=r.toLowerCase().split("-"),s=i[0],o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)},Mj={mixout(){return{parse:{transform:t=>pw(t)}}},hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-transform");return n&&(t.transform=pw(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e,o={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(r.x*32,", ").concat(r.y*32,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(c," ").concat(l," ").concat(u)},p={transform:"translate(".concat(s/2*-1," -256)")},y={outer:o,inner:d,path:p};return{tag:"g",attributes:P({},y.outer),children:[{tag:"g",attributes:P({},y.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:P(P({},n.icon.attributes),y.path)}]}]}}}},Td={x:0,y:0,width:"100%",height:"100%"};function mw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function _j(t){return t.tag==="g"?t.children:[t]}var Lj={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-mask"),r=n?Fa(n.split(" ").map(i=>i.trim())):Uw();return r.prefix||(r.prefix=T1()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:c}=e,{width:l,icon:u}=i,{width:d,icon:p}=s,y=pB({transform:c,containerWidth:d,iconWidth:l}),g={tag:"rect",attributes:P(P({},Td),{},{fill:"white"})},E=u.children?{children:u.children.map(mw)}:{},T={tag:"g",attributes:P({},y.inner),children:[mw(P({tag:u.tag,attributes:P(P({},u.attributes),y.path)},E))]},x={tag:"g",attributes:P({},y.outer),children:[T]},j="mask-".concat(o||M0()),G="clip-".concat(o||M0()),Q={tag:"mask",attributes:P(P({},Td),{},{id:j,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,x]},Le={tag:"defs",children:[{tag:"clipPath",attributes:{id:G},children:_j(p)},Q]};return n.push(Le,{tag:"rect",attributes:P({fill:"currentColor","clip-path":"url(#".concat(G,")"),mask:"url(#".concat(j,")")},Td)}),{children:n,attributes:r}}}},wj={provides(t){let e=!1;D1.matchMedia&&(e=D1.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:P(P({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let s=P(P({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:P(P({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:P(P({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:P(P({},s),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:P(P({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:P(P({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:P(P({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:P(P({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},bj={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},Ej=[yB,aj,lj,uj,fj,vj,Cj,Mj,Lj,wj,bj];RB(Ej,{mixoutsTo:i2});var ete=i2.noAuto,Qw=i2.config,tte=i2.library,Yw=i2.dom,Zw=i2.parse,nte=i2.findIconDefinition,rte=i2.toHtml,Xw=i2.icon,ite=i2.layer,Ij=i2.text,zj=i2.counter;var Sj=["*"],Dj=t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)},Tj=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},eb=t=>t!=null&&(t===90||t===180||t===270||t==="90"||t==="180"||t==="270"),Aj=t=>{let e=eb(t.rotate),n={[`fa-${t.animation}`]:t.animation!=null&&!t.animation.startsWith("spin"),"fa-spin":t.animation==="spin"||t.animation==="spin-reverse","fa-spin-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-spin-reverse":t.animation==="spin-reverse"||t.animation==="spin-pulse-reverse","fa-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both",[`fa-${t.size}`]:t.size!==null,[`fa-rotate-${t.rotate}`]:e,"fa-rotate-by":t.rotate!=null&&!e,[`fa-pull-${t.pull}`]:t.pull!==null,[`fa-stack-${t.stackItemSize}`]:t.stackItemSize!=null};return Object.keys(n).map(r=>n[r]?r:null).filter(r=>r)},s9=new WeakSet,Jw="fa-auto-css";function xj(t,e){if(!e.autoAddCss||s9.has(t))return;if(t.getElementById(Jw)!=null){e.autoAddCss=!1,s9.add(t);return}let n=t.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("id",Jw),n.innerHTML=Yw.css();let r=t.head.childNodes,i=null;for(let s=r.length-1;s>-1;s--){let o=r[s],c=o.nodeName.toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(i=o)}t.head.insertBefore(n,i),e.autoAddCss=!1,s9.add(t)}var Nj=t=>t.prefix!==void 0&&t.iconName!==void 0,kj=(t,e)=>Nj(t)?t:Array.isArray(t)&&t.length===2?{prefix:t[0],iconName:t[1]}:{prefix:e,iconName:t},Rj=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(n){Qw.autoAddCss=n,this._autoAddCss=n}get autoAddCss(){return this._autoAddCss}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Pj=(()=>{class t{constructor(){this.definitions={}}addIcons(...n){for(let r of n){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(let i of r.icon[2])typeof i=="string"&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...n){for(let r of n){let i=Object.keys(r).map(s=>r[s]);this.addIcons(...i)}}getIconDefinition(n,r){return n in this.definitions&&r in this.definitions[n]?this.definitions[n][r]:null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Oj=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(n){if("size"in n)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Re({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[S2]})}}return t})(),Fj=(()=>{class t{constructor(n,r){this.renderer=n,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(n){"size"in n&&(n.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${n.size.currentValue}`),n.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${n.size.previousValue}`))}static{this.\u0275fac=function(r){return new(r||t)(K(d2),K(Xt))}}static{this.\u0275cmp=De({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[S2],ngContentSelectors:Sj,decls:1,vars:0,template:function(r,i){r&1&&(zy(),Sy(0))},encapsulation:2})}}return t})(),tb=(()=>{class t{constructor(n,r,i,s,o){this.sanitizer=n,this.config=r,this.iconLibrary=i,this.stackItem=s,this.document=N(Rt),o!=null&&s==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(n){if(this.icon==null&&this.config.fallbackIcon==null){Tj();return}if(n){let r=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(r!=null){let i=this.buildParams();xj(this.document,this.config);let s=Xw(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(n){let r=kj(n,this.config.defaultPrefix);if("icon"in r)return r;let i=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return i??(Dj(r),null)}buildParams(){let n={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},r=typeof this.transform=="string"?Zw.transform(this.transform):this.transform,i={};return n.rotate!=null&&!eb(n.rotate)&&(i["--fa-rotate-angle"]=`${n.rotate}`),{title:this.title,transform:r,classes:Aj(n),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole},styles:i}}static{this.\u0275fac=function(r){return new(r||t)(K(xu),K(Rj),K(Pj),K(Oj,8),K(Fj,8))}}static{this.\u0275cmp=De({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){r&2&&(uu("innerHTML",i.renderedIconHTML,Ig),f1("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[S2],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return t})();function Vj(t,e){if(t&1&&Pe(0,"fa-icon",3),t&2){let n=Ie();X("icon",n.icon)}}var x1=class t{label="";icon=null;btnClicked=new Ge;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=De({type:t,selectors:[["app-primary-button"]],inputs:{label:"label",icon:"icon"},outputs:{btnClicked:"btnClicked"},decls:4,vars:2,consts:[[1,"bg-blue-950","text-white","w-full","border","px-5","py-2","rounded-xl","shadow-md","hover:opacity-90",3,"click"],["class","mr-2",3,"icon",4,"ngIf"],[1,"text-md"],[1,"mr-2",3,"icon"]],template:function(n,r){n&1&&(D(0,"button",0),ie("click",function(s){return r.btnClicked.emit(s)}),Ne(1,Vj,1,1,"fa-icon",1),D(2,"span",2),V(3),A()()),n&2&&(O(),X("ngIf",r.icon),O(2),We(r.label))},dependencies:[yt,h1,tb],encapsulation:2})};var nb={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]};var fs={prefix:"fas",iconName:"cart-plus",icon:[576,512,[],"f217","M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM252 160c0 11 9 20 20 20l44 0 0 44c0 11 9 20 20 20s20-9 20-20l0-44 44 0c11 0 20-9 20-20s-9-20-20-20l-44 0 0-44c0-11-9-20-20-20s-20 9-20 20l0 44-44 0c-11 0-20 9-20 20z"]};var rb={prefix:"fas",iconName:"cart-shopping",icon:[576,512,[128722,"shopping-cart"],"f07a","M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]};var Bj={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]};var ib=Bj;var sb={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]};var jj=t=>["/detail",t],Ba=class t{cartService=N(C2);faCartPlus=fs;faCheck=sb;product=yi.required();isAddedToCart=!1;addToCart(e){e.stopPropagation(),this.cartService.addToCart(this.product()),this.isAddedToCart=!0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=De({type:t,selectors:[["app-product-card"]],inputs:{product:[1,"product"]},decls:11,vars:11,consts:[[1,"bg-white","shadow-md","border","rounded-xl","p-4","flex","flex-col","gap-4","relative","cursor-pointer","w-full","max-w-[280px]","mx-auto",3,"routerLink"],[1,"w-full","h-[300px]","flex","justify-center","items-center","overflow-hidden"],[1,"w-full","h-full","object-cover","rounded-lg",2,"object-fit","cover","object-position","top",3,"src"],[1,"flex","flex-col"],[1,"text-md","font-bold","text-center"],[1,"text-sm","text-center"],[3,"btnClicked","label","icon"],[1,"absolute","top-2","right-3","text-xs","font-bold","bg-white","shadow-md","border","rounded-xl","p-1"]],template:function(n,r){n&1&&(D(0,"div",0)(1,"div",1),Pe(2,"img",2),A(),D(3,"div",3)(4,"span",4),V(5),A(),D(6,"span",5),V(7),A(),D(8,"app-primary-button",6),ie("btnClicked",function(s){return r.addToCart(s)}),A()(),D(9,"span",7),V(10),A()()),n&2&&(X("routerLink",R4(9,jj,r.product().id)),O(2),X("src",r.product().images[0],u2),O(3),We(r.product().title),O(2),We(r.product().price+" DA "),O(),X("label",r.isAddedToCart?"Ajout\xE9":"Ajouter au panier")("icon",r.isAddedToCart?r.faCheck:r.faCartPlus),O(),_y(r.product().stock?"text-green-700":"text-red-700"),O(),h2(" ",r.product().stock?r.product().stock+" left":"Out of stock"," "))},dependencies:[x1,i3],encapsulation:2})};var on=class t{constructor(e){this.firestore=e}productsCollection="products";selectedCategory=gt(null);selectedSubCategory=gt(null);products=[];cachedSubCategories=[];getProducts(e,n,r){this.products=[];let i=BL(z1(this.firestore,this.productsCollection),jL("subCategory","==",n),VL(10));return console.log("Firestore query:",i),new le(s=>{Sa(i).then(o=>{console.log("Fetched documents:",o.docs),o.empty&&console.log("No products found for the query"),this.products=o.docs.map(c=>F({id:c.id},c.data())),console.log("Updated products list:"),console.log("Total products:",this.products.length),this.products.forEach(c=>console.log("Product ID:",c.id)),s.next(this.products),s.complete()}).catch(o=>{console.error("Error fetching products:",o),s.error(o)}),console.log("Total products:",this.products.length),this.products.forEach(o=>console.log("Product ID:",o.id))})}getSubCategories(e){this.selectedCategory.set(e);let n=z1(this.firestore,e);return new le(r=>{RL(n,{idField:"id"}).subscribe(i=>{this.cachedSubCategories=i.map(s=>({id:s.id,name:s.name})),r.next(this.cachedSubCategories),r.complete()})})}setSelectedSubCategory(e){this.selectedSubCategory.set(e)}getSelectedSubCategory(){return this.selectedSubCategory()}addCategories(e,n){return I(this,null,function*(){let r=z1(this.firestore,e);try{yield g0(r,{name:n}),console.log("Categories added successfully")}catch(i){throw console.error("Error adding categories:",i),i}})}getProductById(e){return console.log("Fetching product by ID:",e),console.log("Total products:",this.products.length),this.products.forEach(n=>console.log("Product ID:",n.id)),this.products.find(n=>n.id===e)}static \u0275fac=function(n){return new(n||t)(ae(Vn))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};function Uj(t,e){if(t&1&&(Mi(0),Pe(1,"app-product-card",2),_i()),t&2){let n=e.$implicit;O(),X("product",n)}}var ja=class t{constructor(e){this.ngZone=e;P4(()=>{let n=this.productsService.selectedSubCategory();n!==null&&this.ngZone.run(()=>{this.fetchProducts(n)})})}productsService=N(on);products=gt([]);lastDoc=null;isLoading=!1;selectedCategory="categoriesH";selectedSubcategory=null;fetchProducts(e){this.selectedCategory&&(this.products.set([]),this.lastDoc=null,this.loadProducts(e))}loadProducts(e){this.isLoading||(this.isLoading=!0,this.productsService.getProducts(this.selectedCategory,e,this.lastDoc).subscribe({next:n=>{n.length>0&&(this.products.set([...this.products(),...n]),this.lastDoc=n[n.length-1]),this.isLoading=!1},error:n=>{console.error("Error fetching products:",n),this.isLoading=!1}}))}trackById(e,n){return n.id??e.toString()}static \u0275fac=function(n){return new(n||t)(K(Ae))};static \u0275cmp=De({type:t,selectors:[["app-products-list"]],inputs:{selectedCategory:"selectedCategory",selectedSubcategory:"selectedSubcategory"},decls:2,vars:2,consts:[[1,"p-8","grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"w-full",3,"product"]],template:function(n,r){n&1&&(D(0,"div",0),Ne(1,Uj,2,1,"ng-container",1),A()),n&2&&(O(),X("ngForOf",r.products())("ngForTrackBy",r.trackById))},dependencies:[Ba,yt,Kt],encapsulation:2,changeDetection:0})};var ob={prefix:"far",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M170.5 51.6L151.5 80l145 0-19-28.4c-1.5-2.2-4-3.6-6.7-3.6l-93.7 0c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80 368 80l48 0 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-8 0 0 304c0 44.2-35.8 80-80 80l-224 0c-44.2 0-80-35.8-80-80l0-304-8 0c-13.3 0-24-10.7-24-24S10.7 80 24 80l8 0 48 0 13.8 0 36.7-55.1C140.9 9.4 158.4 0 177.1 0l93.7 0c18.7 0 36.2 9.4 46.6 24.9zM80 128l0 304c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-304L80 128zm80 64l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16z"]};var gb=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(K(d2),K(Xt))};static \u0275dir=Re({type:t})}return t})(),Qa=(()=>{class t extends gb{static \u0275fac=(()=>{let n;return function(i){return(n||(n=D2(t)))(i||t)}})();static \u0275dir=Re({type:t,features:[Wt]})}return t})(),T0=new Y("");var Hj={provide:T0,useExisting:z2(()=>N1),multi:!0};function $j(){let t=En()?En().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var qj=new Y(""),N1=(()=>{class t extends gb{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!$j())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(K(d2),K(Xt),K(qj,8))};static \u0275dir=Re({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ie("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[wn([Hj]),Wt]})}return t})();function Gj(t){return t==null||Wj(t)===0}function Wj(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Ya=new Y(""),yb=new Y("");function Kj(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Qj(t){return Gj(t.value)?{required:!0}:null}function cb(t){return null}function vb(t){return t!=null}function Cb(t){return u1(t)?Ve(t):t}function Mb(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function _b(t,e){return e.map(n=>n(t))}function Yj(t){return!t.validate}function Lb(t){return t.map(e=>Yj(e)?e:n=>e.validate(n))}function Zj(t){if(!t)return null;let e=t.filter(vb);return e.length==0?null:function(n){return Mb(_b(n,e))}}function c9(t){return t!=null?Zj(Lb(t)):null}function Xj(t){if(!t)return null;let e=t.filter(vb);return e.length==0?null:function(n){let r=_b(n,e).map(Cb);return rl(r).pipe(ce(Mb))}}function a9(t){return t!=null?Xj(Lb(t)):null}function ab(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Jj(t){return t._rawValidators}function eU(t){return t._rawAsyncValidators}function o9(t){return t?Array.isArray(t)?t:[t]:[]}function Ha(t,e){return Array.isArray(t)?t.includes(e):t===e}function lb(t,e){let n=o9(e);return o9(t).forEach(i=>{Ha(n,i)||n.push(i)}),n}function ub(t,e){return o9(e).filter(n=>!Ha(t,n))}var $a=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=c9(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=a9(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ps=class extends $a{name;get formDirective(){return null}get path(){return null}},D0=class extends $a{_parent=null;name=null;valueAccessor=null},qa=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},tU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},p2e=ee(F({},tU),{"[class.ng-submitted]":"isSubmitted"}),k1=(()=>{class t extends qa{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(K(D0,2))};static \u0275dir=Re({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ho("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Wt]})}return t})(),Za=(()=>{class t extends qa{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(K(ps,10))};static \u0275dir=Re({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ho("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Wt]})}return t})();var b0="VALID",Ua="INVALID",ds="PENDING",E0="DISABLED",ms=class{},Ga=class extends ms{value;source;constructor(e,n){super(),this.value=e,this.source=n}},z0=class extends ms{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},S0=class extends ms{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},hs=class extends ms{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function wb(t){return(Xa(t)?t.validators:t)||null}function nU(t){return Array.isArray(t)?c9(t):t||null}function bb(t,e){return(Xa(e)?e.asyncValidators:t)||null}function rU(t){return Array.isArray(t)?a9(t):t||null}function Xa(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function iU(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function sU(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var Wa=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return p2(this.statusReactive)}set status(e){p2(()=>this.statusReactive.set(e))}_status=m2(()=>this.statusReactive());statusReactive=gt(void 0);get valid(){return this.status===b0}get invalid(){return this.status===Ua}get pending(){return this.status==ds}get disabled(){return this.status===E0}get enabled(){return this.status!==E0}errors;get pristine(){return p2(this.pristineReactive)}set pristine(e){p2(()=>this.pristineReactive.set(e))}_pristine=m2(()=>this.pristineReactive());pristineReactive=gt(!0);get dirty(){return!this.pristine}get touched(){return p2(this.touchedReactive)}set touched(e){p2(()=>this.touchedReactive.set(e))}_touched=m2(()=>this.touchedReactive());touchedReactive=gt(!1);get untouched(){return!this.touched}_events=new at;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(lb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(lb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ub(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ub(e,this._rawAsyncValidators))}hasValidator(e){return Ha(this._rawValidators,e)}hasAsyncValidator(e){return Ha(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new S0(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new S0(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new z0(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new z0(!0,r))}markAsPending(e={}){this.status=ds;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=E0,this.errors=null,this._forEachChild(i=>{i.disable(ee(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ga(this.value,r)),this._events.next(new hs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=b0,this._forEachChild(r=>{r.enable(ee(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===b0||this.status===ds)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ga(this.value,n)),this._events.next(new hs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?E0:b0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ds,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Cb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new hs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?E0:this.errors?Ua:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ds)?ds:this._anyControlsHaveStatus(Ua)?Ua:b0}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new z0(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new S0(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xa(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=nU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=rU(this._rawAsyncValidators)}},Ka=class extends Wa{constructor(e,n,r){super(wb(n),bb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){sU(this,!0,e),Object.keys(e).forEach(r=>{iU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var l9=new Y("",{providedIn:"root",factory:()=>u9}),u9="always";function oU(t,e){return[...e.path,t]}function Eb(t,e,n=u9){Ib(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),aU(t,e),uU(t,e),lU(t,e),cU(t,e)}function fb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function cU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ib(t,e){let n=Jj(t);e.validator!==null?t.setValidators(ab(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=eU(t);e.asyncValidator!==null?t.setAsyncValidators(ab(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();fb(e._rawValidators,i),fb(e._rawAsyncValidators,i)}function aU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&zb(t,e)})}function lU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&zb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function zb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function fU(t,e){t==null,Ib(t,e)}function dU(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function hU(t){return Object.getPrototypeOf(t.constructor)===Qa}function pU(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function mU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===N1?n=s:hU(s)?r=s:i=s}),i||r||n||null}var gU={provide:ps,useExisting:z2(()=>A0)},I0=Promise.resolve(),A0=(()=>{class t extends ps{callSetDisabledState;get submitted(){return p2(this.submittedReactive)}_submitted=m2(()=>this.submittedReactive());submittedReactive=gt(!1);_directives=new Set;form;ngSubmit=new Ge;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Ka({},c9(n),a9(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){I0.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Eb(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){I0.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){I0.then(()=>{let r=this._findContainer(n.path),i=new Ka({});fU(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){I0.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){I0.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),pU(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(K(Ya,10),K(yb,10),K(l9,8))};static \u0275dir=Re({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ie("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[wn([gU]),Wt]})}return t})();function db(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function hb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var yU=class extends Wa{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(wb(n),bb(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xa(n)&&(n.nonNullable||n.initialValueIsDefault)&&(hb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){db(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){db(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){hb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var vU={provide:D0,useExisting:z2(()=>Hn)},pb=Promise.resolve(),Hn=(()=>{class t extends D0{_changeDetectorRef;callSetDisabledState;control=new yU;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ge;constructor(n,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=mU(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),dU(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Eb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){pb.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&d1(r);pb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?oU(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(K(ps,9),K(Ya,10),K(yb,10),K(T0,10),K(bn,8),K(l9,8))};static \u0275dir=Re({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[wn([vU]),Wt,S2]})}return t})();var Ja=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Re({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),CU={provide:T0,useExisting:z2(()=>x0),multi:!0},x0=(()=>{class t extends Qa{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=D2(t)))(i||t)}})();static \u0275dir=Re({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ie("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[wn([CU]),Wt]})}return t})();var MU={provide:T0,useExisting:z2(()=>gs),multi:!0};function Sb(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function _U(t){return t.split(":")[0]}var gs=(()=>{class t extends Qa{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=Sb(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=_U(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=D2(t)))(i||t)}})();static \u0275dir=Re({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ie("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[wn([MU]),Wt]})}return t})(),e6=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Sb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(K(Xt),K(d2),K(gs,9))};static \u0275dir=Re({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),LU={provide:T0,useExisting:z2(()=>Db),multi:!0};function mb(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function wU(t){return t.split(":")[0]}var Db=(()=>{class t extends Qa{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let l=o[c],u=this._getOptionValue(l.value);i.push(u)}}else{let o=r.options;for(let c=0;c<o.length;c++){let l=o[c];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=wU(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=D2(t)))(i||t)}})();static \u0275dir=Re({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ie("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[wn([LU]),Wt]})}return t})(),t6=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(mb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(mb(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(K(Xt),K(d2),K(Db,9))};static \u0275dir=Re({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function bU(t){return typeof t=="number"?t:parseFloat(t)}var Tb=(()=>{class t{_validator=cb;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):cb,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Re({type:t,features:[S2]})}return t})();var EU={provide:Ya,useExisting:z2(()=>f9),multi:!0},f9=(()=>{class t extends Tb{min;inputName="min";normalizeInput=n=>bU(n);createValidator=n=>Kj(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=D2(t)))(i||t)}})();static \u0275dir=Re({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&f1("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[wn([EU]),Wt]})}return t})(),IU={provide:Ya,useExisting:z2(()=>Rr),multi:!0};var Rr=(()=>{class t extends Tb{required;inputName="required";normalizeInput=d1;createValidator=n=>Qj;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=D2(t)))(i||t)}})();static \u0275dir=Re({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&f1("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[wn([IU]),Wt]})}return t})();var zU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=l1({type:t});static \u0275inj=s1({})}return t})();var R1=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:l9,useValue:n.callSetDisabledState??u9}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=l1({type:t});static \u0275inj=s1({imports:[zU]})}return t})();var r6=class t{item=yi.required();faTrashCan=ob;cartService=N(C2);increaseQuantity(e){e.quantity=(e.quantity||1)+1,this.cartService.updateCart()}decreaseQuantity(e){e.quantity>1&&(e.quantity--,this.cartService.updateCart())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=De({type:t,selectors:[["app-cart-item"]],inputs:{item:[1,"item"]},decls:28,vars:7,consts:[[1,"bg-white","shadow-md","border","rounded-xl","p-2","flex","items-center","gap-x-4","justify-between"],[1,"h-[100px]","border","rounded-xl",3,"src"],[1,"flex","flex-1","flex-col","items-start","min-w-0"],[1,"text-md","font-bold","truncate"],[1,"text-sm"],[1,"flex","flex-row","items-center","mt-2","space-x-4"],[1,"flex","items-center","gap-2"],[1,"bg-white","shadow-md","border","px-2","py-1","rounded-lg","hover:bg-gray-300","text-lg","font-bold",3,"click"],[1,"text-m","font-bold"],[1,"flex","flex-row","items-center","space-x-2"],["id","size","name","size","required","",1,"border","p-1","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["value","S"],["value","M"],["value","L"],["value","XL"],["label","Enlever",1,"shrink-0","w-fit","ml-3",3,"btnClicked","icon"]],template:function(n,r){n&1&&(D(0,"div",0),Pe(1,"img",1),D(2,"div",2)(3,"span",3),V(4),A(),D(5,"span",4),V(6),A(),D(7,"div",5)(8,"div",6)(9,"button",7),ie("click",function(){return r.decreaseQuantity(r.item())}),V(10," - "),A(),D(11,"span",8),V(12),A(),D(13,"button",7),ie("click",function(){return r.increaseQuantity(r.item())}),V(14," + "),A()(),D(15,"div",9)(16,"span",8),V(17),A(),D(18,"select",10),Ye("ngModelChange",function(s){return rt(r.item().size,s)||(r.item().size=s),s}),D(19,"option",11),V(20,"Petit"),A(),D(21,"option",12),V(22,"Moyenne"),A(),D(23,"option",13),V(24,"Grande"),A(),D(25,"option",14),V(26,"Tr\xE8s grande"),A()()()()(),D(27,"app-primary-button",15),ie("btnClicked",function(){return r.cartService.removeFromCart(r.item())}),A()()),n&2&&(O(),X("src",r.item().images[0],u2),O(3),We(r.item().title),O(2),We(r.item().price+" DA"),O(6),We(r.item().quantity),O(5),We(r.item().size),O(),Qe("ngModel",r.item().size),O(9),X("icon",r.faTrashCan))},dependencies:[R1,e6,t6,gs,k1,Rr,Hn,x1],encapsulation:2})};var i6=class t{cartService=N(C2);faCartPlus=fs;total=m2(()=>{let e=0;for(let n of this.cartService.cart())e+=n.price*n.quantity;return e});static \u0275fac=function(n){return new(n||t)};static \u0275cmp=De({type:t,selectors:[["app-order-summary"]],decls:9,vars:1,consts:[[1,"bg-slate-100","p-6","rounded-xl","shadow-xl","border"],[1,"text-2xl"],[1,"flex","flex-col","gap-4"],[1,"flex","gap-4"],[1,"text-lg"],[1,"text-xl","text-green-600","font-bold"]],template:function(n,r){n&1&&(D(0,"div",0)(1,"h2",1),V(2,"Votre Commande:"),A(),D(3,"div",2)(4,"div",3)(5,"span",4),V(6,"Total"),A(),D(7,"span",5),V(8),A()()()()),n&2&&(O(8),We(r.total()+" DA"))},encapsulation:2})};var s6={Wilaya:{Adrar:["Adrar","Tamest","Charouine","Reggane","In Zghmir","Tit","Ksar Kaddour","Tsabit","Timimoun","Ouled Said","Zaouiet Kounta","Aoulef","Timekten","Tamantit","Fenoughil","Tinerkouk","Deldoul","Sali","Akabli","Metarfa","Ouled Ahmed Timmi","Bouda","Aougrout","Talmine","Bordj Badji Mokhtar","Sebaa","Ouled Aissa","Timiaouine"],Alger:["Alger-Centre","Sidi M'Hamed","El Madania","Belouizdad","Bab El Oued","Bologhine","Casbah","Oued Koriche","Bir Mourad Ra\xEFs","El Biar","Bouzareah","Birkhadem","El Harrach","Baraki","Oued Smar","Bachdjerrah","Hussein Dey","Kouba","Bourouba","Dar El Be\xEFda","Bab Ezzouar","Ben Aknoun","Dely Ibrahim","El Hammamet","Ra\xEFs Hamidou","Djasr KasentinaNote 1","El Mouradia","Hydra","Mohammadia","Bordj El Kiffan","El Magharia","Beni Messous","Les Eucalyptus","Birtouta","Tessala El Merdja","Ouled Chebel","Sidi Moussa","A\xEFn Taya","Bordj El Bahri","Marsa","H'raoua","Rou\xEFba","Regha\xEFa","A\xEFn Benian","Staoueli","Z\xE9ralda","Mahelma","Rahmania","Souidania","Ch\xE9raga","Ouled Fayet","El Achour","Draria","Douera","Baba Hassen","Khraicia","Saoula"],Annaba:["Annaba","Berrahal","El Hadjar","Eulma","El Bouni","Oued El Aneb","Cheurfa","Sera\xEFdi","A\xEFn Berda","Cheta\xEFbi","Sidi Amar","Treat"],"A\xEFn Defla":["A\xEFn Benian","A\xEFn Bouyahia","A\xEFn Defla","A\xEFn Lechiekh","A\xEFn Soltane","A\xEFn Torki","Arib","Bathia","Belaas","Ben Allal","Birbouche","Bir Ould Khelifa","Bordj Emir Khaled","Boumedfaa","Bourached","Djelida","Djemaa Ouled Cheikh","Djendel","El Abadia","El Amra","El Attaf","El Hassania","El Maine","Hammam Righa","Hoceinia","Khemis Miliana","Mekhatria","Miliana","Oued Chorfa","Oued Djemaa","Rouina","Sidi Lakhdar","Tacheta Zougagha","Tarik Ibn Ziad","Tiberkanine","Zeddine"],"A\xEFn T\xE9mouchent":["Aghlal","A\xEFn El Arbaa","A\xEFn Kihal","A\xEFn T\xE9mouchent","A\xEFn Tolba","Aoubellil","Beni Saf","Bouzedjar","Chaabat El Leham","Chentouf","El Amria","El Emir Abdelkader","El Malah","El Messaid","Hammam Bouhadjar","Hassasna","Hassi El Ghella","Oued Berkeche","Oued Sabah","Ouled Boudjemaa","Ouled Kihal","Oulha\xE7a El Gheraba","Sidi Ben Adda","Sidi Boumedienne","Sidi Ouriache","Sidi Safi","Tamzoura","Terga"],Batna:["Batna","Ghassira","Maafa","Merouana","Seriana","Menaa","El Madher","Tazoult","N'Gaous","Guigba","Inoughissen","Ouyoun El Assafir","Djerma","Bitam","Abdelkader Azil","Arris","Kimmel","Tilatou","A\xEFn Djasser","Ouled Sellam","Tigherghar","A\xEFn Yagout","Sefiane","Fesdis","Rahbat","Tighanimine","Lemsane","Ksar Bellezma","Seggana","Ichmoul","Foum Toub","Ben Foudhala El Hakania","Oued El Ma","Talkhamt","Bouzina","Chemora","Oued Chaaba","Taxlent","Gosbat","Ouled Aouf","Boumagueur","Barika","Djezar","T'Kout","A\xEFn Touta","Hidoussa","Teniet El Abed","Oued Taga","Ouled Fadel","Timgad","Ras El Aioun","Chir","Ouled Si Slimane","Zanat El Beida","M'doukel","Ouled Ammar","El Hassi","Lazrou","Boumia (Batna)","Boulhilat","Larba\xE2"],Bejaia:["B\xE9ja\xEFa","Amizour","Ferraoun","Taourirt Ighil","Chellata","Tamokra","Timezrit","Souk El T\xE9nine","M'cisna","Tinabdher","Tichy","Semaoun","Kendira","Tifra","Ighram","Amalou","Ighil Ali","Fena\xEFa Ilmaten","Toudja","Darguina","Sidi-Ayad","Aokas","Ait Djellil","Adekar","Akbou","Seddouk","Tazmalt","A\xEFt-R'zine","Chemini","Souk-Oufella","Taskriout","Tibane","Tala Hamza","Barbacha","A\xEFt Ksila","Ouzellaguen","Bouhamza","Beni Mellikeche","Sidi-A\xEFch","El Kseur","Melbou","Akfadou","Leflaye","Kherrata","Dra\xE2 El-Ka\xEFd","Tamridjet","A\xEFt-Smail","Boukhelifa","Tizi N'Berber","A\xEFt Maouche","Oued Ghir","Boudjellil"],Biskra:["A\xEFn Naga","A\xEFn Zaatout","Biskra","Bordj Ben Azzouz","Bouchagroune","Branis","Chetma","Djemorah","El Feidh","El Ghrous","El Hadjeb","El Haouch","El Kantara","El Mizaraa","El Outaya","Foughala","Khenguet Sidi Nadji","Lichana","Lioua","M'Chouneche","Mekhadma","M'Lili","Oumache","Ourlal","Sidi Okba","Tolga","Zeribet El Oued"],Blida:["Blida","Chebli","Bouinan","Oued Alleug","Ouled Ya\xEFch","Chr\xE9a","El Affroun","Chiffa","Hammam Melouane","Benkhelil","Soumaa","Mouzaia","Souhane","Meftah","Ouled Slama","Boufarik","Larbaa","Oued Djer","Beni Tamou","Bouarfa","Beni Mered","Bougara","Guerouaou","A\xEFn Romana","Djebabra"],"Bordj Badji Mokhtar":["Bordj Badji Mokhtar","Timiaouine"],"Bordj Bou Arreridj":["A\xEFn Taghrout","A\xEFn Tesra","Belimour","Ben Daoud","Bir Kasdali","Bordj Bou Arreridj","Bordj Ghedir","Bordj Zemoura","Colla","Djaafra","El Ach","El Achir","El Anseur","El Hamadia","El Main","El M'hir","Ghilassa","Haraza","Hasnaoua","Khelil","Ksour","Mansoura","Medjana","Ouled Brahem","Ouled Dahmane","Ouled Sidi Brahim","Rabta","Ras El Oued","Sidi Embarek","Tefreg","Taglait","Teniet En Nasr","Tassameurt","Tixter"],Bouira:["A\xEFn Bessem","Hanif","Aghbalou","A\xEFn El Hadjar","Ahl El Ksar","A\xEFn Laloui","Ath Mansour","Aomar","A\xEFn El Turc","A\xEFt Laziz","Bouderbala","Bechloul","Bir Ghbalou","Boukram","Bordj Okhriss","Bouira","Chorfa","Dechmia","Dirrah","Djebahia","El Hakimia","El Hachimia","El Adjiba","El Khabouzia","El Mokrani","El Asnam","Guerrouma","Haizer","Hadjera Zerga","Kadiria","Lakhdaria","M'Chedallah","Mezdour","Maala","Maamora","Oued El Berdi","Ouled Rached","Raouraoua","Ridane","Saharidj","Sour El Ghouzlane","Souk El Khemis","Taguedit","Taghzout","Zbarbar"],Boumerd\u00E8s:["Afir","Ammal","Baghlia","Ben Choud","Beni Amrane","Bordj Mena\xEFel","Boudouaou","Boudouaou-El-Bahri","Boumerdes","Bouzegza Keddara","Chabet el Ameur","Corso","Dellys","Djinet","El Kharrouba","Hammedi","Issers","Khemis El-Khechna","Larbatache","Leghata","Naciria","Ouled A\xEFssa","Ouled Hedadj","Ouled Moussa","Si Mustapha","Sidi Daoud","Souk El Had","Taourga","Thenia","Tidjelabine","Timezrit","Zemmouri"],B\u00E9char:["B\xE9char","Erg Ferradj","Ouled Khoudir","Meridja","Timoudi","Lahmar","Beni Abb\xE8s","Beni Ikhlef","Mechraa Houari Boumedienne","Kenadsa","Igli","Tabelbala","Taghit","El Ouata","Boukais","Mougheul","Abadla","Kerzaz","Ksabi","Tamtert","Beni Ounif"],"B\xE9ni Abb\xE8s":["Beni Abb\xE8s","Beni Ikhlef","El Ouata","Igli","Kerzaz","Ksabi","Oulad khodeir","Tabelbala","Tamtert","Timoudi"],Chlef:["Chlef","Tenes","Benairia","El Karimia","Tadjena","Taougrit","Beni Haoua","Sobha","Harchoun","Ouled Fares","Sidi Akkacha","Boukadir","Beni Rached","Talassa","Herenfa","Oued Goussine","Dahra","Ouled Abbes","Sendjas","Zeboudja","Oued Sly","Abou El Hassane","El Marsa","Chettia","Sidi Abderrahmane","Moussadek","El Hadjadj","Labiod Medjadja","Oued Fodda","Ouled Ben Abdelkader","Bouzeghaia","Ain Merane","Oum Drou","Breira","Beni Bouattab"],Constantine:["Ouled Rahmoune","A\xEFn Abid","El Khroub","Ibn Badis","A\xEFn Smara","Constantine","Ibn Ziad","Hamma Bouziane","Didouche Mourad","Messaoud Boudjriou","Beni Hamiden","Zighoud Youcef"],Djanet:["Djanet","Bordj El Haouas"],Djelfa:["A\xEFn Chouhada","A\xEFn El Ibel","A\xEFn Feka","A\xEFn Maabed","A\xEFn Oussara","Amourah","Benhar","Beni Yagoub","Birine","Bouira Lahdab","Charef","Dar Chioukh","Deldoul","Djelfa","Douis","El Guedid","El Idrissia","El Khemis","Faidh El Botma","Guernini","Guettara","Had-Sahary","Hassi Bahbah","Hassi El Euch","Hassi Fedoul","Messaad","M'Liliha","Moudjebara","Oum Laadham","Sed Rahal","Selmana","Sidi Baizid","Sidi Ladjel","Tadmit","Zaafrane","Zaccar"],"El Bayadh":["El Bayadh","Rogassa","Stitten","Brezina","Ghassoul","Boualem","El Abiodh Sidi Cheikh","A\xEFn El Orak","Arbaouat","Bougtoub","El Kheiter","Kef El Ahmar","Boussemghoun","Chellala","Kraakda","El Bnoud","Cheguig","Sidi Ameur","El Mehara","Tousmouline","Sidi Slimane","Sidi Tifour"],"El M'Ghair":["Djamaa","El M'Ghair","Merara","Oum Touyour","Sidi Amrane","Sidi Khellil","Still","Tendla"],"El Meniaa":["El Menia","Hassi Fehal","Hassi Gara"],"El Oued":["El Oued","Robbah","Oued El Alenda","Bayadha","Nakhla","Guemar","Kouinine","Reguiba","Hamraia","Taghzout","Debila","Hassani Abdelkrim","Hassi Khalifa","Taleb Larbi","Douar El Ma","Sidi Aoun","Trifaoui","Magrane","Beni Guecha","Ourmas","El Ogla","Mih Ouansa"],"El Tarf":["A\xEFn El Assel","A\xEFn Kerma","Asfour","Ben Mehidi","Berrihane","Besbes","Bougous","Bouhadjar","Bouteldja","Chebaita Mokhtar","Chefia","Chihani","Dr\xE9an","Echatt","El Aioun","El Kala","El Tarf","Hammam Beni Salah","Lac des Oiseaux","Oued Zitoun","Raml Souk","Souarekh","Zerizer","Zitouna"],Gharda\u00EFa:["Berriane","Bounoura","Dhayet Bendhahoua","El Atteuf","El Guerrara","Gharda\xEFa","Mansoura","Metlili","Sebseb","Zelfana"],Guelma:["A\xEFn Ben Beida","A\xEFn Larbi","A\xEFn Makhlouf","A\xEFn Reggada","A\xEFn Sandel","Belkheir","Ben Djerrah","Beni Mezline","Bordj Sabath","Bouhachana","Bouhamdane","Bouati Mahmoud","Bouchegouf","Boumahra Ahmed","Dahouara","Djeballah Khemissi","El Fedjoudj","Guellat Bou Sbaa","Guelma","Hammam Debagh","Hammam N'Bail","H\xE9liopolis","Houari Boum\xE9di\xE8ne","Khezarra","Medjez Amar","Medjez Sfa","Nechmaya","Oued Cheham","Oued Fragha","Oued Zenati","Ras El Agba","Roknia","Sellaoua Announa","Tamlouka"],Illizi:["Illizi","Debdeb","Bordj Omar Driss","In Amenas"],"In Guezzam":["In Guezzam","Tin Zaouatine"],"In Salah":["Foggaret Ezzaouia","In Ghar","In Salah"],Jijel:["Bordj Tahar","Boucif Ouled Askeur","Boudriaa Ben Yadjis","Bouraoui Belhadef","Chahna","Chekfa","Djemaa Beni Habibi","Djimla","El Ancer","El Aouana","El Kennar Nouchfi","El Milia","Emir Abdelkader","Eraguene","Ghebala","Jijel","Kaous","Khe\xEFri Oued Adjoul","Ouadjana","Ouled Rabah","Ouled Yahia Khedrouche","Selma Benziada","Settara","Sidi Abdelaziz","Sidi Maarouf","Taher","Texenna","Ziama Mansouriah"],Khenchela:["A\xEFn Touila","Babar","Baghai","Bouhmama","Chechar","Chelia","Djellal","El Hamma","El Mahmal","El Oueldja","Ensigha","Kais","Khenchela","Khirane","M'Sara","M'Toussa","Ouled Rechache","Remila","Tamza","Taouzient","Yabous"],Laghouat:["Laghouat","Ksar El Hirane","Bennasser Benchohra","Sidi Makhlouf","Hassi Delaa","Hassi R'Mel","A\xEFn Madhi","Tadjemout","Kheneg","Gueltat Sidi Saad","A\xEFn Sidi Ali","Beidha","Brida","El Ghicha","Hadj Mechri","Sebgag","Taouiala","Tadjrouna","Aflou","El Assafia","Oued Morra","Oued M'Zi","El Houaita","Sidi Bouzid"],"M'Sila":["A\xEFn El Hadjel","A\xEFn El Melh","A\xEFn Errich","A\xEFn Fares","A\xEFn Khadra","Belaiba","Ben Srour","Beni Ilmane","Benzouh","Berhoum","Bir Foda","Bou Sa\xE2da","Bouti Sayah","Chellal","Dehahna","Djebel Messaad","El Hamel","El Houamed","Hammam Dhalaa","Khettouti Sed El Djir","Khoubana","Maadid","Maarif","Magra","M'Cif","Medjedel","M'Sila","M'Tarfa","Ouanougha","Ouled Addi Guebala","Ouled Atia","Mohammed Boudiaf","Ouled Derradj","Ouled Madhi","Ouled Mansour","Ouled Sidi Brahim","Ouled Slimane","Oultem","Sidi A\xEFssa","Sidi Ameur","Sidi Hadjeres","Sidi M'Hamed","Slim","Souamaa","Tamsa","Tarmount","Zarzour"],Mascara:["A\xEFn Fares","A\xEFn Fekan","A\xEFn Ferah","A\xEFn Fras","Ala\xEFmia","Aouf","Beniane","Bou Hanifia","Bou Henni","Chorfa","El Bordj","El Gaada","El Ghomri","El Guettana","El Keurt","El Menaouer","Ferraguig","Froha","Gharrous","Guerdjoum","Ghriss","Hachem","Hacine","Khalouia","Makdha","Mamounia","Maoussa","Mascara","Matemore","Mocta Douz","Mohammadia","Nesmoth","Oggaz","Oued El Abtal","Oued Taria","Ras El A\xEFn Amirouche","Sedjerara","Sehailia","Sidi Abdeldjebar","Sidi Abdelmoumen","Sidi Kada","Sidi Boussaid","Sig","Tighennif","Tizi","Zahana","Zelmata"],Mila:["Ahmed Rachedi","A\xEFn Beida Harriche","A\xEFn Mellouk","A\xEFn Tine","Amira Arr\xE8s","Benyahia Abderrahmane","Bouhatem","Chelghoum Laid","Chigara","Derradji Bousselah","El Mechira","Elayadi Barbes","Ferdjioua","Grarem Gouga","Hamala","Mila","Minar Zarza","Oued Athmania","Oued Endja","Oued Seguen","Ouled Khalouf","Rouached","Sidi Khelifa","Sidi Merouane","Tadjenanet","Tassadane Haddada","Teleghma","Terrai Bainen","Tessala Lemta\xEF","Tiberguent","Yahia Beni Guecha","Zeghaia"],Mostaganem:["Abdelmalek Ramdane","Achaacha","A\xEFn Boudinar","A\xEFn Nouissy","A\xEFn Sidi Cherif","A\xEFn Tedles","Blad Touahria","Bouguirat","El Hassiane","Fornaka","Hadjadj","Hassi Mameche","Khadra","Kheireddine","Mansourah","Mesra","Mazagran","Mostaganem","Nekmaria","Oued El Kheir","Ouled Boughalem","Ouled Maallah","Safsaf","Sayada","Sidi Ali","Sidi Belattar","Sidi Lakhdar","Sirat","Souaflia","Sour","Stidia","Tazgait"],M\u00E9d\u00E9a:["A\xEFn Boucif","A\xEFn Ouksir","Aissaouia","Aziz","Baata","Benchicao","Beni Slimane","Berrouaghia","Bir Ben Laabed","Boghar","Bou Aiche","Bouaichoune","Bouchrahil","Boughezoul","Bouskene","Chahbounia","Chellalet El Adhaoura","Cheniguel","Derrag","Deux Bassins","Djouab","Draa Essamar","El Azizia","El Guelb El Kebir","El Hamdania","El Omaria","El Ouinet","Hannacha","Kef Lakhdar","Khams Djouamaa","Ksar Boukhari","Meghraoua","M\xE9d\xE9a","Moudjbar","Meftaha","Mezerana","Mihoub","Ouamri","Oued Harbil","Ouled Antar","Ouled Bouachra","Ouled Brahim","Ouled Deide","Ouled Hellal","Ouled Maaref","Oum El Djalil","Ouzera","Rebaia","Saneg","Sedraia","Seghouane","Si Mahdjoub","Sidi Damed","Sidi Errabia","Sidi Naamane","Sidi Zahar","Sidi Ziane","Souagui","Tablat","Tafraout","Tamesguida","Tizi Mahdi","Tlatet Eddouar","Zoubiria"],Na\u00E2ma:["Na\xE2ma","Mecheria","A\xEFn Sefra","Tiout","Sfissifa","Moghrar","Assela","Djeniene Bourezg","A\xEFn Ben Khelil","Makman Ben Amer","Kasdir","El Biod"],Oran:["Oran","Gdyel","Bir El Djir","Hassi Bounif","Es Senia","Arzew","Bethioua","Marsat El Hadjadj","A\xEFn El Turk","El An\xE7or","Oued Tlelat","Tafraoui","Sidi Chami","Boufatis","Mers El K\xE9bir","Bousfer","El Kerma","El Braya","Hassi Ben Okba","Ben Freha","Hassi Mefsoukh","Sidi Benyebka","Misserghin","Boutlelis","A\xEFn El Kerma","A\xEFn El Bia"],Ouargla:["Benaceur","Blidet Amor","El Allia","El Borma","El Hadjira","Megarine","M'Naguer","Nezla","Sidi Slimane","Taibet","Tamacine","Tebesbest","Touggourt","Zaouia El Abidia"],"Ouled Djellal":["Besbes","Ech Cha\xEFba","Doucen","Ouled Djellal","Sidi Khaled","Ras El Miaad"],"Oum el Bouaghi":["Oum el Bouaghi","A\xEFn Be\xEFda","A\xEFn M'lila","Behir Chergui","El Amiria","Sigus","El Belala","A\xEFn Babouche","Berriche","Ouled Hamla","Dhalaa","A\xEFn Kercha","Hanchir Toumghani","El Djazia","A\xEFn Diss","Fkirina","Souk Naamane","Zorg","El Fedjoudj Boughrara Saoudi","Ouled Zoua\xEF","Bir Chouhada","Ksar Sbahi","Oued Nini","Meskiana","A\xEFn Fakroun","Rahia","A\xEFn Zitoun","Ouled Gacem","El Harmilia"],Relizane:["A\xEFn Rahma","A\xEFn Tarek","\u2018Aarch Meknassa","Ammi Moussa","Belassel Bouzegza","Bendaoud","Beni Dergoun","Beni Zentis","Dar Ben Abdellah","Djidioua","El Guettar","El Hamadna","El Hassi","El Matmar","El Ouldja","Had Echkalla","Hamri","Kalaa","Lahlef","Mazouna","Mediouna","Mendes","Merdja Sidi Abed","Ouarizane","Oued Essalem","Oued Rhiou","Ouled Aiche","Oued El Djemaa","Ouled Sidi Mihoub","Ramka","Relizane","Sidi Khettab","Sidi Lazreg","Sidi M'Hamed Ben Ali","Sidi M'Hamed Benaouda","Sidi Saada","Souk El Had","Yellel","Zemmora"],Sa\u00EFda:["A\xEFn El Hadjar","A\xEFn Sekhouna","A\xEFn Soltane","Doui Thabet","El Hassasna","Hounet","Maamora","Moulay Larbi","Ouled Brahim","Ouled Khaled","Sa\xEFda","Sidi Ahmed","Sidi Amar","Sidi Boubekeur","Tircine","Youb"],"Sidi Bel Abb\xE8s":["A\xEFn Adden","A\xEFn El Berd","A\xEFn Kada","A\xEFn Thrid","A\xEFn Tindamine","Amarnas","Badredine El Mokrani","Belarbi","Ben Badis","Benachiba Chelia","Bir El Hammam","Boudjebaa El Bordj","Boukhanafis","Chettouane Belaila","Dhaya","El Ha\xE7aiba","Hassi Dahou","Hassi Zehana","Lamtar","M'Cid","Makedra","Marhoum","Merine","Mezaourou","Mostefa Ben Brahim","Moulay Slissen","Oued Sebaa","Oued Sefioun","Oued Taourira","Ras El Ma","Redjem Demouche","Sehala Thaoura","Sfisef","Sidi Ali Benyoub","Sidi Ali Boussidi","Sidi Bel Abbes","Sidi Brahim","Sidi Chaib","Sidi Daho des Zairs","Sidi Hamadouche","Sidi Khaled","Sidi Lahcene","Sidi Yacoub","Tabia","Tafissour","Taoudmout","Teghalimet","Telagh","Tenira","Tessala","Tilmouni","Zerouala"],Skikda:["A\xEFn Bouziane","A\xEFn Charchar","A\xEFn Kechra","A\xEFn Zouit","Azzaba","Bekkouche Lakhdar","Bin El Ouiden","Ben Azzouz","Beni Bechir","Beni Oulbane","Beni Zid","Bouchtata","Cheraia","Collo","Djendel Saadi Mohamed","El Ghedir","El Hadaiek","El Harrouch","El Marsa","Emdjez Edchich","Es Sebt","Filfila","Hamadi Krouma","Kanoua","Kerkera","Kheneg Mayoum","Oued Zehour","Ouldja Boulballout","Ouled Attia","Ouled Hbaba","Oum Toub","Ramdane Djamel","Salah Bouchaour","Sidi Mezghiche","Skikda","Tamalous","Zerdaza","Zitouna"],"Souk Ahras":["Souk Ahras","Sedrata","Hanancha","Mechroha","Ouled Driss","Tiffech","Zaarouria","Taoura","Dr\xE9a","Heddada","Khedara","Merahna","Ouled Moumene","Bir Bou Haouch","M'daourouch","Oum El Adhaim","A\xEFn Zana","A\xEFn Soltane","Ouillen","Sidi Fredj","Safel El Ouiden","Ragouba","Khemissa","Oued Keberit","Terraguelt","Zouabi"],S\u00E9tif:["A\xEFn Abessa","A\xEFn Arnat","A\xEFn Azel","A\xEFn El Kebira","A\xEFn Lahdjar","A\xEFn Legradj","A\xEFn Oulmene","A\xEFn Roua","A\xEFn Sebt","A\xEFt Naoual Mezada","A\xEFt Tizi","Beni Ouartilene","Amoucha","Babor","Bazer Sakhra","Beidha Bordj","Belaa","Beni Aziz","Beni Chebana","Beni Fouda","Beni Hocine","Beni Mouhli","Bir El Arch","Bir Haddada","Bouandas","Bougaa","Bousselam","Boutaleb","Dehamcha","Djemila","Draa Kebila","El Eulma, site arch\xE9ologique de Tarlist","El Ouldja","El Ouricia","Guellal","Guelta Zerka, sites arch\xE9ologiques de A\xEFn El Ahnech et A\xEFn Boucherit","Guenzet","Guidjel","Hamma","Hammam Guergour","Hammam Soukhna","Harbil","Ksar El Abtal","Maaouia","Maoklane","Mezloug","Oued El Barad","Ouled Addouane","Ouled Sabor","Ouled Si Ahmed","Ouled Tebben","Rasfa","Salah Bey","Serdj El Ghoul","S\xE9tif","Tachouda","Talaifacene","Taya","Tella","Tizi N'Bechar"],Tamanrasset:["Tamanrasset","Abalessa","Idles","Tazrouk","In Amguel"],Tebessa:["T\xE9bessa","Bir el-Ater","Cheria","Stah Guentis","El Aouinet","El Houidjbet","Safsaf El Ouesra","Hammamet","Negrine","Bir Mokkadem","El Kouif","Morsott","El Ogla","Bir Dheb","Ogla Melha","Guorriguer","Bekkaria","Boukhadra","Ouenza","El Ma Labiodh","Oum Ali","Tlidjene","A\xEFn Zerga","El Meridj","Boulhaf Dir","Bedjene","El Mezeraa","Ferkane"],Tiaret:["A\xEFn Bouchekif","A\xEFn Deheb","A\xEFn El Hadid","A\xEFn Kermes","A\xEFn Dzarit","Bougara","Chehaima","Dahmouni","Djebilet Rosfa","Djillali Ben Amar","Faidja","Frenda","Guertoufa","Hamadia","Ksar Chellala","Madna","Mahdia","Mechraa Safa","Medrissa","Medroussa","Meghila","Mellakou","Nadorah","Naima","Oued Lilli","Rahouia","Recha\xEFga","Seba\xEFne","Sebt","Serghine","Si Abdelghani","Sidi Abderahmane","Sidi Ali Mellal","Sidi Bakhti","Sidi Hosni","Sougueur","Tagdemt","Takhemaret","Tiaret","Tidda","Tousnina","Zmalet El Emir Abdelkader"],Timimoun:["Aougrout","Charouine","Deldoul","Ksar Kaddour","Metarfa","Ouled A\xEFssa","Ouled Sa\xEFd","Talmine","Timimoun"],Tindouf:["Oum el Assel","Tindouf"],Tipaza:["Tipaza","Menaceur","Larhat","Douaouda","Bourkika","Khemisti","Aghbal","Hadjout","Sidi Amar","Gouraya","Nador","Chaiba","A\xEFn Tagourait","Cherchell","Damous","Merad","Fouka","Bou Isma\xEFl","Ahmar El A\xEFn","Bouharoun","Sidi Ghiles","Messelmoun","Sidi Rached","Kol\xE9a","Attatba","Sidi Semiane","Beni Milleuk","Hadjeret Ennous"],Tissemsilt:["Ammari","Beni Chaib","Beni Lahcene","Boucaid","Bordj Bou Naama","Bordj El Emir Abdelkader","Khemisti","Larbaa","Lardjem","Layoune","Lazharia","Maacem","Melaab","Ouled Bessem","Sidi Abed","Sidi Boutouchent","Sidi Lantri","Sidi Slimane","Tamalaht","Theniet El Had","Tissemsilt","Youssoufia"],"Tizi Ouzou":["Tizi Ouzou","Ain El Hammam","Akbil","Freha","Souama\xE2","Mechtras","Irdjen","Timizart","Makouda","Dra\xE2 El Mizan","Tizi Gheniff","Bounouh","A\xEFt Chaf\xE2a","Frikat","Beni A\xEFssi","A\xEFt Zmenzer","Iferhoun\xE8ne","Azazga","Illoula Oumalou","Yakouren","Larba\xE2 Nath Irathen","Tizi Rached","Zekri","Ouaguenoun","A\xEFn Zaouia","Imkiren","A\xEFt Yahia","A\xEFt Mahmoud","M\xE2atkas","A\xEFt Boumahdi","Abi Youcef","Beni Douala","Illilten","Bouzegu\xE8ne","A\xEFt Aggouacha","Ouadhia","Azeffoun","Tigzirt","A\xEFt A\xEFssa Mimoun","Boghni","Ifigha","A\xEFt Oumalou","Tirmitine","Akerrou","Yatafen","Ath Zikki","Dra\xE2 Ben Khedda","A\xEFt Ouacif","Idjeur","Mekla","Tizi N'Tleta","A\xEFt Yenni","Aghribs","Iflissen","Boudjima","A\xEFt Yahia Moussa","Souk El Thenine","A\xEFt Khellili","Sidi Namane","Iboudraren","Agouni Gueghrane","Mizrana","Imsouhel","Tadma\xEFt","A\xEFt Bouaddou","Assi Youcef","A\xEFt Toudert"],Tlemcen:["Tlemcen","Beni Mester","A\xEFn Tallout","Remchi","El Fehoul","Sabra","Ghazaouet","Souani","Djebala","El Gor","Oued Lakhdar","A\xEFn Fezza","Ouled Mimoun","Amieur","A\xEFn Youcef","Zenata","Beni Snous","Bab El Assa","Dar Yaghmouracene","Fellaoucene","Azails","Sebaa Chioukh","Terny Beni Hdiel","Bensekrane","A\xEFn Nehala","Hennaya","Maghnia","Hammam Boughrara","Souahlia","MSirda Fouaga","A\xEFn Fetah","El Aricha","Souk Tlata","Sidi Abdelli","Sebdou","Beni Ouarsous","Sidi Medjahed","Beni Boussaid","Marsa Ben M'Hidi","Nedroma","Sidi Djillali","Beni Bahdel","El Bouihi","Hona\xEFne","Tienet","Ouled Riyah","Bouhlou","Beni Khellad","A\xEFn Ghoraba","Chetouane","Mansourah","Beni Semiel","A\xEFn Kebira"],Touggourt:["Benaceur","Blidet Amor","El Allia","El Hadjira","Megarine","M'Naguer","Nezla","Sidi Slimane","Taibet","Temacine","Tebesbest","Touggourt","Zaouia El Abidia"]}};function DU(t,e){if(t&1&&(D(0,"option",25),V(1),A()),t&2){let n=e.$implicit;X("value",n),O(),h2(" ",n," ")}}function TU(t,e){if(t&1&&(D(0,"option",25),V(1),A()),t&2){let n=e.$implicit;X("value",n),O(),We(n)}}function AU(t,e){if(t&1){let n=Et();D(0,"div",10)(1,"label",26),V(2,"Quantit\xE9 :"),A(),D(3,"input",27),Ye("ngModelChange",function(i){tt(n);let s=Ie();return rt(s.orderData.quantity,i)||(s.orderData.quantity=i),nt(i)}),A()()}if(t&2){let n=Ie();O(3),Qe("ngModel",n.orderData.quantity)}}var ys=class t{showQuantity=!1;orderSubmitted=new Ge;wilayas=Object.keys(s6.Wilaya);selectedWilaya="Alger";communes=s6.Wilaya.Alger||[];orderData={name:"",phone:"",email:"",wilaya:"Alger",commune:"",address:"",size:"",quantity:""};onWilayaChange(e){let n=e.target.value;this.communes=s6.Wilaya[n]||[],this.orderData.commune=""}submitOrder(e){e.preventDefault(),console.log("Commande soumise :",this.orderData),this.orderSubmitted.emit(this.orderData)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=De({type:t,selectors:[["app-order-form"]],inputs:{showQuantity:"showQuantity"},outputs:{orderSubmitted:"orderSubmitted"},decls:42,vars:9,consts:[[1,"bg-white","shadow-md","border","rounded-xl","p-6","flex","flex-col","gap-4","w-[350px]"],[1,"text-xl","font-semibold","text-center","bg-blue-950","text-white","py-3","rounded-lg","shadow-md"],[3,"submit"],[1,"flex","items-center","mt-2","ml-1","gap-2"],["for","name",1,"text-sm","font-semibold"],["id","name","type","text","placeholder","Entrez votre nom","name","name","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["for","phone",1,"text-sm","font-semibold"],["id","phone","type","text","placeholder","Entrez votre num\xE9ro de t\xE9l\xE9phone","name","phone","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["for","email",1,"text-sm","font-semibold"],["id","email","type","email","placeholder","Entrez votre email","name","email",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],[1,"flex","flex-row","items-center","mt-2","space-x-2"],["for","wilaya",1,"text-sm","ml-1","font-semibold"],["id","wilaya","name","wilaya","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","commune",1,"text-sm","ml-1","font-semibold"],["id","commune","name","commune","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["class","flex flex-row items-center mt-2 space-x-2",4,"ngIf"],["for","size",1,"text-sm","font-semibold","ml-1","whitespace-nowrap"],["id","size","name","size","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["value","S"],["value","M"],["value","L"],["value","XL"],[1,"mt-4"],["type","submit",1,"w-full","bg-green-600","text-white","p-2","rounded-lg","hover:bg-green-700"],[3,"value"],["for","quantity",1,"text-sm","font-semibold","ml-1","whitespace-nowrap"],["id","quantity","type","number","name","quantity","min","1","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(D(0,"div",0)(1,"h3",1),V(2," D\xE9tails de la commande \u{1F4DD} "),A(),D(3,"form",2),ie("submit",function(s){return r.submitOrder(s)}),D(4,"div",3)(5,"label",4),V(6,"Nom :"),A(),D(7,"input",5),Ye("ngModelChange",function(s){return rt(r.orderData.name,s)||(r.orderData.name=s),s}),A()(),D(8,"div",3)(9,"label",6),V(10,"Tel :"),A(),D(11,"input",7),Ye("ngModelChange",function(s){return rt(r.orderData.phone,s)||(r.orderData.phone=s),s}),A()(),D(12,"div",3)(13,"label",8),V(14,"Email :"),A(),D(15,"input",9),Ye("ngModelChange",function(s){return rt(r.orderData.email,s)||(r.orderData.email=s),s}),A()(),D(16,"div",10)(17,"label",11),V(18,"Wilaya :"),A(),D(19,"select",12),Ye("ngModelChange",function(s){return rt(r.orderData.wilaya,s)||(r.orderData.wilaya=s),s}),ie("change",function(s){return r.onWilayaChange(s)}),Ne(20,DU,2,2,"option",13),A()(),D(21,"div",10)(22,"label",14),V(23,"Commune :"),A(),D(24,"select",15),Ye("ngModelChange",function(s){return rt(r.orderData.commune,s)||(r.orderData.commune=s),s}),Ne(25,TU,2,2,"option",13),A()(),Ne(26,AU,4,1,"div",16),D(27,"div",10)(28,"label",17),V(29,"Taille :"),A(),D(30,"select",18),Ye("ngModelChange",function(s){return rt(r.orderData.size,s)||(r.orderData.size=s),s}),D(31,"option",19),V(32,"Petit"),A(),D(33,"option",20),V(34,"Moyenne"),A(),D(35,"option",21),V(36,"Grande"),A(),D(37,"option",22),V(38,"Tr\xE8s grande"),A()()(),D(39,"div",23)(40,"button",24),V(41," Passer la commande \u2714\uFE0F "),A()()()()),n&2&&(O(7),Qe("ngModel",r.orderData.name),O(4),Qe("ngModel",r.orderData.phone),O(4),Qe("ngModel",r.orderData.email),O(4),Qe("ngModel",r.orderData.wilaya),O(),X("ngForOf",r.wilayas),O(4),Qe("ngModel",r.orderData.commune),O(),X("ngForOf",r.communes),O(),X("ngIf",r.showQuantity),O(4),Qe("ngModel",r.orderData.size))},dependencies:[yt,Kt,h1,R1,Ja,e6,t6,N1,x0,gs,k1,Za,Rr,f9,Hn,A0],encapsulation:2})};var cn=class t{constructor(e){this.firestore=e}addProduct(e){let n=z1(this.firestore,"products");return g0(n,e).then(()=>{console.log("Product added successfully")}).catch(r=>{console.error("Error adding product:",r)})}placeOrder(e){let n=z1(this.firestore,"orders");return g0(n,e).then(()=>console.log("Order placed successfully")).catch(r=>console.error("Error placing order:",r))}getAllOrders(){let e=z1(this.firestore,"orders"),n=Sa(e);return Ve(n).pipe(ce(r=>r.docs.map(i=>{let s=i.data();return ee(F({},s),{id:i.id})})))}deleteOrder(e){let n=OL(this.firestore,"orders",e);return PL(n)}static \u0275fac=function(n){return new(n||t)(ae(Vn))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};function NU(t,e){if(t&1&&(D(0,"div",7),Pe(1,"app-cart-item",8),A()),t&2){let n=e.$implicit;O(),X("item",n)}}var o6=class t{route=N(x2);router=N(N2);cartService=N(C2);firebaseService=N(cn);trackById(e,n){return n.id}updateQuantity(e){e.quantity>e.stock&&(e.quantity=e.stock)}handleOrderSubmit(e){let n=this.cartService.cart();if(!n||n.length===0)return;let r={products:n.map(i=>({productId:i.id,productName:i.title,price:i.price,quantity:i.quantity,size:i.size})),total:this.cartService.total(),name:e.name,phone:e.phone,email:e.email,wilaya:e.wilaya,commune:e.commune,address:e.address};this.firebaseService.placeOrder(r).then(()=>{this.cartService.clearCart(),window.alert("\u2705 Votre commande a \xE9t\xE9 enregistr\xE9e avec succ\xE8s !"),this.router.navigate(["/"])}).catch(i=>{console.error("Error placing order:",i),window.alert("\u274C Une erreur est survenue lors de l\u2019enregistrement de votre commande.")})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=De({type:t,selectors:[["app-cart"]],decls:9,vars:3,consts:[[1,"p-6","flex","flex-col","gap-4"],[1,"text-xl","bg-slate-100","font-bold","mt-1","px-4","py-3","shadow-md","flex","justify-between","items-center"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex-1","flex","flex-col","gap-4"],["class","flex justify-between items-center w-full",4,"ngFor","ngForOf","ngForTrackBy"],[1,"md:w-[350px]","w-full"],[3,"orderSubmitted","showQuantity"],[1,"flex","justify-between","items-center","w-full"],[1,"w-full",3,"item"]],template:function(n,r){n&1&&(D(0,"div",0)(1,"h2",1),V(2," PANIER D'ACHAT "),A(),D(3,"div",2)(4,"div",3),Pe(5,"app-order-summary"),Ne(6,NU,2,1,"div",4),A(),D(7,"div",5)(8,"app-order-form",6),ie("orderSubmitted",function(s){return r.handleOrderSubmit(s)}),A()()()()),n&2&&(O(6),X("ngForOf",r.cartService.cart())("ngForTrackBy",r.trackById),O(2),X("showQuantity",!1))},dependencies:[r6,i6,ys,yt,Kt],encapsulation:2})};function kU(t,e){if(t&1){let n=Et();D(0,"img",11),ie("click",function(){let i=tt(n).$implicit,s=Ie();return nt(s.selectedImage=i)}),A()}if(t&2){let n=e.$implicit;X("src",n,u2)}}var c6=class t{route=N(x2);router=N(N2);productsService=N(on);firebaseService=N(cn);productId=String(this.route.snapshot.paramMap.get("id"));product;selectedImage;constructor(){this.loadProduct()}loadProduct(){let e=this.productsService.getProductById(this.productId);e?(this.product=e,console.log("Product found:",e)):console.log("Product not found."),this.selectedImage=e?.images?.[0]}handleOrderSubmit(e){if(!this.product)return;let n={products:[{productId:this.product.id,productName:this.product.title,price:this.product.price,quantity:e.quantity,size:e.size}],total:this.product.price*e.quantity,name:e.name,phone:e.phone,email:e.email,wilaya:e.wilaya,commune:e.commune,address:e.address};this.firebaseService.placeOrder(n).then(()=>{window.alert("\u2705 Votre commande a \xE9t\xE9 enregistr\xE9e avec succ\xE8s !"),this.router.navigate(["/"])}).catch(r=>{console.error("Error placing order:",r),window.alert("\u274C Une erreur est survenue lors de l\u2019enregistrement de votre commande.")})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=De({type:t,selectors:[["app-product-detail"]],decls:13,vars:5,consts:[[1,"p-2","text-center"],[1,"flex","flex-col","md:flex-row","gap-4","mt-4","mx-auto"],[1,"flex","flex-row","gap-4","relative"],[1,"flex","flex-col","gap-2","w-[50px]"],["class","w-16 h-16 object-cover rounded-lg border cursor-pointer hover:border-green-500",3,"src","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-1","relative"],[1,"w-full","object-contain","rounded-lg",3,"src"],[1,"bg-white","shadow-md","border","rounded-xl","p-4","mt-4","md:mt-0","flex","flex-col","items-center","w-fit"],[1,"text-2xl","font-bold"],[1,"text-xl","text-green-600","font-bold"],[3,"orderSubmitted","showQuantity"],[1,"w-16","h-16","object-cover","rounded-lg","border","cursor-pointer","hover:border-green-500",3,"click","src"]],template:function(n,r){if(n&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ne(4,kU,1,1,"img",4),A(),D(5,"div",5),Pe(6,"img",6),D(7,"div",7)(8,"span",8),V(9),A(),D(10,"span",9),V(11),A()()()(),D(12,"app-order-form",10),ie("orderSubmitted",function(s){return r.handleOrderSubmit(s)}),A()()()),n&2){let i;O(4),X("ngForOf",r.product==null?null:r.product.images),O(2),X("src",(i=r.selectedImage)!==null&&i!==void 0?i:"images/default-image.jpg",u2),O(3),We(r.product==null?null:r.product.title),O(2),We((r.product==null?null:r.product.price)+" DA"),O(),X("showQuantity",!0)}},dependencies:[yt,Kt,ys],encapsulation:2})};function RU(t,e){if(t&1&&(D(0,"li"),V(1),A()),t&2){let n=e.$implicit;O(),k4(" ",n.productName," (",n.quantity,"x, ",n.size,") ")}}function PU(t,e){if(t&1){let n=Et();D(0,"tr")(1,"td",5),V(2),A(),D(3,"td",5),V(4),A(),D(5,"td",5),V(6),A(),D(7,"td",5),V(8),A(),D(9,"td",5)(10,"ul"),Ne(11,RU,2,3,"li",4),A()(),D(12,"td",5),V(13),A(),D(14,"td",6)(15,"app-primary-button",7),ie("btnClicked",function(){let i=tt(n).$implicit,s=Ie();return nt(s.deleteOrder(i.id))}),A()()()}if(t&2){let n=e.$implicit,r=Ie();O(2),We(n.name),O(2),We(n.phone),O(2),We(n.email),O(2),k4(" ",n.address,", ",n.commune,", ",n.wilaya," "),O(3),X("ngForOf",n.products),O(2),h2("",n.total," DA"),O(2),X("icon",r.faTrashCan)}}var a6=class t{firebaseService=N(cn);orders=[];faTrashCan;constructor(){}ngOnInit(){this.firebaseService.getAllOrders().subscribe(e=>{this.orders=e})}deleteOrder(e){confirm("\u2757 Voulez-vous vraiment supprimer cette commande ?")&&this.firebaseService.deleteOrder(e).then(()=>{alert("\u2705 Commande supprim\xE9e avec succ\xE8s !"),this.orders=this.orders.filter(n=>n.id!==e)}).catch(n=>console.error("\u274C Erreur lors de la suppression :",n))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=De({type:t,selectors:[["app-order"]],decls:21,vars:1,consts:[[1,"text-xl","font-bold","mb-4"],[1,"min-w-full","border-collapse","border","border-gray-300"],[1,"bg-gray-100"],[1,"border","p-2"],[4,"ngFor","ngForOf"],[1,"border","p-2","text-center"],[1,"border","p-2","flex","text-center","justify-center"],["label","Enlever",1,"shrink-0",3,"btnClicked","icon"]],template:function(n,r){n&1&&(D(0,"h2",0),V(1,"\u{1F4E6} Liste des commandes"),A(),D(2,"table",1)(3,"thead")(4,"tr",2)(5,"th",3),V(6,"Nom"),A(),D(7,"th",3),V(8,"T\xE9l\xE9phone"),A(),D(9,"th",3),V(10,"Email"),A(),D(11,"th",3),V(12,"Addresse"),A(),D(13,"th",3),V(14,"Produits"),A(),D(15,"th",3),V(16,"Total"),A(),D(17,"th",3),V(18,"Action"),A()()(),D(19,"tbody"),Ne(20,PU,16,9,"tr",4),A()()),n&2&&(O(20),X("ngForOf",r.orders))},dependencies:[yt,Kt,x1],encapsulation:2})};function OU(t,e){if(t&1&&(D(0,"div",28),Pe(1,"img",29),A()),t&2){let n=e.$implicit;O(),X("src",n,u2)}}function FU(t,e){if(t&1&&(D(0,"div",24)(1,"h4",25),V(2," Images s\xE9lectionn\xE9es : "),A(),D(3,"div",26),Ne(4,OU,2,1,"div",27),A()()),t&2){let n=Ie();O(4),X("ngForOf",n.product.images)}}function VU(t,e){if(t&1){let n=Et();D(0,"div",3)(1,"label",30),V(2,"Nouveau prix"),A(),D(3,"input",31),Ye("ngModelChange",function(i){tt(n);let s=Ie();return rt(s.product.newPrice,i)||(s.product.newPrice=i),nt(i)}),A()()}if(t&2){let n=Ie();O(3),Qe("ngModel",n.product.newPrice)}}var l6=class t{constructor(e){this.firebaseService=e}router=N(N2);productsService=N(on);promoApplied=!1;categoryName=this.productsService.cachedSubCategories.find(e=>e.id===this.productsService.selectedSubCategory())?.name??void 0;product={title:"",description:"",isPromo:this.promoApplied,price:0,newPrice:0,images:[],stock:0,quantity:0,category:this.productsService.selectedCategory()??"",subCategory:this.categoryName??""};ngOnInit(){}onSubmit(){if(this.product.title&&this.product.price&&this.product.images.length>0){this.product.isPromo=this.promoApplied,this.product.subCategory=this.productsService.selectedSubCategory()??"";let e=this.product,{id:n,size:r}=e,i=gh(e,["id","size"]);this.firebaseService.addProduct(i).then(()=>{console.log("Product added successfully"),this.router.navigate(["/"])})}else console.error("Please fill in all fields")}togglePromo(){this.promoApplied=!this.promoApplied}onImageChange(e){let n=e.target.files;if(n.length>0){let r=[];for(let i=0;i<n.length;i++){let s=n[i];r.push(URL.createObjectURL(s))}this.product.images=[...this.product.images,...r]}}static \u0275fac=function(n){return new(n||t)(K(cn))};static \u0275cmp=De({type:t,selectors:[["app-uploadproduct"]],decls:41,vars:8,consts:[[1,"max-w-2xl","mx-auto","p-6","bg-gray-50","rounded-lg","shadow-lg"],[1,"text-center","text-2xl","font-semibold","text-gray-800","mb-6"],[3,"ngSubmit"],[1,"mb-4"],["for","title",1,"block","font-semibold","text-gray-700","mb-2"],["id","title","name","title","type","text","required","","placeholder","Entrez le titre du produit",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"],["for","description",1,"block","font-semibold","text-gray-700","mb-2"],["id","description","name","description","type","text","required","","placeholder","Entrez la description du produit",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"],["for","images",1,"block","font-semibold","text-gray-700","mb-2"],["id","images","type","file","accept","image/*","multiple","",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"change"],["class","mt-4",4,"ngIf"],["for","category",1,"block","font-semibold","text-gray-700","mb-2"],["id","category","name","category","type","text","placeholder","Entrez la cat\xE9gorie du produit",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"],["for","subCategory",1,"block","font-semibold","text-gray-700","mb-2"],["id","subCategory","name","subCategory","type","text","placeholder","Entrez la sous-cat\xE9gorie du produit",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"],["for","price",1,"block","font-semibold","text-gray-700","mb-2"],[1,"flex","items-center"],["id","price","name","price","type","number","required","","placeholder","Entrez le prix du produit","inputmode","numeric",1,"w-3/4","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"],[1,"ml-2","text-gray-700","font-bold"],["type","button",1,"bg-orange-500","text-white","py-2","ml-2","px-6","rounded-md","hover:bg-orange-400",3,"click"],["class","mb-4",4,"ngIf"],["for","stock",1,"block","font-semibold","text-gray-700","mb-2"],["id","stock","name","stock","type","number","placeholder","Entrez la quantit\xE9 du stock",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-500"],[1,"mt-4"],[1,"text-xl","font-semibold","text-gray-700"],[1,"flex","overflow-x-auto","gap-4","py-3"],["class","inline-block",4,"ngFor","ngForOf"],[1,"inline-block"],["alt","product-image",1,"w-24","h-24","object-cover","rounded-md","border","border-gray-300",3,"src"],["for","newPrice",1,"block","font-semibold","text-gray-700","mb-2"],["id","newPrice","name","newPrice","type","number","placeholder","Entrez le nouveau prix du produit",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(D(0,"div",0)(1,"h2",1),V(2," Ajouter un nouveau produit "),A(),D(3,"form",2),ie("ngSubmit",function(){return r.onSubmit()}),D(4,"div",3)(5,"label",4),V(6,"Titre"),A(),D(7,"input",5),Ye("ngModelChange",function(s){return rt(r.product.title,s)||(r.product.title=s),s}),A()(),D(8,"div",3)(9,"label",6),V(10,"Description"),A(),D(11,"input",7),Ye("ngModelChange",function(s){return rt(r.product.description,s)||(r.product.description=s),s}),A()(),D(12,"div",3)(13,"label",8),V(14,"Images"),A(),D(15,"input",9),ie("change",function(s){return r.onImageChange(s)}),A(),Ne(16,FU,5,1,"div",10),A(),D(17,"div",3)(18,"label",11),V(19,"Cat\xE9gorie"),A(),D(20,"input",12),Ye("ngModelChange",function(s){return rt(r.product.category,s)||(r.product.category=s),s}),A()(),D(21,"div",3)(22,"label",13),V(23,"Sous-cat\xE9gorie"),A(),D(24,"input",14),Ye("ngModelChange",function(s){return rt(r.product.subCategory,s)||(r.product.subCategory=s),s}),A()(),D(25,"div",3)(26,"label",15),V(27,"Prix"),A(),D(28,"div",16)(29,"input",17),Ye("ngModelChange",function(s){return rt(r.product.price,s)||(r.product.price=s),s}),A(),D(30,"span",18),V(31,"DZD"),A(),D(32,"button",19),ie("click",function(){return r.togglePromo()}),V(33," Promo "),A()()(),Ne(34,VU,4,1,"div",20),D(35,"div",3)(36,"label",21),V(37,"Stock"),A(),D(38,"input",22),Ye("ngModelChange",function(s){return rt(r.product.stock,s)||(r.product.stock=s),s}),A()(),D(39,"button",23),V(40," Ajouter le produit "),A()()()),n&2&&(O(7),Qe("ngModel",r.product.title),O(4),Qe("ngModel",r.product.description),O(5),X("ngIf",r.product.images.length),O(4),Qe("ngModel",r.product.category),O(4),Qe("ngModel",r.product.subCategory),O(5),Qe("ngModel",r.product.price),O(5),X("ngIf",r.promoApplied),O(4),Qe("ngModel",r.product.stock))},dependencies:[R1,Ja,N1,x0,k1,Za,Rr,Hn,A0,yt,Kt,h1],encapsulation:2})};var Ab=[{path:"",pathMatch:"full",component:ja},{path:"cart",component:o6},{path:"detail/:id",component:c6},{path:"orders",component:a6},{path:"uploadProduct",component:l6}];var xb={production:!1,firebase:{apiKey:"AIzaSyDCI_H5TXTnUR88_Jc2dnhIatqc2jGcVrk",authDomain:"saradino.firebaseapp.com",databaseURL:"https://saradino-default-rtdb.europe-west1.firebasedatabase.app",projectId:"saradino",storageBucket:"saradino.firebasestorage.app",messagingSenderId:"19368648245",appId:"1:19368648245:web:6a67622c7ab48dcdd91b7c"}};function BU(){try{return IC(xb.firebase)}catch(t){throw console.error("\u{1F525} Firebase initialization error:",t),t}}function jU(){try{return FL()}catch(t){throw console.error("\u{1F525} Firestore initialization error:",t),t}}var Nb={providers:[Ry({eventCoalescing:!0}),Wv(Ab),EC(()=>BU()),kL(()=>jU())]};var UU=(t,e)=>({"font-bold":t,"font-normal":e}),HU=(t,e)=>({"-translate-x-full":t,"translate-x-0":e}),$U=t=>({"bg-blue-950 text-white font-bold":t});function qU(t,e){t&1&&Pe(0,"div",14)}function GU(t,e){if(t&1){let n=Et();Mi(0),D(1,"button",11),ie("click",function(){let i=tt(n).$implicit,s=Ie();return nt(s.selectCategory(i.key))}),Pe(2,"img",12),V(3),A(),Ne(4,qU,1,0,"div",13),_i()}if(t&2){let n=e.$implicit,r=e.last,i=Ie();O(),X("ngClass",du(6,UU,n.key===i.selectedCategoryKey(),n.key!==i.selectedCategoryKey())),O(),fu("alt","",n.name," icon"),X("src","icons/"+n.name.toLowerCase()+".png",u2),O(),h2(" ",n.name," "),O(),X("ngIf",!r)}}function WU(t,e){if(t&1){let n=Et();Mi(0),D(1,"button",27),ie("click",function(){let i=tt(n).$implicit,s=Ie(2);return nt(s.selectSubCategory(i.id))}),V(2),A(),_i()}if(t&2){let n=e.$implicit,r=Ie(2);O(),X("ngClass",R4(2,$U,n.id===r.selectedSubCategory)),O(),h2(" ",n.name," ")}}function KU(t,e){if(t&1){let n=Et();D(0,"button",28),ie("click",function(){tt(n);let i=Ie(2);return nt(i.showInput=!0)}),V(1," \u2719 "),A()}}function QU(t,e){if(t&1){let n=Et();D(0,"div",17)(1,"input",29),Ye("ngModelChange",function(i){tt(n);let s=Ie(2);return rt(s.newSubCategoryName,i)||(s.newSubCategoryName=i),nt(i)}),A(),D(2,"button",30),ie("click",function(){tt(n);let i=Ie(2);return nt(i.addNewSubCategory())}),V(3," \u2714\uFE0F "),A(),D(4,"button",31),ie("click",function(){tt(n);let i=Ie(2);return nt(i.showInput=!1)}),V(5," \u274C "),A()()}if(t&2){let n=Ie(2);O(),Qe("ngModel",n.newSubCategoryName)}}function YU(t,e){if(t&1){let n=Et();D(0,"div",32),ie("click",function(){tt(n);let i=Ie(2);return nt(i.toggleMenu())}),A()}}function ZU(t,e){if(t&1){let n=Et();D(0,"div",32),ie("click",function(){tt(n);let i=Ie(2);return nt(i.toggleMenu())}),A()}}function XU(t,e){if(t&1){let n=Et();D(0,"div",15)(1,"div",16),Ne(2,WU,3,4,"ng-container",7),hu(3,"async"),D(4,"div",17),Ne(5,KU,2,0,"button",18)(6,QU,6,1,"div",19),A(),Ne(7,YU,1,0,"div",20)(8,ZU,1,0,"div",20),D(9,"div",21)(10,"div",22)(11,"h2",23),V(12,"Menu"),A(),D(13,"button",24),ie("click",function(){tt(n);let i=Ie();return nt(i.toggleMenu())}),V(14,"\u26CC"),A()(),D(15,"nav",25)(16,"a",26),ie("click",function(i){tt(n);let s=Ie();return nt(s.onAddProductClick(i))}),V(17,"\u2795 Ajouter Produit"),A(),D(18,"a",26),ie("click",function(i){tt(n);let s=Ie();return nt(s.onCommandesClick(i))}),V(19,"\u{1F4E6} Voir Commandes"),A()()()()()}if(t&2){let n=Ie();O(2),X("ngForOf",pu(3,6,n.subCategoryList$)),O(3),X("ngIf",!n.showInput),O(),X("ngIf",n.showInput),O(),X("ngIf",n.menuOpen()),O(),X("ngIf",n.menuOpen()),O(),X("ngClass",du(8,HU,!n.menuOpen(),n.menuOpen()))}}var u6=class t{productsService=N(on);cartService=N(C2);menuOpen=gt(!1);router=N(N2);faBars=nb;faTimes=ib;faCartShopping=rb;newSubCategoryName="";showInput=!1;categories=gt([{name:"HOMME",key:"categoriesH"},{name:"FEMME",key:"categoriesF"},{name:"ENFANT",key:"categoriesE"}]);selectedCategoryKey=gt("categoriesH");subCategoryList$=this.productsService.getSubCategories(this.selectedCategoryKey());selectedSubCategory=null;constructor(){this.selectCategory(this.selectedCategoryKey())}addNewSubCategory(){return I(this,null,function*(){if(this.newSubCategoryName){console.log("Adding subcategory:",this.newSubCategoryName);try{yield this.addSubCategoryToFirebase(),this.showInput=!1,this.newSubCategoryName=""}catch(e){console.error("Failed to add subcategory:",e)}}})}addSubCategoryToFirebase(){return I(this,null,function*(){yield this.productsService.addCategories(this.selectedCategoryKey(),this.newSubCategoryName),console.log("Subcategory added to Firebase:",this.newSubCategoryName)})}selectCategory(e){this.selectedCategoryKey.set(e),this.subCategoryList$=this.productsService.getSubCategories(e),this.subCategoryList$.subscribe(n=>{n.length>0&&this.selectedSubCategory!==n[0].id?(this.selectedSubCategory=n[0].id,this.productsService.setSelectedSubCategory(this.selectedSubCategory)):this.selectedSubCategory=null})}selectSubCategory(e){this.selectedSubCategory=e,this.productsService.setSelectedSubCategory(e)}cartLabel=m2(()=>`${this.cartService.cart().length}`);toggleMenu(){this.menuOpen.update(e=>!e)}onCommandesClick(e){e.stopPropagation(),this.toggleMenu(),this.router.navigate(["/orders"])}onAddProductClick(e){e.stopPropagation(),this.toggleMenu(),this.router.navigate(["/"]),this.router.navigate(["/uploadProduct"])}logout(){console.log("Logging out..."),this.toggleMenu(),this.menuOpen.set(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=De({type:t,selectors:[["app-header"]],decls:14,vars:5,consts:[[1,"bg-slate-100","mt-1","px-2","py-3","shadow-md","flex","justify-between","items-center"],[1,"flex","items-center","gap-1","overflow-hidden"],[1,"text-2xl","font-extrabold","uppercase","tracking-wider","whitespace-nowrap","mr-1",3,"click"],["src","icons/menu.png",1,"w-5","h-5","mr-2"],["routerLink","/",1,"text-2xl","font-extrabold","uppercase","tracking-wider","whitespace-nowrap","mr-1"],[1,"h-6","w-[1px]","bg-gray-400"],["routerLink","/",1,"flex","items-center","gap-1","overflow-x-auto","whitespace-nowrap","flex-nowrap","min-w-0","scrollbar-hide"],[4,"ngFor","ngForOf"],["routerLink","/cart",1,"px-2","py-1","flex-shrink-0","bg-blue-950","shadow-lg","hover:shadow-2xl","rounded-lg","text-white","flex","items-center","transition-all","duration-300"],["src","icons/cart.png",1,"w-5","h-5","mr-2"],["class","w-full px-2 py-1","routerLink","/",4,"ngIf"],[1,"px-1","py-1","rounded-xl","font-normal","flex","items-center","gap-1","transition-all","duration-300","flex-shrink-0","text-sm",3,"click","ngClass"],[1,"w-5","h-5",3,"src","alt"],["class","h-6 w-[1px] bg-gray-400 flex-shrink-0",4,"ngIf"],[1,"h-6","w-[1px]","bg-gray-400","flex-shrink-0"],["routerLink","/",1,"w-full","px-2","py-1"],[1,"flex","gap-2","overflow-x-auto","scrollbar-hide","w-full","flex-wrap"],[1,"flex","items-center","gap-2"],["class","px-2 py-1 rounded-lg bg-blue-950 text-white font-bold",3,"click",4,"ngIf"],["class","flex items-center gap-2",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 z-40",3,"click",4,"ngIf"],[1,"fixed","top-0","left-0","w-64","h-full","bg-white","shadow-lg","z-50","transform","transition-transform",3,"ngClass"],[1,"flex","justify-between","items-center","px-4","py-3","border-b"],[1,"text-lg","font-bold"],[1,"text-xl",3,"click"],[1,"flex","flex-col","p-4"],[1,"py-2","px-4","hover:bg-gray-200","rounded","cursor-pointer",3,"click"],[1,"px-2","py-1","rounded-xl","transition-all","uppercase","flex-shrink-0","text-sm",3,"click","ngClass"],[1,"px-2","py-1","rounded-lg","bg-blue-950","text-white","font-bold",3,"click"],["type","text","placeholder","Entrer le Nom",1,"px-2","py-1","rounded-lg","border","border-gray-300",3,"ngModelChange","ngModel"],[1,"px-2","py-1","rounded-lg","bg-green-100","font-bold",3,"click"],[1,"px-2","py-1","rounded-lg","bg-red-100","text-white","font-bold",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","z-40",3,"click"]],template:function(n,r){if(n&1&&(D(0,"div",0)(1,"div",1)(2,"button",2),ie("click",function(){return r.toggleMenu()}),Pe(3,"img",3),A(),D(4,"button",4),V(5," ANIS STORE "),A(),Pe(6,"div",5),D(7,"div",6),Ne(8,GU,5,9,"ng-container",7),A()(),D(9,"button",8),Pe(10,"img",9),V(11),A()(),Ne(12,XU,20,11,"div",10),hu(13,"async")),n&2){let i;O(8),X("ngForOf",r.categories()),O(3),h2(" ",r.cartLabel()," "),O(),X("ngIf",(i=pu(13,3,r.subCategoryList$))==null?null:i.length)}},dependencies:[i3,yt,Zy,Kt,h1,Xy,R1,N1,k1,Hn],styles:[".font-bold[_ngcontent-%COMP%]{font-weight:700}"]})};var f6=class t{faCartPlus=fs;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=De({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&Pe(0,"app-header")(1,"router-outlet")},dependencies:[d5,u6],encapsulation:2})};lv(f6,Nb).catch(t=>console.error(t));

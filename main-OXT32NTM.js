var uE=Object.defineProperty,fE=Object.defineProperties;var dE=Object.getOwnPropertyDescriptors;var lh=Object.getOwnPropertySymbols;var hE=Object.prototype.hasOwnProperty,pE=Object.prototype.propertyIsEnumerable;var uh=(t,e,n)=>e in t?uE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})hE.call(e,n)&&uh(t,n,e[n]);if(lh)for(var n of lh(e))pE.call(e,n)&&uh(t,n,e[n]);return t},ee=(t,e)=>fE(t,dE(e));var I=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{c(n.next(l))}catch(u){i(u)}},o=l=>{try{c(n.throw(l))}catch(u){i(u)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);c((n=n.apply(t,e)).next())});function dh(t,e){return Object.is(t,e)}var nt=null,Ps=!1,N6=1,kt=Symbol("SIGNAL");function ve(t){let e=nt;return nt=t,e}function hh(){return nt}function mE(){return Ps}var k1={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function K0(t){if(Ps)throw new Error("");if(nt===null)return;nt.consumerOnSignalRead(t);let e=nt.nextProducerIndex++;if(Y0(nt),e<nt.producerNode.length&&nt.producerNode[e]!==t&&Os(nt)){let n=nt.producerNode[e];Q0(n,nt.producerIndexOfThis[e])}nt.producerNode[e]!==t&&(nt.producerNode[e]=t,nt.producerIndexOfThis[e]=Os(nt)?vh(t,nt,e):0),nt.producerLastReadVersion[e]=t.version}function gE(){N6++}function ph(t){if(!(Os(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===N6)){if(!t.producerMustRecompute(t)&&!Vs(t)){fh(t);return}t.producerRecomputeValue(t),fh(t)}}function mh(t){if(t.liveConsumerNode===void 0)return;let e=Ps;Ps=!0;try{for(let n of t.liveConsumerNode)n.dirty||yh(n)}finally{Ps=e}}function gh(){return nt?.consumerAllowSignalWrites!==!1}function yh(t){t.dirty=!0,mh(t),t.consumerMarkedDirty?.(t)}function fh(t){t.dirty=!1,t.lastCleanEpoch=N6}function Rr(t){return t&&(t.nextProducerIndex=0),ve(t)}function Fs(t,e){if(ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Os(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Q0(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vs(t){Y0(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ph(n),r!==n.version))return!0}return!1}function Pr(t){if(Y0(t),Os(t))for(let e=0;e<t.producerNode.length;e++)Q0(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function vh(t,e,n){if(Ch(t),t.liveConsumerNode.length===0&&Mh(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=vh(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Q0(t,e){if(Ch(t),t.liveConsumerNode.length===1&&Mh(t))for(let r=0;r<t.producerNode.length;r++)Q0(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Y0(i),i.producerIndexOfThis[r]=e}}function Os(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Y0(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ch(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Mh(t){return t.producerNode!==void 0}function _h(t){let e=Object.create(yE);e.computation=t;let n=()=>{if(ph(e),K0(e),e.value===W0)throw e.error;return e.value};return n[kt]=e,n}var T6=Symbol("UNSET"),A6=Symbol("COMPUTING"),W0=Symbol("ERRORED"),yE=ee(O({},k1),{value:T6,dirty:!0,error:null,equal:dh,kind:"computed",producerMustRecompute(t){return t.value===T6||t.value===A6},producerRecomputeValue(t){if(t.value===A6)throw new Error("Detected cycle in computations.");let e=t.value;t.value=A6;let n=Rr(t),r,i=!1;try{r=t.computation(),ve(null),i=e!==T6&&e!==W0&&r!==W0&&t.equal(e,r)}catch(s){r=W0,t.error=s}finally{Fs(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function vE(){throw new Error}var Lh=vE;function wh(t){Lh(t)}function bh(t){Lh=t}var CE=null;function Eh(t){let e=Object.create(k6);e.value=t;let n=()=>(K0(e),e.value);return n[kt]=e,n}function Z0(t,e){gh()||wh(t),t.equal(t.value,e)||(t.value=e,ME(t))}function Ih(t,e){gh()||wh(t),Z0(t,e(t.value))}var k6=ee(O({},k1),{equal:dh,value:void 0,kind:"signal"});function ME(t){t.version++,gE(),mh(t),CE?.()}function zh(t,e,n){let r=Object.create(_E);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=l=>{r.cleanupFn=l};function s(l){return l.fn===null&&l.schedule===null}function o(l){s(l)||(Pr(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=x6)}let c=()=>{if(r.fn===null)return;if(mE())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Vs(r))return;r.hasRun=!0;let l=Rr(r);try{r.cleanupFn(),r.cleanupFn=x6,r.fn(i)}finally{Fs(r,l)}};return r.ref={notify:()=>yh(r),run:c,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[kt]:r},r.ref}var x6=()=>{},_E=ee(O({},k1),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:x6});var R6;function Sh(){return R6}function Dh(t){let e=R6;return R6=t,e}function re(t){return typeof t=="function"}function Or(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var X0=Or(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function R1(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(s){e=s instanceof X0?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Th(s)}catch(o){e=e??[],o instanceof X0?e=[...e,...o.errors]:e.push(o)}}if(e)throw new X0(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Th(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&R1(n,e)}remove(e){let{_finalizers:n}=this;n&&R1(n,e),e instanceof t&&e._removeParent(this)}};qe.EMPTY=(()=>{let t=new qe;return t.closed=!0,t})();var P6=qe.EMPTY;function J0(t){return t instanceof qe||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function Th(t){re(t)?t():t.unsubscribe()}var M2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fr={setTimeout(t,e,...n){let{delegate:r}=Fr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ec(t){Fr.setTimeout(()=>{let{onUnhandledError:e}=M2;if(e)e(t);else throw t})}function Bs(){}var Ah=O6("C",void 0,void 0);function xh(t){return O6("E",void 0,t)}function Nh(t){return O6("N",t,void 0)}function O6(t,e,n){return{kind:t,value:e,error:n}}var P1=null;function Vr(t){if(M2.useDeprecatedSynchronousErrorHandling){let e=!P1;if(e&&(P1={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=P1;if(P1=null,n)throw r}}else t()}function kh(t){M2.useDeprecatedSynchronousErrorHandling&&P1&&(P1.errorThrown=!0,P1.error=t)}var O1=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,J0(e)&&e.add(this)):this.destination=EE}static create(e,n,r){return new Br(e,n,r)}next(e){this.isStopped?V6(Nh(e),this):this._next(e)}error(e){this.isStopped?V6(xh(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?V6(Ah,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wE=Function.prototype.bind;function F6(t,e){return wE.call(t,e)}var B6=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){tc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){tc(r)}else tc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){tc(n)}}},Br=class extends O1{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&M2.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&F6(e.next,s),error:e.error&&F6(e.error,s),complete:e.complete&&F6(e.complete,s)}):i=e}this.destination=new B6(i)}};function tc(t){M2.useDeprecatedSynchronousErrorHandling?kh(t):ec(t)}function bE(t){throw t}function V6(t,e){let{onStoppedNotification:n}=M2;n&&Fr.setTimeout(()=>n(t,e))}var EE={closed:!0,next:Bs,error:bE,complete:Bs};var jr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(t){return t}function nc(...t){return j6(t)}function j6(t){return t.length===0?Wt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=zE(n)?n:new Br(n,r,i);return Vr(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Rh(r),new r((i,s)=>{let o=new Br({next:c=>{try{n(c)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[jr](){return this}pipe(...n){return j6(n)(this)}toPromise(n){return n=Rh(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Rh(t){var e;return(e=t??M2.Promise)!==null&&e!==void 0?e:Promise}function IE(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function zE(t){return t&&t instanceof O1||IE(t)&&J0(t)}function U6(t){return re(t?.lift)}function Ce(t){return e=>{if(U6(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(t,e,n,r,i){return new H6(t,e,n,r,i)}var H6=class extends O1{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(l){e.error(l)}}:super._next,this._error=i?function(c){try{i(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ur(){return Ce((t,e)=>{let n=null;t._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Hr=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,U6(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;let n=this.getSubject();e.add(this.source.subscribe(pe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return Ur()(this)}};var Ph=Or(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new rc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ph}next(n){Vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?P6:(this.currentObservers=null,s.push(n),new qe(()=>{this.currentObservers=null,R1(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new rc(e,n),t})(),rc=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:P6}};var lt=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $6={now(){return($6.delegate||Date).now()},delegate:void 0};var ic=class extends qe{constructor(e,n){super()}schedule(e,n=0){return this}};var js={setInterval(t,e,...n){let{delegate:r}=js;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=js;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var $r=class extends ic{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return js.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&js.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,R1(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var qr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};qr.now=$6.now;var Gr=class extends qr{constructor(e,n=qr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var q6=new Gr($r);var sc=class extends $r{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var oc=class extends Gr{};var G6=new oc(sc);var Rt=new le(t=>t.complete());function Oh(t){return t&&re(t.schedule)}function Fh(t){return t[t.length-1]}function cc(t){return re(Fh(t))?t.pop():void 0}function $n(t){return Oh(Fh(t))?t.pop():void 0}function W6(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Bh(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(d){try{u(r.next(d))}catch(p){o(p)}}function l(d){try{u(r.throw(d))}catch(p){o(p)}}function u(d){d.done?s(d.value):i(d.value).then(c,l)}u((r=r.apply(t,e||[])).next())})}function Vh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function F1(t){return this instanceof F1?(this.v=t,this):new F1(t)}function jh(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(E){return Promise.resolve(E).then(g,p)}}function c(g,E){r[g]&&(i[g]=function(D){return new Promise(function(T,V){s.push([g,D,T,V])>1||l(g,D)})},E&&(i[g]=E(i[g])))}function l(g,E){try{u(r[g](E))}catch(D){y(s[0][3],D)}}function u(g){g.value instanceof F1?Promise.resolve(g.value.v).then(d,p):y(s[0][2],g)}function d(g){l("next",g)}function p(g){l("throw",g)}function y(g,E){g(E),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Uh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Vh=="function"?Vh(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,l){o=t[s](o),i(c,l,o.done,o.value)})}}function i(s,o,c,l){Promise.resolve(l).then(function(u){s({value:u,done:c})},o)}}var ac=t=>t&&typeof t.length=="number"&&typeof t!="function";function lc(t){return re(t?.then)}function uc(t){return re(t[jr])}function fc(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function dc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function SE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hc=SE();function pc(t){return re(t?.[hc])}function mc(t){return jh(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield F1(n.read());if(i)return yield F1(void 0);yield yield F1(r)}}finally{n.releaseLock()}})}function gc(t){return re(t?.getReader)}function Ye(t){if(t instanceof le)return t;if(t!=null){if(uc(t))return DE(t);if(ac(t))return TE(t);if(lc(t))return AE(t);if(fc(t))return Hh(t);if(pc(t))return xE(t);if(gc(t))return NE(t)}throw dc(t)}function DE(t){return new le(e=>{let n=t[jr]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function TE(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function AE(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ec)})}function xE(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Hh(t){return new le(e=>{kE(t,e).catch(n=>e.error(n))})}function NE(t){return Hh(mc(t))}function kE(t,e){var n,r,i,s;return Bh(this,void 0,void 0,function*(){try{for(n=Uh(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Pt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function qn(t,e=0){return Ce((n,r)=>{n.subscribe(pe(r,i=>Pt(r,t,()=>r.next(i),e),()=>Pt(r,t,()=>r.complete(),e),i=>Pt(r,t,()=>r.error(i),e)))})}function Gn(t,e=0){return Ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function $h(t,e){return Ye(t).pipe(Gn(e),qn(e))}function qh(t,e){return Ye(t).pipe(Gn(e),qn(e))}function Gh(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Wh(t,e){return new le(n=>{let r;return Pt(n,e,()=>{r=t[hc](),Pt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function yc(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{Pt(n,e,()=>{let r=t[Symbol.asyncIterator]();Pt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Kh(t,e){return yc(mc(t),e)}function Qh(t,e){if(t!=null){if(uc(t))return $h(t,e);if(ac(t))return Gh(t,e);if(lc(t))return qh(t,e);if(fc(t))return yc(t,e);if(pc(t))return Wh(t,e);if(gc(t))return Kh(t,e)}throw dc(t)}function Oe(t,e){return e?Qh(t,e):Ye(t)}function se(...t){let e=$n(t);return Oe(t,e)}function Wr(t,e){let n=re(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function K6(t){return!!t&&(t instanceof le||re(t.lift)&&re(t.subscribe))}var an=Or(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(t,e){return Ce((n,r)=>{let i=0;n.subscribe(pe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:RE}=Array;function PE(t,e){return RE(e)?t(...e):t(e)}function vc(t){return oe(e=>PE(t,e))}var{isArray:OE}=Array,{getPrototypeOf:FE,prototype:VE,keys:BE}=Object;function Cc(t){if(t.length===1){let e=t[0];if(OE(e))return{args:e,keys:null};if(jE(e)){let n=BE(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function jE(t){return t&&typeof t=="object"&&FE(t)===VE}function Mc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function _c(...t){let e=$n(t),n=cc(t),{args:r,keys:i}=Cc(t);if(r.length===0)return Oe([],e);let s=new le(UE(r,e,i?o=>Mc(i,o):Wt));return n?s.pipe(vc(n)):s}function UE(t,e,n=Wt){return r=>{Yh(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let l=0;l<i;l++)Yh(e,()=>{let u=Oe(t[l],e),d=!1;u.subscribe(pe(r,p=>{s[l]=p,d||(d=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Yh(t,e,n){t?Pt(n,t,e):e()}function Zh(t,e,n,r,i,s,o,c){let l=[],u=0,d=0,p=!1,y=()=>{p&&!l.length&&!u&&e.complete()},g=D=>u<r?E(D):l.push(D),E=D=>{s&&e.next(D),u++;let T=!1;Ye(n(D,d++)).subscribe(pe(e,V=>{i?.(V),s?g(V):e.next(V)},()=>{T=!0},void 0,()=>{if(T)try{for(u--;l.length&&u<r;){let V=l.shift();o?Pt(e,o,()=>E(V)):E(V)}y()}catch(V){e.error(V)}}))};return t.subscribe(pe(e,g,()=>{p=!0,y()})),()=>{c?.()}}function it(t,e,n=1/0){return re(e)?it((r,i)=>oe((s,o)=>e(r,s,i,o))(Ye(t(r,i))),n):(typeof e=="number"&&(n=e),Ce((r,i)=>Zh(r,i,t,n)))}function Q6(t=1/0){return it(Wt,t)}function Xh(){return Q6(1)}function Kr(...t){return Xh()(Oe(t,$n(t)))}function Lc(t){return new le(e=>{Ye(t()).subscribe(e)})}function Y6(...t){let e=cc(t),{args:n,keys:r}=Cc(t),i=new le(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),l=o,u=o;for(let d=0;d<o;d++){let p=!1;Ye(n[d]).subscribe(pe(s,y=>{p||(p=!0,u--),c[d]=y},()=>l--,void 0,()=>{(!l||!p)&&(u||s.next(r?Mc(r,c):c),s.complete())}))}});return e?i.pipe(vc(e)):i}function r2(t,e){return Ce((n,r)=>{let i=0;n.subscribe(pe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Wn(t){return Ce((e,n)=>{let r=null,i=!1,s;r=e.subscribe(pe(n,void 0,void 0,o=>{s=Ye(t(o,Wn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Jh(t,e,n,r,i){return(s,o)=>{let c=n,l=e,u=0;s.subscribe(pe(o,d=>{let p=u++;l=c?t(l,d,p):(c=!0,d),r&&o.next(l)},i&&(()=>{c&&o.next(l),o.complete()})))}}function Qr(t,e){return re(e)?it(t,e,1):it(t,1)}function Kn(t){return Ce((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ln(t){return t<=0?()=>Rt:Ce((e,n)=>{let r=0;e.subscribe(pe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function wc(t=HE){return Ce((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function HE(){return new an}function Us(t){return Ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function un(t,e){let n=arguments.length>=2;return r=>r.pipe(t?r2((i,s)=>t(i,s,r)):Wt,ln(1),n?Kn(e):wc(()=>new an))}function Yr(t){return t<=0?()=>Rt:Ce((e,n)=>{let r=[];e.subscribe(pe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Z6(t,e){let n=arguments.length>=2;return r=>r.pipe(t?r2((i,s)=>t(i,s,r)):Wt,Yr(1),n?Kn(e):wc(()=>new an))}function bc(t,e){return Ce(Jh(t,e,arguments.length>=2,!0))}function Ec(...t){let e=$n(t);return Ce((n,r)=>{(e?Kr(t,n,e):Kr(t,n)).subscribe(r)})}function _2(t,e){return Ce((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(pe(r,l=>{i?.unsubscribe();let u=0,d=s++;Ye(t(l,d)).subscribe(i=pe(r,p=>r.next(e?e(l,p,d,u++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function X6(t){return Ce((e,n)=>{Ye(t).subscribe(pe(n,()=>n.complete(),Bs)),!n.closed&&e.subscribe(n)})}function ut(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ce((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(pe(s,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},()=>{var l;c=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var u;c=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},()=>{var l,u;c&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Wt}var Bp="https://g.co/ng/security#xss",$=class extends Error{code;constructor(e,n){super(d8(e,n)),this.code=e}};function d8(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var jp=Symbol("InputSignalNode#UNSET"),$E=ee(O({},k6),{transformFn:void 0,applyValueToInputSignal(t,e){Z0(t,e)}});function Up(t,e){let n=Object.create($E);n.value=t,n.transformFn=e?.transform;function r(){if(K0(n),n.value===jp)throw new $(-950,!1);return n.value}return r[kt]=n,r}function ro(t){return{toString:t}.toString()}var Ic="__parameters__";function qE(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Hp(t,e,n){return ro(()=>{let r=qE(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(l,u,d){let p=l.hasOwnProperty(Ic)?l[Ic]:Object.defineProperty(l,Ic,{value:[]})[Ic];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ws=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function GE(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ct(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Ct).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function dl(t,e){return t?e?`${t} ${e}`:t:e||""}var WE=Te({__forward_ref__:Te});function I2(t){return t.__forward_ref__=I2,t.toString=function(){return Ct(this())},t}function It(t){return $p(t)?t():t}function $p(t){return typeof t=="function"&&t.hasOwnProperty(WE)&&t.__forward_ref__===I2}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function t1(t){return{providers:t.providers||[],imports:t.imports||[]}}function l4(t){return ep(t,Gp)||ep(t,Wp)}function qp(t){return l4(t)!==null}function ep(t,e){return t.hasOwnProperty(e)?t[e]:null}function KE(t){let e=t&&(t[Gp]||t[Wp]);return e||null}function tp(t){return t&&(t.hasOwnProperty(np)||t.hasOwnProperty(QE))?t[np]:null}var Gp=Te({\u0275prov:Te}),np=Te({\u0275inj:Te}),Wp=Te({ngInjectableDef:Te}),QE=Te({ngInjectorDef:Te}),Q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Kp(t){return t&&!!t.\u0275providers}var YE=Te({\u0275cmp:Te}),ZE=Te({\u0275dir:Te}),XE=Te({\u0275pipe:Te}),JE=Te({\u0275mod:Te}),Fc=Te({\u0275fac:Te}),Gs=Te({__NG_ELEMENT_ID__:Te}),rp=Te({__NG_ENV_ID__:Te});function Yn(t){return typeof t=="string"?t:t==null?"":String(t)}function eI(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Yn(t)}function Qp(t,e){throw new $(-200,t)}function h8(t,e){throw new $(-201,!1)}var ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ue||{}),hl;function Yp(){return hl}function Ot(t){let e=hl;return hl=t,e}function Zp(t,e,n){let r=l4(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ue.Optional)return null;if(e!==void 0)return e;h8(t,"Injector")}var tI={},Ks=tI;function Ac(){return Sh()}function Qn(t){return Dh(t)}var pl="__NG_DI_FLAG__",Vc="ngTempTokenPath",nI="ngTokenPath",rI=/\n/gm,iI="\u0275",ip="__source";function sI(t,e=ue.Default){if(Ac()===void 0)throw new $(-203,!1);return Ac()===null?Zp(t,void 0,e):Ac().get(t,e&ue.Optional?null:void 0,e)}function ce(t,e=ue.Default){return(Yp()||sI)(It(t),e)}function A(t,e=ue.Default){return ce(t,u4(e))}function u4(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ml(t){let e=[];for(let n=0;n<t.length;n++){let r=It(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=ue.Default;for(let o=0;o<r.length;o++){let c=r[o],l=oI(c);typeof l=="number"?l===-1?i=c.token:s|=l:i=c}e.push(ce(i,s))}else e.push(ce(r))}return e}function Xp(t,e){return t[pl]=e,t.prototype[pl]=e,t}function oI(t){return t[pl]}function cI(t,e,n,r){let i=t[Vc];throw e[ip]&&i.unshift(e[ip]),t.message=aI(`
`+t.message,i,n,r),t[nI]=i,t[Vc]=null,t}function aI(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==iI?t.slice(2):t;let i=Ct(e);if(Array.isArray(e))i=e.map(Ct).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):Ct(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rI,`
  `)}`}var H2=Xp(Hp("Optional"),8);var lI=Xp(Hp("SkipSelf"),4);function B1(t,e){let n=t.hasOwnProperty(Fc);return n?t[Fc]:null}function p8(t,e){t.forEach(n=>Array.isArray(n)?p8(n,e):e(n))}function Jp(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function uI(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function fI(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function m8(t,e,n){let r=io(t,e);return r>=0?t[r|1]=n:(r=~r,fI(t,r,e,n)),r}function J6(t,e){let n=io(t,e);if(n>=0)return t[n|1]}function io(t,e){return dI(t,e,1)}function dI(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var j1={},Ft=[],ti=new Q(""),em=new Q("",-1),tm=new Q(""),jc=class{get(e,n=Ks){if(n===Ks){let r=new Error(`NullInjectorError: No provider for ${Ct(e)}!`);throw r.name="NullInjectorError",r}return n}};function nm(t,e){let n=t[JE]||null;if(!n&&e===!0)throw new Error(`Type ${Ct(t)} does not have '\u0275mod' property.`);return n}function U1(t){return t[YE]||null}function rm(t){return t[ZE]||null}function im(t){return t[XE]||null}function sm(t){let e=U1(t)||rm(t)||im(t);return e!==null&&e.standalone}function n1(t){return{\u0275providers:t}}function hI(...t){return{\u0275providers:om(!0,t),\u0275fromNgModule:!0}}function om(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return p8(e,o=>{let c=o;gl(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&cm(i,s),n}function cm(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];g8(i,s=>{e(s,r)})}}function gl(t,e,n,r){if(t=It(t),!t)return!1;let i=null,s=tp(t),o=!s&&U1(t);if(!s&&!o){let l=t.ngModule;if(s=tp(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of l)gl(u,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let u;try{p8(s.imports,d=>{gl(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&cm(u,e)}if(!c){let u=B1(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ft},i),e({provide:tm,useValue:i,multi:!0},i),e({provide:ti,useValue:()=>ce(i),multi:!0},i)}let l=s.providers;if(l!=null&&!c){let u=t;g8(l,d=>{e(d,u)})}}else return!1;return i!==t&&t.providers!==void 0}function g8(t,e){for(let n of t)Kp(n)&&(n=n.\u0275providers),Array.isArray(n)?g8(n,e):e(n)}var pI=Te({provide:String,useValue:Te});function am(t){return t!==null&&typeof t=="object"&&pI in t}function mI(t){return!!(t&&t.useExisting)}function gI(t){return!!(t&&t.useFactory)}function ni(t){return typeof t=="function"}function yI(t){return!!t.useClass}var f4=new Q(""),xc={},sp={},el;function y8(){return el===void 0&&(el=new jc),el}var Vt=class{},Qs=class extends Vt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,vl(e,o=>this.processProvider(o)),this.records.set(em,Zr(void 0,this)),i.has("environment")&&this.records.set(Vt,Zr(void 0,this));let s=this.records.get(f4);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(tm,Ft,ue.Self))}destroy(){$s(this),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return $s(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){$s(this);let n=Qn(this),r=Ot(void 0),i;try{return e()}finally{Qn(n),Ot(r)}}get(e,n=Ks,r=ue.Default){if($s(this),e.hasOwnProperty(rp))return e[rp](this);r=u4(r);let i,s=Qn(this),o=Ot(void 0);try{if(!(r&ue.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=LI(e)&&l4(e);u&&this.injectableDefInScope(u)?l=Zr(yl(e),xc):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let c=r&ue.Self?y8():this.parent;return n=r&ue.Optional&&n===Ks?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Vc]=c[Vc]||[]).unshift(Ct(e)),s)throw c;return cI(c,e,"R3InjectorError",this.source)}else throw c}finally{Ot(o),Qn(s)}}resolveInjectorInitializers(){let e=ve(null),n=Qn(this),r=Ot(void 0),i;try{let s=this.get(ti,Ft,ue.Self);for(let o of s)o()}finally{Qn(n),Ot(r),ve(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ct(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=It(e);let n=ni(e)?e:It(e&&e.provide),r=CI(e);if(!ni(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Zr(void 0,xc,!0),i.factory=()=>ml(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ve(null);try{return n.value===sp?Qp(Ct(e)):n.value===xc&&(n.value=sp,n.value=n.factory()),typeof n.value=="object"&&n.value&&_I(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=It(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function yl(t){let e=l4(t),n=e!==null?e.factory:B1(t);if(n!==null)return n;if(t instanceof Q)throw new $(204,!1);if(t instanceof Function)return vI(t);throw new $(204,!1)}function vI(t){if(t.length>0)throw new $(204,!1);let n=KE(t);return n!==null?()=>n.factory(t):()=>new t}function CI(t){if(am(t))return Zr(void 0,t.useValue);{let e=lm(t);return Zr(e,xc)}}function lm(t,e,n){let r;if(ni(t)){let i=It(t);return B1(i)||yl(i)}else if(am(t))r=()=>It(t.useValue);else if(gI(t))r=()=>t.useFactory(...ml(t.deps||[]));else if(mI(t))r=()=>ce(It(t.useExisting));else{let i=It(t&&(t.useClass||t.provide));if(MI(t))r=()=>new i(...ml(t.deps));else return B1(i)||yl(i)}return r}function $s(t){if(t.destroyed)throw new $(205,!1)}function Zr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function MI(t){return!!t.deps}function _I(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function LI(t){return typeof t=="function"||typeof t=="object"&&t instanceof Q}function vl(t,e){for(let n of t)Array.isArray(n)?vl(n,e):n&&Kp(n)?vl(n.\u0275providers,e):e(n)}function St(t,e){t instanceof Qs&&$s(t);let n,r=Qn(t),i=Ot(void 0);try{return e()}finally{Qn(r),Ot(i)}}function um(){return Yp()!==void 0||Ac()!=null}function d4(t){if(!um())throw new $(-203,!1)}function wI(t){return typeof t=="function"}var gn=0,Me=1,te=2,zt=3,b2=4,Ut=5,Ys=6,Uc=7,Bt=8,Zs=9,fn=10,Fe=11,Xs=12,op=13,ui=14,o2=15,ri=16,Xr=17,ii=18,h4=19,fm=20,Zn=21,Nc=22,H1=23,i2=24,tl=25,jt=26,dm=1;var $1=7,Hc=8,$c=9,s2=10;function Xn(t){return Array.isArray(t)&&typeof t[dm]=="object"}function yn(t){return Array.isArray(t)&&t[dm]===!0}function v8(t){return(t.flags&4)!==0}function fi(t){return t.componentOffset>-1}function p4(t){return(t.flags&1)===1}function V2(t){return!!t.template}function qc(t){return(t[te]&512)!==0}function so(t){return(t[te]&256)===256}var Cl=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function hm(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var z2=(()=>{let t=()=>pm;return t.ngInherit=!0,t})();function pm(t){return t.type.prototype.ngOnChanges&&(t.setInput=EI),bI}function bI(){let t=gm(this),e=t?.current;if(e){let n=t.previous;if(n===j1)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function EI(t,e,n,r,i){let s=this.declaredInputs[r],o=gm(t)||II(t,{previous:j1,current:null}),c=o.current||(o.current={}),l=o.previous,u=l[s];c[s]=new Cl(u&&u.currentValue,n,l===j1),hm(t,e,i,n)}var mm="__ngSimpleChanges__";function gm(t){return t[mm]||null}function II(t,e){return t[mm]=e}var cp=null;var xe=function(t,e=null,n){cp?.(t,e,n)},zI="svg",SI="math";function B2(t){for(;Array.isArray(t);)t=t[gn];return t}function ym(t,e){return B2(e[t])}function $2(t,e){return B2(e[t.index])}function vm(t,e){return t.data[e]}function DI(t,e){return t[e]}function j2(t,e){let n=e[t];return Xn(n)?n:n[gn]}function C8(t){return(t[te]&128)===128}function TI(t){return yn(t[zt])}function si(t,e){return e==null?null:t[e]}function Cm(t){t[Xr]=0}function Mm(t){t[te]&1024||(t[te]|=1024,C8(t)&&oo(t))}function AI(t,e){for(;t>0;)e=e[ui],t--;return e}function m4(t){return!!(t[te]&9216||t[i2]?.dirty)}function Ml(t){t[fn].changeDetectionScheduler?.notify(8),t[te]&64&&(t[te]|=1024),m4(t)&&oo(t)}function oo(t){t[fn].changeDetectionScheduler?.notify(0);let e=q1(t);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!C8(e)));)e=q1(e)}function _m(t,e){if(so(t))throw new $(911,!1);t[Zn]===null&&(t[Zn]=[]),t[Zn].push(e)}function xI(t,e){if(t[Zn]===null)return;let n=t[Zn].indexOf(e);n!==-1&&t[Zn].splice(n,1)}function q1(t){let e=t[zt];return yn(e)?e[zt]:e}function NI(t){return t[Uc]??=[]}function kI(t){return t.cleanup??=[]}var fe={lFrame:Sm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _l=!1;function RI(){return fe.lFrame.elementDepthCount}function PI(){fe.lFrame.elementDepthCount++}function OI(){fe.lFrame.elementDepthCount--}function M8(){return fe.bindingsEnabled}function Lm(){return fe.skipHydrationRootTNode!==null}function FI(t){return fe.skipHydrationRootTNode===t}function VI(){fe.skipHydrationRootTNode=null}function me(){return fe.lFrame.lView}function Ze(){return fe.lFrame.tView}function ft(t){return fe.lFrame.contextLView=t,t[Bt]}function dt(t){return fe.lFrame.contextLView=null,t}function Dt(){let t=wm();for(;t!==null&&t.type===64;)t=t.parent;return t}function wm(){return fe.lFrame.currentTNode}function BI(){let t=fe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Z1(t,e){let n=fe.lFrame;n.currentTNode=t,n.isParent=e}function _8(){return fe.lFrame.isParent}function L8(){fe.lFrame.isParent=!1}function bm(){return _l}function Gc(t){let e=_l;return _l=t,e}function w8(){let t=fe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function jI(){return fe.lFrame.bindingIndex}function UI(t){return fe.lFrame.bindingIndex=t}function co(){return fe.lFrame.bindingIndex++}function b8(t){let e=fe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function HI(){return fe.lFrame.inI18n}function $I(t,e){let n=fe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ll(e)}function qI(){return fe.lFrame.currentDirectiveIndex}function Ll(t){fe.lFrame.currentDirectiveIndex=t}function GI(t){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Em(t){fe.lFrame.currentQueryIndex=t}function WI(t){let e=t[Me];return e.type===2?e.declTNode:e.type===1?t[Ut]:null}function Im(t,e,n){if(n&ue.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ue.Host);)if(i=WI(s),i===null||(s=s[ui],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=fe.lFrame=zm();return r.currentTNode=e,r.lView=t,!0}function E8(t){let e=zm(),n=t[Me];fe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zm(){let t=fe.lFrame,e=t===null?null:t.child;return e===null?Sm(t):e}function Sm(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Dm(){let t=fe.lFrame;return fe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Tm=Dm;function I8(){let t=Dm();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function KI(t){return(fe.lFrame.contextLView=AI(t,fe.lFrame.contextLView))[Bt]}function r1(){return fe.lFrame.selectedIndex}function G1(t){fe.lFrame.selectedIndex=t}function ao(){let t=fe.lFrame;return vm(t.tView,t.selectedIndex)}function QI(){return fe.lFrame.currentNamespace}var Am=!0;function g4(){return Am}function y4(t){Am=t}function YI(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=pm(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function z8(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function kc(t,e,n){xm(t,e,3,n)}function Rc(t,e,n,r){(t[te]&3)===n&&xm(t,e,n,r)}function nl(t,e){let n=t[te];(n&3)===e&&(n&=16383,n+=1,t[te]=n)}function xm(t,e,n,r){let i=r!==void 0?t[Xr]&65535:0,s=r??-1,o=e.length-1,c=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(t[Xr]+=65536),(c<s||s==-1)&&(ZI(t,n,e,l),t[Xr]=(t[Xr]&4294901760)+l+2),l++}function ap(t,e){xe(4,t,e);let n=ve(null);try{e.call(t)}finally{ve(n),xe(5,t,e)}}function ZI(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[te]>>14<t[Xr]>>16&&(t[te]&3)===e&&(t[te]+=16384,ap(c,s)):ap(c,s)}var ei=-1,W1=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function XI(t){return(t.flags&8)!==0}function JI(t){return(t.flags&16)!==0}function ez(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];tz(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Nm(t){return t===3||t===4||t===6}function tz(t){return t.charCodeAt(0)===64}function oi(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?lp(t,n,i,null,e[++r]):lp(t,n,i,null,null))}}return t}function lp(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var rl={},wl=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=u4(r);let i=this.injector.get(e,rl,r);return i!==rl||n===rl?i:this.parentInjector.get(e,n,r)}};function km(t){return t!==ei}function Wc(t){return t&32767}function nz(t){return t>>16}function Kc(t,e){let n=nz(t),r=e;for(;n>0;)r=r[ui],n--;return r}var bl=!0;function Qc(t){let e=bl;return bl=t,e}var rz=256,Rm=rz-1,Pm=5,iz=0,F2={};function sz(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Gs)&&(r=n[Gs]),r==null&&(r=n[Gs]=iz++);let i=r&Rm,s=1<<i;e.data[t+(i>>Pm)]|=s}function Yc(t,e){let n=Om(t,e);if(n!==-1)return n;let r=e[Me];r.firstCreatePass&&(t.injectorIndex=e.length,il(r.data,t),il(e,null),il(r.blueprint,null));let i=S8(t,e),s=t.injectorIndex;if(km(i)){let o=Wc(i),c=Kc(i,e),l=c[Me].data;for(let u=0;u<8;u++)e[s+u]=c[o+u]|l[o+u]}return e[s+8]=i,s}function il(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Om(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function S8(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Um(i),r===null)return ei;if(n++,i=i[ui],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ei}function El(t,e,n){sz(t,e,n)}function oz(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Nm(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Fm(t,e,n){if(n&ue.Optional||t!==void 0)return t;h8(e,"NodeInjector")}function Vm(t,e,n,r){if(n&ue.Optional&&r===void 0&&(r=null),(n&(ue.Self|ue.Host))===0){let i=t[Zs],s=Ot(void 0);try{return i?i.get(e,r,n&ue.Optional):Zp(e,r,n&ue.Optional)}finally{Ot(s)}}return Fm(r,e,n)}function Bm(t,e,n,r=ue.Default,i){if(t!==null){if(e[te]&2048&&!(r&ue.Self)){let o=fz(t,e,n,r,F2);if(o!==F2)return o}let s=jm(t,e,n,r,F2);if(s!==F2)return s}return Vm(e,n,r,i)}function jm(t,e,n,r,i){let s=lz(n);if(typeof s=="function"){if(!Im(e,t,r))return r&ue.Host?Fm(i,n,r):Vm(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ue.Optional))h8(n);else return o}finally{Tm()}}else if(typeof s=="number"){let o=null,c=Om(t,e),l=ei,u=r&ue.Host?e[o2][Ut]:null;for((c===-1||r&ue.SkipSelf)&&(l=c===-1?S8(t,e):e[c+8],l===ei||!fp(r,!1)?c=-1:(o=e[Me],c=Wc(l),e=Kc(l,e)));c!==-1;){let d=e[Me];if(up(s,c,d.data)){let p=cz(c,e,n,o,r,u);if(p!==F2)return p}l=e[c+8],l!==ei&&fp(r,e[Me].data[c+8]===u)&&up(s,c,e)?(o=d,c=Wc(l),e=Kc(l,e)):c=-1}}return i}function cz(t,e,n,r,i,s){let o=e[Me],c=o.data[t+8],l=r==null?fi(c)&&bl:r!=o&&(c.type&3)!==0,u=i&ue.Host&&s===c,d=az(c,o,n,l,u);return d!==null?Zc(e,o,d,c):F2}function az(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,l=t.directiveStart,u=t.directiveEnd,d=s>>20,p=r?c:c+d,y=i?c+d:u;for(let g=p;g<y;g++){let E=o[g];if(g<l&&n===E||g>=l&&E.type===n)return g}if(i){let g=o[l];if(g&&V2(g)&&g.type===n)return l}return null}function Zc(t,e,n,r){let i=t[n],s=e.data;if(i instanceof W1){let o=i;o.resolving&&Qp(eI(s[n]));let c=Qc(o.canSeeViewProviders);o.resolving=!0;let l,u=o.injectImpl?Ot(o.injectImpl):null,d=Im(t,r,ue.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&YI(n,s[n],e)}finally{u!==null&&Ot(u),Qc(c),o.resolving=!1,Tm()}}return i}function lz(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Gs)?t[Gs]:void 0;return typeof e=="number"?e>=0?e&Rm:uz:e}function up(t,e,n){let r=1<<t;return!!(n[e+(t>>Pm)]&r)}function fp(t,e){return!(t&ue.Self)&&!(t&ue.Host&&e)}var V1=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Bm(this._tNode,this._lView,e,u4(r),n)}};function uz(){return new V1(Dt(),me())}function S2(t){return ro(()=>{let e=t.prototype.constructor,n=e[Fc]||Il(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Fc]||Il(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Il(t){return $p(t)?()=>{let e=Il(It(t));return e&&e()}:B1(t)}function fz(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[te]&2048&&!qc(o);){let c=jm(s,o,n,r|ue.Self,F2);if(c!==F2)return c;let l=s.parent;if(!l){let u=o[fm];if(u){let d=u.get(n,F2,r);if(d!==F2)return d}l=Um(o),o=o[ui]}s=l}return i}function Um(t){let e=t[Me],n=e.type;return n===2?e.declTNode:n===1?t[Ut]:null}function D8(t){return oz(Dt(),t)}function dp(t,e=null,n=null,r){let i=Hm(t,e,n,r);return i.resolveInjectorInitializers(),i}function Hm(t,e=null,n=null,r,i=new Set){let s=[n||Ft,hI(t)];return r=r||(typeof t=="object"?void 0:Ct(t)),new Qs(s,e||y8(),r||null,i)}var st=class t{static THROW_IF_NOT_FOUND=Ks;static NULL=new jc;static create(e,n){if(Array.isArray(e))return dp({name:""},n,e,"");{let r=e.name??"";return dp({name:r},e.parent,e.providers,r)}}static \u0275prov=q({token:t,providedIn:"any",factory:()=>ce(em)});static __NG_ELEMENT_ID__=-1};var dz=new Q("");dz.__NG_ELEMENT_ID__=t=>{let e=Dt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&ue.Optional)return null;throw new $(204,!1)};var $m=!1,X1=(()=>{class t{static __NG_ELEMENT_ID__=hz;static __NG_ENV_ID__=n=>n}return t})(),Xc=class extends X1{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return _m(this._lView,e),()=>xI(this._lView,e)}};function hz(){return new Xc(me())}var K1=class{},v4=new Q("",{providedIn:"root",factory:()=>!1});var qm=new Q(""),Gm=new Q(""),i1=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new lt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),C4=(()=>{class t{internalPendingTasks=A(i1);scheduler=A(K1);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return I(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),zl=class extends rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,um()&&(this.destroyRef=A(X1,{optional:!0})??void 0,this.pendingTasks=A(i1,{optional:!0})??void 0)}emit(e){let n=ve(null);try{super.next(e)}finally{ve(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof qe&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ge=zl;function Js(...t){}function Wm(t){let e,n;function r(){t=Js;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function hp(t){return queueMicrotask(()=>t()),()=>{t=Js}}var T8="isAngularZone",Jc=T8+"_ID",pz=0,De=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ge(!1);onMicrotaskEmpty=new Ge(!1);onStable=new Ge(!1);onError=new Ge(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=$m}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,yz(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(T8)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,mz,Js,Js);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},mz={};function A8(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function gz(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Wm(()=>{t.callbackScheduled=!1,Sl(t),t.isCheckStableRunning=!0,A8(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Sl(t)}function yz(t){let e=()=>{gz(t)},n=pz++;t._inner=t._inner.fork({name:"angular",properties:{[T8]:!0,[Jc]:n,[Jc+n]:!0},onInvokeTask:(r,i,s,o,c,l)=>{if(vz(l))return r.invokeTask(s,o,c,l);try{return pp(t),r.invokeTask(s,o,c,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),mp(t)}},onInvoke:(r,i,s,o,c,l,u)=>{try{return pp(t),r.invoke(s,o,c,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Cz(l)&&e(),mp(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Sl(t),A8(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Sl(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function pp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mp(t){t._nesting--,A8(t)}var Dl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ge;onMicrotaskEmpty=new Ge;onStable=new Ge;onError=new Ge;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function vz(t){return Km(t,"__ignore_ng_zone__")}function Cz(t){return Km(t,"__scheduler_tick__")}function Km(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var dn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Mz=new Q("",{providedIn:"root",factory:()=>{let t=A(De),e=A(dn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function gp(t,e){return Up(t,e)}function _z(t){return Up(jp,t)}var di=(gp.required=_z,gp);function Lz(){return M4(Dt(),me())}function M4(t,e){return new Kt($2(t,e))}var Kt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Lz}return t})();function wz(t){return typeof t=="function"&&t[kt]!==void 0}function Mt(t,e){let n=Eh(t),r=n[kt];return e?.equal&&(r.equal=e.equal),n.set=i=>Z0(r,i),n.update=i=>Ih(r,i),n.asReadonly=bz.bind(n),n}function bz(){let t=this[kt];if(t.readonlyFn===void 0){let e=()=>this();e[kt]=t,t.readonlyFn=e}return t.readonlyFn}function Qm(t){return wz(t)&&typeof t.set=="function"}function Ym(t){return(t.flags&128)===128}var Zm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Zm||{}),Xm=new Map,Ez=0;function Iz(){return Ez++}function zz(t){Xm.set(t[h4],t)}function Tl(t){Xm.delete(t[h4])}var yp="__ngContext__";function hi(t,e){Xn(e)?(t[yp]=e[h4],zz(e)):t[yp]=e}function Jm(t){return tg(t[Xs])}function eg(t){return tg(t[b2])}function tg(t){for(;t!==null&&!yn(t);)t=t[b2];return t}var Al;function ng(t){Al=t}function rg(){if(Al!==void 0)return Al;if(typeof document<"u")return document;throw new $(210,!1)}var x8=new Q("",{providedIn:"root",factory:()=>Sz}),Sz="ng",N8=new Q(""),J1=new Q("",{providedIn:"platform",factory:()=>"unknown"});var k8=new Q("",{providedIn:"root",factory:()=>rg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Dz="h",Tz="b";var ig=!1,Az=new Q("",{providedIn:"root",factory:()=>ig});var sg=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(sg||{}),_4=new Q(""),vp=new Set;function R8(t){vp.has(t)||(vp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var og=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=xz}return t})();function xz(){return new og(me(),Dt())}var Nz=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})();var kz=()=>null;function cg(t,e,n=!1){return kz(t,e,n)}function ag(t,e){let n=t.contentQueries;if(n!==null){let r=ve(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];Em(s),c.contentQueries(2,e[o],o)}}}finally{ve(r)}}}function xl(t,e,n){Em(0);let r=ve(null);try{e(t,n)}finally{ve(r)}}function P8(t,e,n){if(v8(e)){let r=ve(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let l=n[o];c.contentQueries(1,l,o)}}}finally{ve(r)}}}var U2=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(U2||{}),zc;function Rz(){if(zc===void 0&&(zc=null,Ws.trustedTypes))try{zc=Ws.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zc}function L4(t){return Rz()?.createHTML(t)||t}var Sc;function lg(){if(Sc===void 0&&(Sc=null,Ws.trustedTypes))try{Sc=Ws.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sc}function Cp(t){return lg()?.createHTML(t)||t}function Mp(t){return lg()?.createScriptURL(t)||t}var hn=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bp})`}},Nl=class extends hn{getTypeName(){return"HTML"}},kl=class extends hn{getTypeName(){return"Style"}},Rl=class extends hn{getTypeName(){return"Script"}},Pl=class extends hn{getTypeName(){return"URL"}},Ol=class extends hn{getTypeName(){return"ResourceURL"}};function c2(t){return t instanceof hn?t.changingThisBreaksApplicationSecurity:t}function vn(t,e){let n=Pz(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Bp})`)}return n===e}function Pz(t){return t instanceof hn&&t.getTypeName()||null}function ug(t){return new Nl(t)}function fg(t){return new kl(t)}function dg(t){return new Rl(t)}function hg(t){return new Pl(t)}function pg(t){return new Ol(t)}function Oz(t){let e=new Vl(t);return Fz()?new Fl(e):e}var Fl=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(L4(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},Vl=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=L4(e),n}};function Fz(){try{return!!new window.DOMParser().parseFromString(L4(""),"text/html")}catch{return!1}}var Vz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function w4(t){return t=String(t),t.match(Vz)?t:"unsafe:"+t}function Cn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function lo(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var mg=Cn("area,br,col,hr,img,wbr"),gg=Cn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yg=Cn("rp,rt"),Bz=lo(yg,gg),jz=lo(gg,Cn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Uz=lo(yg,Cn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_p=lo(mg,jz,Uz,Bz),vg=Cn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hz=Cn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$z=Cn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),qz=lo(vg,Hz,$z),Gz=Cn("script,style,template"),Bl=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=Qz(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=Kz(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=Lp(e).toLowerCase();if(!_p.hasOwnProperty(n))return this.sanitizedSomething=!0,!Gz.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,c=o.toLowerCase();if(!qz.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let l=s.value;vg[c]&&(l=w4(l)),this.buf.push(" ",o,'="',wp(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=Lp(e).toLowerCase();_p.hasOwnProperty(n)&&!mg.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(wp(e))}};function Wz(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Kz(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Cg(e);return e}function Qz(t){let e=t.firstChild;if(e&&Wz(t,e))throw Cg(e);return e}function Lp(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Cg(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Yz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zz=/([^\#-~ |!])/g;function wp(t){return t.replace(/&/g,"&amp;").replace(Yz,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(Zz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Dc;function O8(t,e){let n=null;try{Dc=Dc||Oz(t);let r=e?String(e):"";n=Dc.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Dc.getInertBodyElement(r)}while(r!==s);let c=new Bl().sanitizeChildren(bp(n)||n);return L4(c)}finally{if(n){let r=bp(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function bp(t){return"content"in t&&Xz(t)?t.content:null}function Xz(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var D2=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(D2||{});function Mg(t){let e=F8();return e?Cp(e.sanitize(D2.HTML,t)||""):vn(t,"HTML")?Cp(c2(t)):O8(rg(),Yn(t))}function q2(t){let e=F8();return e?e.sanitize(D2.URL,t)||"":vn(t,"URL")?c2(t):w4(Yn(t))}function Jz(t){let e=F8();if(e)return Mp(e.sanitize(D2.RESOURCE_URL,t)||"");if(vn(t,"ResourceURL"))return Mp(c2(t));throw new $(904,!1)}function eS(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Jz:q2}function _g(t,e,n){return eS(e,n)(t)}function F8(){let t=me();return t&&t[fn].sanitizer}var tS=/^>|^->|<!--|-->|--!>|<!-$/g,nS=/(<|>)/g,rS="\u200B$1\u200B";function iS(t){return t.replace(tS,e=>e.replace(nS,rS))}function Lg(t){return t instanceof Function?t():t}function sS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}var wg="ng-template";function oS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&sS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(V8(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function V8(t){return t.type===4&&t.value!==wg}function cS(t,e,n){let r=t.type===4&&!n?wg:t.value;return e===r}function aS(t,e,n){let r=4,i=t.attrs,s=i!==null?fS(i):0,o=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!o&&!L2(r)&&!L2(l))return!1;if(o&&L2(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!cS(t,l,n)||l===""&&e.length===1){if(L2(r))return!1;o=!0}}else if(r&8){if(i===null||!oS(t,i,l,n)){if(L2(r))return!1;o=!0}}else{let u=e[++c],d=lS(l,i,V8(t),n);if(d===-1){if(L2(r))return!1;o=!0;continue}if(u!==""){let p;if(d>s?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(L2(r))return!1;o=!0}}}}return L2(r)||o}function L2(t){return(t&1)===0}function lS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return dS(e,t)}function bg(t,e,n=!1){for(let r=0;r<e.length;r++)if(aS(t,e[r],n))return!0;return!1}function uS(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function fS(t){for(let e=0;e<t.length;e++){let n=t[e];if(Nm(n))return e}return t.length}function dS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function hS(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Ep(t,e){return t?":not("+e.trim()+")":e}function pS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!L2(o)&&(e+=Ep(s,i),i=""),r=o,s=s||!L2(r);n++}return i!==""&&(e+=Ep(s,i)),e}function mS(t){return t.map(pS).join(",")}function gS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!L2(i))break;i=s}r++}return n.length&&e.push(1,...n),e}var a2={};function yS(t,e){return t.createText(e)}function vS(t,e,n){t.setValue(e,n)}function CS(t,e){return t.createComment(iS(e))}function Eg(t,e,n){return t.createElement(e,n)}function e4(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Ig(t,e,n){t.appendChild(e,n)}function Ip(t,e,n,r,i){r!==null?e4(t,e,n,r,i):Ig(t,e,n)}function MS(t,e,n){t.removeChild(null,e,n)}function _S(t,e,n){t.setAttribute(e,"style",n)}function LS(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zg(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ez(t,e,r),i!==null&&LS(t,e,i),s!==null&&_S(t,e,s)}function B8(t,e,n,r,i,s,o,c,l,u,d){let p=jt+r,y=p+i,g=wS(p,y),E=typeof u=="function"?u():u;return g[Me]={type:t,blueprint:g,template:n,queries:null,viewQuery:c,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:E,incompleteFirstPass:!1,ssrId:d}}function wS(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:a2);return n}function bS(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=B8(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function j8(t,e,n,r,i,s,o,c,l,u,d){let p=e.blueprint.slice();return p[gn]=i,p[te]=r|4|128|8|64|1024,(u!==null||t&&t[te]&2048)&&(p[te]|=2048),Cm(p),p[zt]=p[ui]=t,p[Bt]=n,p[fn]=o||t&&t[fn],p[Fe]=c||t&&t[Fe],p[Zs]=l||t&&t[Zs]||null,p[Ut]=s,p[h4]=Iz(),p[Ys]=d,p[fm]=u,p[o2]=e.type==2?t[o2]:p,p}function ES(t,e,n){let r=$2(e,t),i=bS(n),s=t[fn].rendererFactory,o=U8(t,j8(t,i,null,Sg(n),r,e,null,s.createRenderer(r,n),null,null,null));return t[e.index]=o}function Sg(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Dg(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function U8(t,e){return t[Xs]?t[op][b2]=e:t[Xs]=e,t[op]=e,e}function B(t=1){Tg(Ze(),me(),r1()+t,!1)}function Tg(t,e,n,r){if(!r)if((e[te]&3)===3){let s=t.preOrderCheckHooks;s!==null&&kc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Rc(e,s,0,n)}G1(n)}var b4=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(b4||{});function jl(t,e,n,r){let i=ve(null);try{let[s,o,c]=t.inputs[n],l=null;(o&b4.SignalBased)!==0&&(l=e[s][kt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,s):hm(e,l,s,r)}finally{ve(i)}}function Ag(t,e,n,r,i){let s=r1(),o=r&2;try{G1(-1),o&&e.length>jt&&Tg(t,e,jt,!1),xe(o?2:0,i),n(r,i)}finally{G1(s),xe(o?3:1,i)}}function E4(t,e,n){AS(t,e,n),(n.flags&64)===64&&xS(t,e,n)}function H8(t,e,n=$2){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function IS(t,e,n,r){let s=r.get(Az,ig)||n===U2.ShadowDom,o=t.selectRootElement(e,s);return zS(o),o}function zS(t){SS(t)}var SS=()=>null;function DS(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function I4(t,e,n,r,i,s,o,c){if(!c&&q8(e,t,n,r,i)){fi(e)&&TS(n,e.index);return}if(e.type&3){let l=$2(e,n);r=DS(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)}else e.type&12}function TS(t,e){let n=j2(e,t);n[te]&16||(n[te]|=64)}function AS(t,e,n){let r=n.directiveStart,i=n.directiveEnd;fi(n)&&ES(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Yc(n,e);let s=n.initialInputs;for(let o=r;o<i;o++){let c=t.data[o],l=Zc(e,t,o,n);if(hi(l,e),s!==null&&PS(e,o-r,l,c,n,s),V2(c)){let u=j2(n.index,e);u[Bt]=Zc(e,t,o,n)}}}function xS(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=qI();try{G1(s);for(let c=r;c<i;c++){let l=t.data[c],u=e[c];Ll(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&NS(l,u)}}finally{G1(-1),Ll(o)}}function NS(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function $8(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];bg(e,s.selectors,!1)&&(r??=[],V2(s)?r.unshift(s):r.push(s))}return r}function kS(t,e,n,r,i,s){let o=$2(t,e);RS(e[Fe],o,s,t.value,n,r,i)}function RS(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?Yn(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function PS(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;c+=2){let l=o[c],u=o[c+1];jl(r,n,l,u)}}function xg(t,e){let n=t[Zs],r=n?n.get(dn,null):null;r&&r.handleError(e)}function q8(t,e,n,r,i){let s=t.inputs?.[r],o=t.hostDirectiveInputs?.[r],c=!1;if(o)for(let l=0;l<o.length;l+=2){let u=o[l],d=o[l+1],p=e.data[u];jl(p,n[u],d,i),c=!0}if(s)for(let l of s){let u=n[l],d=e.data[l];jl(d,u,r,i),c=!0}return c}function OS(t,e){let n=j2(e,t),r=n[Me];FS(r,n);let i=n[gn];i!==null&&n[Ys]===null&&(n[Ys]=cg(i,n[Zs])),xe(18),G8(r,n,n[Bt]),xe(19,n[Bt])}function FS(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function G8(t,e,n){E8(e);try{let r=t.viewQuery;r!==null&&xl(1,r,n);let i=t.template;i!==null&&Ag(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ii]?.finishViewCreation(t),t.staticContentQueries&&ag(t,e),t.staticViewQueries&&xl(2,t.viewQuery,n);let s=t.components;s!==null&&VS(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,I8()}}function VS(t,e){for(let n=0;n<e.length;n++)OS(t,e[n])}function Ng(t,e,n,r){let i=ve(null);try{let s=e.tView,c=t[te]&4096?4096:16,l=j8(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];l[ri]=u;let d=t[ii];return d!==null&&(l[ii]=d.createEmbeddedView(s)),G8(s,l,n),l}finally{ve(i)}}function Ul(t,e){return!e||e.firstChild===null||Ym(t)}var BS;function W8(t,e){return BS(t,e)}var pn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(pn||{});function K8(t){return(t.flags&32)===32}function Jr(t,e,n,r,i){if(r!=null){let s,o=!1;yn(r)?s=r:Xn(r)&&(o=!0,r=r[gn]);let c=B2(r);t===0&&n!==null?i==null?Ig(e,n,c):e4(e,n,c,i||null,!0):t===1&&n!==null?e4(e,n,c,i||null,!0):t===2?MS(e,c,o):t===3&&e.destroyNode(c),s!=null&&YS(e,t,s,n,i)}}function jS(t,e){kg(t,e),e[gn]=null,e[Ut]=null}function US(t,e,n,r,i,s){r[gn]=i,r[Ut]=e,S4(t,r,n,1,i,s)}function kg(t,e){e[fn].changeDetectionScheduler?.notify(9),S4(t,e,e[Fe],2,null,null)}function HS(t){let e=t[Xs];if(!e)return sl(t[Me],t);for(;e;){let n=null;if(Xn(e))n=e[Xs];else{let r=e[s2];r&&(n=r)}if(!n){for(;e&&!e[b2]&&e!==t;)Xn(e)&&sl(e[Me],e),e=e[zt];e===null&&(e=t),Xn(e)&&sl(e[Me],e),n=e&&e[b2]}e=n}}function Q8(t,e){let n=t[$c],r=n.indexOf(e);n.splice(r,1)}function Rg(t,e){if(so(e))return;let n=e[Fe];n.destroyNode&&S4(t,e,n,3,null,null),HS(e)}function sl(t,e){if(so(e))return;let n=ve(null);try{e[te]&=-129,e[te]|=256,e[i2]&&Pr(e[i2]),qS(t,e),$S(t,e),e[Me].type===1&&e[Fe].destroy();let r=e[ri];if(r!==null&&yn(e[zt])){r!==e[zt]&&Q8(r,e);let i=e[ii];i!==null&&i.detachView(t)}Tl(e)}finally{ve(n)}}function $S(t,e){let n=t.cleanup,r=e[Uc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let c=n[o+3];c>=0?r[c]():r[-c].unsubscribe(),o+=2}else{let c=r[n[o+1]];n[o].call(c)}r!==null&&(e[Uc]=null);let i=e[Zn];if(i!==null){e[Zn]=null;for(let o=0;o<i.length;o++){let c=i[o];c()}}let s=e[H1];if(s!==null){e[H1]=null;for(let o of s)o.destroy()}}function qS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof W1)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],l=s[o+1];xe(4,c,l);try{l.call(c)}finally{xe(5,c,l)}}else{xe(4,i,s);try{s.call(i)}finally{xe(5,i,s)}}}}}function Pg(t,e,n){return GS(t,e.parent,n)}function GS(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[gn];if(fi(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===U2.None||i===U2.Emulated)return null}return $2(r,n)}function Og(t,e,n){return KS(t,e,n)}function WS(t,e,n){return t.type&40?$2(t,n):null}var KS=WS,zp;function z4(t,e,n,r){let i=Pg(t,r,e),s=e[Fe],o=r.parent||e[Ut],c=Og(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Ip(s,i,n[l],c,!1);else Ip(s,i,n,c,!1);zp!==void 0&&zp(s,r,e,n,i)}function qs(t,e){if(e!==null){let n=e.type;if(n&3)return $2(e,t);if(n&4)return Hl(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return qs(t,r);{let i=t[e.index];return yn(i)?Hl(-1,i):B2(i)}}else{if(n&128)return qs(t,e.next);if(n&32)return W8(e,t)()||B2(t[e.index]);{let r=Fg(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=q1(t[o2]);return qs(i,r)}else return qs(t,e.next)}}}return null}function Fg(t,e){if(e!==null){let r=t[o2][Ut],i=e.projection;return r.projection[i]}return null}function Hl(t,e){let n=s2+t+1;if(n<e.length){let r=e[n],i=r[Me].firstChild;if(i!==null)return qs(r,i)}return e[$1]}function Y8(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(o&&e===0&&(c&&hi(B2(c),r),n.flags|=2),!K8(n))if(l&8)Y8(t,e,n.child,r,i,s,!1),Jr(e,t,i,c,s);else if(l&32){let u=W8(n,r),d;for(;d=u();)Jr(e,t,i,d,s);Jr(e,t,i,c,s)}else l&16?Vg(t,e,r,n,i,s):Jr(e,t,i,c,s);n=o?n.projectionNext:n.next}}function S4(t,e,n,r,i,s){Y8(n,r,t.firstChild,e,i,s,!1)}function QS(t,e,n){let r=e[Fe],i=Pg(t,n,e),s=n.parent||e[Ut],o=Og(s,n,e);Vg(r,0,e,n,i,o)}function Vg(t,e,n,r,i,s){let o=n[o2],l=o[Ut].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];Jr(e,t,i,d,s)}else{let u=l,d=o[zt];Ym(r)&&(u.flags|=128),Y8(t,e,u,d,i,s,!0)}}function YS(t,e,n,r,i){let s=n[$1],o=B2(n);s!==o&&Jr(e,t,r,s,i);for(let c=s2;c<n.length;c++){let l=n[c];S4(l[Me],l,t,e,r,s)}}function ZS(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:pn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=pn.Important),t.setStyle(n,r,i,s))}}function t4(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(B2(s)),yn(s)&&XS(s,r);let o=n.type;if(o&8)t4(t,e,n.child,r);else if(o&32){let c=W8(n,e),l;for(;l=c();)r.push(l)}else if(o&16){let c=Fg(e,n);if(Array.isArray(c))r.push(...c);else{let l=q1(e[o2]);t4(l[Me],l,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function XS(t,e){for(let n=s2;n<t.length;n++){let r=t[n],i=r[Me].firstChild;i!==null&&t4(r[Me],r,i,e)}t[$1]!==t[gn]&&e.push(t[$1])}function Bg(t){if(t[tl]!==null){for(let e of t[tl])e.impl.addSequence(e);t[tl].length=0}}var jg=[];function JS(t){return t[i2]??eD(t)}function eD(t){let e=jg.pop()??Object.create(nD);return e.lView=t,e}function tD(t){t.lView[i2]!==t&&(t.lView=null,jg.push(t))}var nD=ee(O({},k1),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{oo(t.lView)},consumerOnSignalRead(){this.lView[i2]=this}});function rD(t){let e=t[i2]??Object.create(iD);return e.lView=t,e}var iD=ee(O({},k1),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=q1(t.lView);for(;e&&!Ug(e[Me]);)e=q1(e);e&&Mm(e)},consumerOnSignalRead(){this.lView[i2]=this}});function Ug(t){return t.type!==2}function Hg(t){if(t[H1]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[H1])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[te]&8192)}}var sD=100;function $g(t,e=!0,n=0){let i=t[fn].rendererFactory,s=!1;s||i.begin?.();try{oD(t,n)}catch(o){throw e&&xg(t,o),o}finally{s||i.end?.()}}function oD(t,e){let n=bm();try{Gc(!0),$l(t,e);let r=0;for(;m4(t);){if(r===sD)throw new $(103,!1);r++,$l(t,1)}}finally{Gc(n)}}function cD(t,e,n,r){if(so(e))return;let i=e[te],s=!1,o=!1;E8(e);let c=!0,l=null,u=null;s||(Ug(t)?(u=JS(e),l=Rr(u)):hh()===null?(c=!1,u=rD(e),l=Rr(u)):e[i2]&&(Pr(e[i2]),e[i2]=null));try{Cm(e),UI(t.bindingStartIndex),n!==null&&Ag(t,e,n,2,r);let d=(i&3)===3;if(!s)if(d){let g=t.preOrderCheckHooks;g!==null&&kc(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Rc(e,g,0,null),nl(e,0)}if(o||aD(e),Hg(e),qg(e,0),t.contentQueries!==null&&ag(t,e),!s)if(d){let g=t.contentCheckHooks;g!==null&&kc(e,g)}else{let g=t.contentHooks;g!==null&&Rc(e,g,1),nl(e,1)}uD(t,e);let p=t.components;p!==null&&Wg(e,p,0);let y=t.viewQuery;if(y!==null&&xl(2,y,r),!s)if(d){let g=t.viewCheckHooks;g!==null&&kc(e,g)}else{let g=t.viewHooks;g!==null&&Rc(e,g,2),nl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Nc]){for(let g of e[Nc])g();e[Nc]=null}s||(Bg(e),e[te]&=-73)}catch(d){throw s||oo(e),d}finally{u!==null&&(Fs(u,l),c&&tD(u)),I8()}}function qg(t,e){for(let n=Jm(t);n!==null;n=eg(n))for(let r=s2;r<n.length;r++){let i=n[r];Gg(i,e)}}function aD(t){for(let e=Jm(t);e!==null;e=eg(e)){if(!(e[te]&2))continue;let n=e[$c];for(let r=0;r<n.length;r++){let i=n[r];Mm(i)}}}function lD(t,e,n){xe(18);let r=j2(e,t);Gg(r,n),xe(19,r[Bt])}function Gg(t,e){C8(t)&&$l(t,e)}function $l(t,e){let r=t[Me],i=t[te],s=t[i2],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Vs(s)),o||=!1,s&&(s.dirty=!1),t[te]&=-9217,o)cD(r,t,r.template,t[Bt]);else if(i&8192){Hg(t),qg(t,1);let c=r.components;c!==null&&Wg(t,c,1),Bg(t)}}function Wg(t,e,n){for(let r=0;r<e.length;r++)lD(t,e[r],n)}function uD(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)G1(~i);else{let s=i,o=n[++r],c=n[++r];$I(o,s);let l=e[s];xe(24,l),c(2,l),xe(25,l)}}}finally{G1(-1)}}function Z8(t,e){let n=bm()?64:1088;for(t[fn].changeDetectionScheduler?.notify(e);t;){t[te]|=n;let r=q1(t);if(qc(t)&&!r)return t;t=r}return null}function Kg(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Qg(t,e,n,r=!0){let i=e[Me];if(fD(i,e,t,n),r){let o=Hl(n,t),c=e[Fe],l=c.parentNode(t[$1]);l!==null&&US(i,t[Ut],c,e,l,o)}let s=e[Ys];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ql(t,e){if(t.length<=s2)return;let n=s2+e,r=t[n];if(r){let i=r[ri];i!==null&&i!==t&&Q8(i,r),e>0&&(t[n-1][b2]=r[b2]);let s=Bc(t,s2+e);jS(r[Me],r);let o=s[ii];o!==null&&o.detachView(s[Me]),r[zt]=null,r[b2]=null,r[te]&=-129}return r}function fD(t,e,n,r){let i=s2+r,s=n.length;r>0&&(n[i-1][b2]=e),r<s-s2?(e[b2]=n[i],Jp(n,s2+r,e)):(n.push(e),e[b2]=null),e[zt]=n;let o=e[ri];o!==null&&n!==o&&Yg(o,e);let c=e[ii];c!==null&&c.insertView(t),Ml(e),e[te]|=128}function Yg(t,e){let n=t[$c],r=e[zt];if(Xn(r))t[te]|=2;else{let i=r[zt][o2];e[o2]!==i&&(t[te]|=2)}n===null?t[$c]=[e]:n.push(e)}var Q1=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[Me];return t4(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Bt]}set context(e){this._lView[Bt]=e}get destroyed(){return so(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[zt];if(yn(e)){let n=e[Hc],r=n?n.indexOf(this):-1;r>-1&&(ql(e,r),Bc(n,r))}this._attachedToViewContainer=!1}Rg(this._lView[Me],this._lView)}onDestroy(e){_m(this._lView,e)}markForCheck(){Z8(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){Ml(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,$g(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=qc(this._lView),n=this._lView[ri];n!==null&&!e&&Q8(n,this._lView),kg(this._lView[Me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=qc(this._lView),r=this._lView[ri];r!==null&&!n&&Yg(r,this._lView),Ml(this._lView)}};var D4=(()=>{class t{static __NG_ELEMENT_ID__=pD}return t})(),dD=D4,hD=class extends dD{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ng(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Q1(i)}};function pD(){return mD(Dt(),me())}function mD(t,e){return t.type&4?new hD(e,t,M4(t,e)):null}function uo(t,e,n,r,i){let s=t.data[e];if(s===null)s=gD(t,e,n,r,i),HI()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=BI();s.injectorIndex=o===null?-1:o.injectorIndex}return Z1(s,!0),s}function gD(t,e,n,r,i){let s=wm(),o=_8(),c=o?s:s&&s.parent,l=t.data[e]=vD(t,c,n,e,r,i);return yD(t,l,s,o),l}function yD(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function vD(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return Lm()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var fQ=new RegExp(`^(\\d+)*(${Tz}|${Dz})*(.*)`);var CD=()=>null;function Gl(t,e){return CD(t,e)}var Wl=class{},n4=class{},Kl=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ct(e)}.`)}},ci=class{static NULL=new Kl},ai=class{},l2=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>MD()}return t})();function MD(){let t=me(),e=Dt(),n=j2(e.index,t);return(Xn(n)?n:t)[Fe]}var _D=(()=>{class t{static \u0275prov=q({token:t,providedIn:"root",factory:()=>null})}return t})();function Ql(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=dl(i,c);else if(s==2){let l=c,u=e[++o];r=dl(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Y(t,e=ue.Default){let n=me();if(n===null)return ce(t,e);let r=Dt();return Bm(r,n,It(t),e)}function X8(t,e,n,r,i){let s=r===null?null:{"":-1},o=i(t,n);if(o!==null){let c,l=null,u=null,d=wD(o);d===null?c=o:[c,l,u]=d,ID(t,e,n,c,s,l,u)}s!==null&&r!==null&&LD(n,r,s)}function LD(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}function wD(t){let e=null,n=!1;for(let o=0;o<t.length;o++){let c=t[o];if(o===0&&V2(c)&&(e=c),c.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,s=null;for(let o of t)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,bD(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,s]):null}function bD(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function ED(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ID(t,e,n,r,i,s,o){let c=r.length,l=!1;for(let y=0;y<c;y++){let g=r[y];!l&&V2(g)&&(l=!0,ED(t,n,y)),El(Yc(n,e),t,g.type)}xD(n,t.data.length,c);for(let y=0;y<c;y++){let g=r[y];g.providersResolver&&g.providersResolver(g)}let u=!1,d=!1,p=Dg(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let y=0;y<c;y++){let g=r[y];if(n.mergedAttrs=oi(n.mergedAttrs,g.hostAttrs),SD(t,n,e,p,g),AD(p,g,i),o!==null&&o.has(g)){let[D,T]=o.get(g);n.directiveToIndex.set(g.type,[p,D+n.directiveStart,T+n.directiveStart])}else(s===null||!s.has(g))&&n.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let E=g.type.prototype;!u&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!d&&(E.ngOnChanges||E.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),p++}zD(t,n,s)}function zD(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Sp(0,e,i,r),Sp(1,e,i,r),Tp(e,r,!1);else{let s=n.get(i);Dp(0,e,s,r),Dp(1,e,s,r),Tp(e,r,!0)}}}function Sp(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;t===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),Zg(e,s)}}function Dp(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[o]??=[],c[o].push(r,s),Zg(e,o)}}function Zg(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Tp(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:s}=t;if(r===null||!n&&i===null||n&&s===null||V8(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let o=null,c=0;for(;c<r.length;){let l=r[c];if(l===0){c+=4;continue}else if(l===5){c+=2;continue}else if(typeof l=="number")break;if(!n&&i.hasOwnProperty(l)){let u=i[l];for(let d of u)if(d===e){o??=[],o.push(l,r[c+1]);break}}else if(n&&s.hasOwnProperty(l)){let u=s[l];for(let d=0;d<u.length;d+=2)if(u[d]===e){o??=[],o.push(u[d+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(o)}function SD(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=B1(i.type,!0)),o=new W1(s,V2(i),Y);t.blueprint[r]=o,n[r]=o,DD(t,e,r,Dg(t,n,i.hostVars,a2),i)}function DD(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;TD(o)!=c&&o.push(c),o.push(n,r,s)}}function TD(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function AD(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;V2(e)&&(n[""]=t)}}function xD(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Xg(t,e,n,r,i,s,o,c){let l=e.consts,u=si(l,o),d=uo(e,t,2,r,u);return s&&X8(e,n,d,si(l,c),i),d.mergedAttrs=oi(d.mergedAttrs,d.attrs),d.attrs!==null&&Ql(d,d.attrs,!1),d.mergedAttrs!==null&&Ql(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function Jg(t,e){z8(t,e),v8(e)&&t.queries.elementEnd(e)}var r4=class extends ci{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=U1(e);return new eo(n,this.ngModule)}};function ND(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],s={propName:n,templateName:e,isSignal:(r&b4.SignalBased)!==0};return i&&(s.transform=i),s})}function kD(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function RD(t,e,n){let r=e instanceof Vt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new wl(n,r):n}function PD(t){let e=t.get(ai,null);if(e===null)throw new $(407,!1);let n=t.get(_D,null),r=t.get(K1,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function OD(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Eg(e,n,n==="svg"?zI:n==="math"?SI:null)}var eo=class extends n4{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=ND(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=kD(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=mS(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){xe(22);let s=ve(null);try{let o=this.componentDef,c=r?["ng-version","19.2.1"]:gS(this.componentDef.selectors[0]),l=B8(0,null,null,1,0,null,null,null,null,[c],null),u=RD(o,i||this.ngModule,e),d=PD(u),p=d.rendererFactory.createRenderer(null,o),y=r?IS(p,r,o.encapsulation,u):OD(o,p),g=j8(null,l,null,512|Sg(o),null,null,d,p,u,null,cg(y,u,!0));g[jt]=y,E8(g);let E=null;try{let D=Xg(jt,l,g,"#host",()=>[this.componentDef],!0,0);y&&(zg(p,y,D),hi(y,g)),E4(l,g,D),P8(l,D,g),Jg(l,D),n!==void 0&&FD(D,this.ngContentSelectors,n),E=j2(D.index,g),g[Bt]=E[Bt],G8(l,g,null)}catch(D){throw E!==null&&Tl(E),Tl(g),D}finally{xe(23),I8()}return new Yl(this.componentType,g)}finally{ve(s)}}},Yl=class extends Wl{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=vm(n[Me],jt),this.location=M4(this._tNode,n),this.instance=j2(this._tNode.index,n)[Bt],this.hostView=this.changeDetectorRef=new Q1(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,s=q8(r,i[Me],i,e,n);this.previousInputValues.set(e,n);let o=j2(r.index,i);Z8(o,1)}get injector(){return new V1(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function FD(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var pi=(()=>{class t{static __NG_ELEMENT_ID__=VD}return t})();function VD(){let t=Dt();return jD(t,me())}var BD=pi,ey=class extends BD{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return M4(this._hostTNode,this._hostLView)}get injector(){return new V1(this._hostTNode,this._hostLView)}get parentInjector(){let e=S8(this._hostTNode,this._hostLView);if(km(e)){let n=Kc(e,this._hostLView),r=Wc(e),i=n[Me].data[r+8];return new V1(i,n)}else return new V1(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ap(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-s2}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Gl(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,Ul(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!wI(e),c;if(o)c=n;else{let E=n||{};c=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}let l=o?e:new eo(U1(e)),u=r||this.parentInjector;if(!s&&l.ngModule==null){let D=(o?u:this.parentInjector).get(Vt,null);D&&(s=D)}let d=U1(l.componentType??{}),p=Gl(this._lContainer,d?.id??null),y=p?.firstChild??null,g=l.create(u,i,y,s);return this.insertImpl(g.hostView,c,Ul(this._hostTNode,p)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(TI(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=i[zt],u=new ey(l,l[Ut],l[zt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Qg(o,i,s,r),e.attachToViewContainerRef(),Jp(ol(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ap(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ql(this._lContainer,n);r&&(Bc(ol(this._lContainer),n),Rg(r[Me],r))}detach(e){let n=this._adjustIndex(e,-1),r=ql(this._lContainer,n);return r&&Bc(ol(this._lContainer),n)!=null?new Q1(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ap(t){return t[Hc]}function ol(t){return t[Hc]||(t[Hc]=[])}function jD(t,e){let n,r=e[t.index];return yn(r)?n=r:(n=Kg(r,e,null,t),e[t.index]=n,U8(e,n)),HD(n,e,t,r),new ey(n,t,e)}function UD(t,e){let n=t[Fe],r=n.createComment(""),i=$2(e,t),s=n.parentNode(i);return e4(n,s,r,n.nextSibling(i),!1),r}var HD=GD,$D=()=>!1;function qD(t,e,n){return $D(t,e,n)}function GD(t,e,n,r){if(t[$1])return;let i;n.type&8?i=B2(r):i=UD(e,n),t[$1]=i}var Jn=class{},to=class{};var Zl=class extends Jn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new r4(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let s=nm(e);this._bootstrapComponents=Lg(s.bootstrap),this._r3Injector=Hm(e,n,[{provide:Jn,useValue:this},{provide:ci,useValue:this.componentFactoryResolver},...r],Ct(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Xl=class extends to{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Zl(this.moduleType,e,[])}};var i4=class extends Jn{injector;componentFactoryResolver=new r4(this);instance=null;constructor(e){super();let n=new Qs([...e.providers,{provide:Jn,useValue:this},{provide:ci,useValue:this.componentFactoryResolver}],e.parent||y8(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function J8(t,e,n=null){return new i4({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var WD=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=om(!1,n.type),i=r.length>0?J8([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(ce(Vt))})}return t})();function Ae(t){return ro(()=>{let e=ny(t),n=ee(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Zm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(WD).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||U2.Emulated,styles:t.styles||Ft,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&R8("NgStandalone"),ry(n);let r=t.dependencies;return n.directiveDefs=xp(r,!1),n.pipeDefs=xp(r,!0),n.id=XD(n),n})}function KD(t){return U1(t)||rm(t)}function QD(t){return t!==null}function s1(t){return ro(()=>({type:t.type,bootstrap:t.bootstrap||Ft,declarations:t.declarations||Ft,imports:t.imports||Ft,exports:t.exports||Ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function YD(t,e){if(t==null)return j1;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c,l;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s,l=i[3]||null):(s=i,o=i,c=b4.None,l=null),n[s]=[r,c,l],e[s]=o}return n}function ZD(t){if(t==null)return j1;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ne(t){return ro(()=>{let e=ny(t);return ry(e),e})}function ty(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ny(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||j1,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:YD(t.inputs,e),outputs:ZD(t.outputs),debugInfo:null}}function ry(t){t.features?.forEach(e=>e(t))}function xp(t,e){if(!t)return null;let n=e?im:KD;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(QD)}function XD(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function JD(t){return Object.getPrototypeOf(t.prototype).constructor}function Ht(t){let e=JD(t.type),n=!0,r=[t];for(;e;){let i;if(V2(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=cl(t.inputs),o.declaredInputs=cl(t.declaredInputs),o.outputs=cl(t.outputs);let c=i.hostBindings;c&&iT(t,c);let l=i.viewQuery,u=i.contentQueries;if(l&&nT(t,l),u&&rT(t,u),eT(t,i),GE(t.outputs,i.outputs),V2(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===Ht&&(n=!1)}}e=Object.getPrototypeOf(e)}tT(r)}function eT(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function tT(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=oi(i.hostAttrs,n=oi(n,i.hostAttrs))}}function cl(t){return t===j1?{}:t===Ft?[]:t}function nT(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function rT(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function iT(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function iy(t){return oT(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function sT(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function oT(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function sy(t,e,n){return t[e]=n}function E2(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function oy(t,e,n,r){let i=E2(t,e,n);return E2(t,e+1,r)||i}function cT(t,e,n,r,i){let s=oy(t,e,n,r);return E2(t,e+2,i)||s}function aT(t,e,n,r,i,s,o,c,l){let u=e.consts,d=uo(e,t,4,o||null,c||null);M8()&&X8(e,n,d,si(u,l),$8),d.mergedAttrs=oi(d.mergedAttrs,d.attrs),z8(e,d);let p=d.tView=B8(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}function cy(t,e,n,r,i,s,o,c,l,u){let d=n+jt,p=e.firstCreatePass?aT(d,e,t,r,i,s,o,c,l):e.data[d];Z1(p,!1);let y=lT(e,t,p,n);g4()&&z4(e,t,y,p),hi(y,t);let g=Kg(y,t,y,p);return t[d]=g,U8(t,g),qD(g,p,t),p4(p)&&E4(e,t,p),l!=null&&H8(t,p,u),p}function je(t,e,n,r,i,s,o,c){let l=me(),u=Ze(),d=si(u.consts,s);return cy(l,u,t,e,n,r,i,d,o,c),je}var lT=uT;function uT(t,e,n,r){return y4(!0),e[Fe].createComment("")}var eu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var ay=new Q("");var ly=(()=>{class t{static \u0275prov=q({token:t,providedIn:"root",factory:()=>new s4})}return t})(),s4=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function o1(t){return!!t&&typeof t.then=="function"}function tu(t){return!!t&&typeof t.subscribe=="function"}var uy=new Q("");var fy=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=A(uy,{optional:!0})??[];injector=A(st);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=St(this.injector,i);if(o1(s))n.push(s);else if(tu(s)){let o=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nu=new Q("");function fT(){bh(()=>{throw new $(600,!1)})}function dT(t){return t.isBoundToModule}var hT=10;var e1=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=A(Mz);afterRenderManager=A(Nz);zonelessEnabled=A(v4);rootEffectScheduler=A(ly);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new rt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=A(i1).hasPendingTasks.pipe(oe(n=>!n));constructor(){A(_4,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=A(Vt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){xe(10);let i=n instanceof n4;if(!this._injector.get(fy).done){let y=!i&&sm(n),g=!1;throw new $(405,g)}let o;i?o=n:o=this._injector.get(ci).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=dT(o)?void 0:this._injector.get(Jn),l=r||o.selector,u=o.create(st.NULL,[],l,c),d=u.location.nativeElement,p=u.injector.get(ay,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Pc(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),xe(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){xe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(sg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let n=ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ve(n),this.afterTick.next(),xe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ai,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<hT;)xe(14),this.synchronizeOnce(),xe(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)pT(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>m4(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Pc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(nu,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Pc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Pc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function pT(t,e,n,r){if(!n&&!m4(t))return;$g(t,e,n&&!r?0:1)}function c1(t,e,n,r){let i=me(),s=co();if(E2(i,s,e)){let o=Ze(),c=ao();kS(c,i,t,e,n,r)}return c1}function dy(t,e,n,r){return E2(t,co(),n)?e+Yn(n)+r:a2}function mT(t,e,n,r,i,s,o,c){let l=jI(),u=cT(t,l,n,i,o);return b8(3),u?e+Yn(n)+r+Yn(i)+s+Yn(o)+c:a2}function Tc(t,e){return t<<17|e<<2}function Y1(t){return t>>17&32767}function gT(t){return(t&2)==2}function yT(t,e){return t&131071|e<<17}function Jl(t){return t|2}function li(t){return(t&131068)>>2}function al(t,e){return t&-131069|e<<2}function vT(t){return(t&1)===1}function e8(t){return t|1}function CT(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Y1(o),l=li(o);t[r]=n;let u=!1,d;if(Array.isArray(n)){let p=n;d=p[1],(d===null||io(p,d)>0)&&(u=!0)}else d=n;if(i)if(l!==0){let y=Y1(t[c+1]);t[r+1]=Tc(y,c),y!==0&&(t[y+1]=al(t[y+1],r)),t[c+1]=yT(t[c+1],r)}else t[r+1]=Tc(c,0),c!==0&&(t[c+1]=al(t[c+1],r)),c=r;else t[r+1]=Tc(l,0),c===0?c=r:t[l+1]=al(t[l+1],r),l=r;u&&(t[r+1]=Jl(t[r+1])),Np(t,d,r,!0),Np(t,d,r,!1),MT(e,d,t,r,s),o=Tc(c,l),s?e.classBindings=o:e.styleBindings=o}function MT(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&io(s,e)>=0&&(n[r+1]=e8(n[r+1]))}function Np(t,e,n,r){let i=t[n+1],s=e===null,o=r?Y1(i):li(i),c=!1;for(;o!==0&&(c===!1||s);){let l=t[o],u=t[o+1];_T(l,e)&&(c=!0,t[o+1]=r?e8(u):Jl(u)),o=r?Y1(u):li(u)}c&&(t[n+1]=r?Jl(i):e8(i))}function _T(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?io(t,e)>=0:!1}var w2={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function LT(t){return t.substring(w2.key,w2.keyEnd)}function wT(t){return bT(t),hy(t,py(t,0,w2.textEnd))}function hy(t,e){let n=w2.textEnd;return n===e?-1:(e=w2.keyEnd=ET(t,w2.key=e,n),py(t,e,n))}function bT(t){w2.key=0,w2.keyEnd=0,w2.value=0,w2.valueEnd=0,w2.textEnd=t.length}function py(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ET(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function J(t,e,n){let r=me(),i=co();if(E2(r,i,e)){let s=Ze(),o=ao();I4(s,o,r,t,e,r[Fe],n,!1)}return J}function t8(t,e,n,r,i){q8(e,t,n,i?"class":"style",r)}function fo(t,e){return zT(t,e,null,!0),fo}function my(t){ST(kT,IT,t,!0)}function IT(t,e){for(let n=wT(e);n>=0;n=hy(e,n))m8(t,LT(e),!0)}function zT(t,e,n,r){let i=me(),s=Ze(),o=b8(2);if(s.firstUpdatePass&&yy(s,t,o,r),e!==a2&&E2(i,o,e)){let c=s.data[r1()];vy(s,c,i,i[Fe],t,i[o+1]=PT(e,n),r,o)}}function ST(t,e,n,r){let i=Ze(),s=b8(2);i.firstUpdatePass&&yy(i,null,s,r);let o=me();if(n!==a2&&E2(o,s,n)){let c=i.data[r1()];if(Cy(c,r)&&!gy(i,s)){let l=r?c.classesWithoutHost:c.stylesWithoutHost;l!==null&&(n=dl(l,n||"")),t8(i,c,o,n,r)}else RT(i,c,o,o[Fe],o[s+1],o[s+1]=NT(t,e,n),r,s)}}function gy(t,e){return e>=t.expandoStartIndex}function yy(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[r1()],o=gy(t,n);Cy(s,r)&&e===null&&!o&&(e=!1),e=DT(i,s,e,r),CT(i,s,e,n,o,r)}}function DT(t,e,n,r){let i=GI(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=ll(null,t,e,n,r),n=no(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=ll(i,t,e,n,r),s===null){let l=TT(t,e,r);l!==void 0&&Array.isArray(l)&&(l=ll(null,t,e,l[1],r),l=no(l,e.attrs,r),AT(t,e,r,l))}else s=xT(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function TT(t,e,n){let r=n?e.classBindings:e.styleBindings;if(li(r)!==0)return t[Y1(r)]}function AT(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Y1(i)]=r}function xT(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=no(r,o,n)}return no(r,e.attrs,n)}function ll(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=no(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function no(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),m8(t,o,n?!0:e[++s]))}return t===void 0?null:t}function NT(t,e,n){if(n==null||n==="")return Ft;let r=[],i=c2(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function kT(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&m8(t,r,n)}function RT(t,e,n,r,i,s,o,c){i===a2&&(i=Ft);let l=0,u=0,d=0<i.length?i[0]:null,p=0<s.length?s[0]:null;for(;d!==null||p!==null;){let y=l<i.length?i[l+1]:void 0,g=u<s.length?s[u+1]:void 0,E=null,D;d===p?(l+=2,u+=2,y!==g&&(E=p,D=g)):p===null||d!==null&&d<p?(l+=2,E=d):(u+=2,E=p,D=g),E!==null&&vy(t,e,n,r,E,D,o,c),d=l<i.length?i[l]:null,p=u<s.length?s[u]:null}}function vy(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let l=t.data,u=l[c+1],d=vT(u)?kp(l,e,n,i,li(u),o):void 0;if(!o4(d)){o4(s)||gT(u)&&(s=kp(l,null,n,i,c,o));let p=ym(r1(),n);ZS(r,o,p,i,s)}}function kp(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let l=t[i],u=Array.isArray(l),d=u?l[1]:l,p=d===null,y=n[i+1];y===a2&&(y=p?Ft:void 0);let g=p?J6(y,r):d===r?y:void 0;if(u&&!o4(g)&&(g=J6(l,r)),o4(g)&&(c=g,o))return c;let E=t[i+1];i=o?Y1(E):li(E)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(c=J6(l,r))}return c}function o4(t){return t!==void 0}function PT(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ct(c2(t)))),t}function Cy(t,e){return(t.flags&(e?8:16))!==0}function N(t,e,n,r){let i=me(),s=Ze(),o=jt+t,c=i[Fe],l=s.firstCreatePass?Xg(o,s,i,e,$8,M8(),n,r):s.data[o],u=OT(s,i,l,c,e,t);i[o]=u;let d=p4(l);return Z1(l,!0),zg(c,u,l),!K8(l)&&g4()&&z4(s,i,u,l),(RI()===0||d)&&hi(u,i),PI(),d&&(E4(s,i,l),P8(s,l,i)),r!==null&&H8(i,l),N}function R(){let t=Dt();_8()?L8():(t=t.parent,Z1(t,!1));let e=t;FI(e)&&VI(),OI();let n=Ze();return n.firstCreatePass&&Jg(n,e),e.classesWithoutHost!=null&&XI(e)&&t8(n,e,me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&JI(e)&&t8(n,e,me(),e.stylesWithoutHost,!1),R}function Ve(t,e,n,r){return N(t,e,n,r),R(),Ve}var OT=(t,e,n,r,i,s)=>(y4(!0),Eg(r,i,QI()));function FT(t,e,n,r,i){let s=e.consts,o=si(s,r),c=uo(e,t,8,"ng-container",o);o!==null&&Ql(c,o,!0);let l=si(s,i);return M8()&&X8(e,n,c,l,$8),c.mergedAttrs=oi(c.mergedAttrs,c.attrs),e.queries!==null&&e.queries.elementStart(e,c),c}function mi(t,e,n){let r=me(),i=Ze(),s=t+jt,o=i.firstCreatePass?FT(s,i,r,e,n):i.data[s];Z1(o,!0);let c=VT(i,r,o,t);return r[s]=c,g4()&&z4(i,r,c,o),hi(c,r),p4(o)&&(E4(i,r,o),P8(i,o,r)),n!=null&&H8(r,o),mi}function gi(){let t=Dt(),e=Ze();return _8()?L8():(t=t.parent,Z1(t,!1)),e.firstCreatePass&&(z8(e,t),v8(t)&&e.queries.elementEnd(t)),gi}var VT=(t,e,n,r)=>(y4(!0),CS(e[Fe],""));function $t(){return me()}function ru(t,e,n){let r=me(),i=co();if(E2(r,i,e)){let s=Ze(),o=ao();I4(s,o,r,t,e,r[Fe],n,!0)}return ru}var c4="en-US";var BT=c4;function jT(t){typeof t=="string"&&(BT=t.toLowerCase().replace(/_/g,"-"))}var UT=(t,e,n)=>{};function de(t,e,n,r){let i=me(),s=Ze(),o=Dt();return My(s,i,i[Fe],o,t,e,r),de}function HT(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[Uc],l=i[s+2];return c.length>l?c[l]:null}typeof o=="string"&&(s+=2)}return null}function My(t,e,n,r,i,s,o){let c=p4(r),u=t.firstCreatePass?kI(t):null,d=e[Bt],p=NI(e),y=!0;if(r.type&3||o){let g=$2(r,e),E=o?o(g):g,D=p.length,T=o?G=>o(B2(G[r.index])):r.index,V=null;if(!o&&c&&(V=HT(t,e,i,r.index)),V!==null){let G=V.__ngLastListenerFn__||V;G.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,y=!1}else{s=Op(r,e,d,s),UT(E,i,s);let G=n.listen(E,i,s);p.push(s,G),u&&u.push(i,T,D,D+1)}}else s=Op(r,e,d,s);if(y){let g=r.outputs?.[i],E=r.hostDirectiveOutputs?.[i];if(E&&E.length)for(let D=0;D<E.length;D+=2){let T=E[D],V=E[D+1];Rp(r,t,e,T,V,i,s,p,u)}if(g&&g.length)for(let D of g)Rp(r,t,e,D,i,i,s,p,u)}}function Rp(t,e,n,r,i,s,o,c,l){let u=n[r],p=e.data[r].outputs[i],g=u[p].subscribe(o),E=c.length;c.push(o,g),l&&l.push(s,t.index,E,-(E+1))}function Pp(t,e,n,r){let i=ve(null);try{return xe(6,e,n),n(r)!==!1}catch(s){return xg(t,s),!1}finally{xe(7,e,n),ve(i)}}function Op(t,e,n,r){return function i(s){if(s===Function)return r;let o=fi(t)?j2(t.index,e):e;Z8(o,5);let c=Pp(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)c=Pp(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return c}}function Re(t=1){return KI(t)}function $T(t,e){let n=null,r=uS(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?bg(t,s,!0):hS(r,s))return i}return n}function _y(t){let e=me()[o2][Ut];if(!e.projection){let n=t?t.length:1,r=e.projection=uI(n,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?$T(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function Ly(t,e=0,n,r,i,s){let o=me(),c=Ze(),l=r?t+1:null;l!==null&&cy(o,c,l,r,i,s,null,n);let u=uo(c,jt+t,16,null,n||null);u.projection===null&&(u.projection=e),L8();let p=!o[Ys]||Lm();o[o2][Ut].projection[u.projection]===null&&l!==null?qT(o,c,l):p&&!K8(u)&&QS(c,o,u)}function qT(t,e,n){let r=jt+n,i=e.data[r],s=t[r],o=Gl(s,i.tView.ssrId),c=Ng(t,i,void 0,{dehydratedView:o});Qg(s,c,0,Ul(i,o))}function iu(t,e,n,r,i){let s=me(),o=dy(s,e,n,r);if(o!==a2){let c=Ze(),l=ao();I4(c,l,s,t,o,s[Fe],i,!1)}return iu}function GT(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function j(t,e=""){let n=me(),r=Ze(),i=t+jt,s=r.firstCreatePass?uo(r,i,1,e,null):r.data[i],o=WT(r,n,s,e,t);n[i]=o,g4()&&z4(r,n,o,s),Z1(s,!1)}var WT=(t,e,n,r,i)=>(y4(!0),yS(e[Fe],r));function We(t){return u2("",t,""),We}function u2(t,e,n){let r=me(),i=dy(r,t,e,n);return i!==a2&&wy(r,r1(),i),u2}function T4(t,e,n,r,i,s,o){let c=me(),l=mT(c,t,e,n,r,i,s,o);return l!==a2&&wy(c,r1(),l),T4}function wy(t,e,n){let r=ym(e,t);vS(t[Fe],r,n)}function Qt(t,e,n){Qm(e)&&(e=e());let r=me(),i=co();if(E2(r,i,e)){let s=Ze(),o=ao();I4(s,o,r,t,e,r[Fe],n,!1)}return Qt}function f2(t,e){let n=Qm(t);return n&&t.set(e),n}function Yt(t,e){let n=me(),r=Ze(),i=Dt();return My(r,n,n[Fe],i,t,e),Yt}function KT(t,e,n){let r=Ze();if(r.firstCreatePass){let i=V2(t);n8(n,r.data,r.blueprint,i,!0),n8(e,r.data,r.blueprint,i,!1)}}function n8(t,e,n,r,i){if(t=It(t),Array.isArray(t))for(let s=0;s<t.length;s++)n8(t[s],e,n,r,i);else{let s=Ze(),o=me(),c=Dt(),l=ni(t)?t:It(t.provide),u=lm(t),d=c.providerIndexes&1048575,p=c.directiveStart,y=c.providerIndexes>>20;if(ni(t)||!t.multi){let g=new W1(u,i,Y),E=fl(l,e,i?d:d+y,p);E===-1?(El(Yc(c,o),s,l),ul(s,t,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(g),o.push(g)):(n[E]=g,o[E]=g)}else{let g=fl(l,e,d+y,p),E=fl(l,e,d,d+y),D=g>=0&&n[g],T=E>=0&&n[E];if(i&&!T||!i&&!D){El(Yc(c,o),s,l);let V=ZT(i?YT:QT,n.length,i,r,u);!i&&T&&(n[E].providerFactory=V),ul(s,t,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(V),o.push(V)}else{let V=by(n[i?E:g],u,!i&&r);ul(s,t,g>-1?g:E,V)}!i&&r&&T&&n[E].componentProviders++}}}function ul(t,e,n,r){let i=ni(e),s=yI(e);if(i||s){let l=(s?It(e.useClass):e).prototype.ngOnDestroy;if(l){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,l]):u[d+1].push(r,l)}else u.push(n,l)}}}function by(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function fl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function QT(t,e,n,r){return r8(this.multi,[])}function YT(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Zc(n,n[Me],this.providerFactory.index,r);s=c.slice(0,o),r8(i,s);for(let l=o;l<c.length;l++)s.push(c[l])}else s=[],r8(i,s);return s}function r8(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function ZT(t,e,n,r,i){let s=new W1(t,n,Y);return s.multi=[],s.index=e,s.componentProviders=0,by(s,i,r&&!n),s}function Mn(t,e=[]){return n=>{n.providersResolver=(r,i)=>KT(r,i?i(t):t,e)}}function A4(t,e,n,r){return Iy(me(),w8(),t,e,n,r)}function su(t,e,n,r,i){return XT(me(),w8(),t,e,n,r,i)}function Ey(t,e){let n=t[e];return n===a2?void 0:n}function Iy(t,e,n,r,i,s){let o=e+n;return E2(t,o,i)?sy(t,o+1,s?r.call(s,i):r(i)):Ey(t,o+1)}function XT(t,e,n,r,i,s,o){let c=e+n;return oy(t,c,i,s)?sy(t,c+2,o?r.call(o,i,s):r(i,s)):Ey(t,c+2)}function ou(t,e){let n=Ze(),r,i=t+jt;n.firstCreatePass?(r=JT(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=B1(r.type,!0)),o,c=Ot(Y);try{let l=Qc(!1),u=s();return Qc(l),GT(n,me(),i,u),u}finally{Ot(c)}}function JT(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function cu(t,e,n){let r=t+jt,i=me(),s=DI(i,r);return eA(i,r)?Iy(i,w8(),e,s.transform,n,s):s.transform(n)}function eA(t,e){return t[Me].data[e].pure}var mn=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},zy=new mn("19.2.1"),i8=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},au=(()=>{class t{compileModuleSync(n){return new Xl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=nm(n),s=Lg(i.declarations).reduce((o,c)=>{let l=U1(c);return l&&o.push(new eo(l)),o},[]);return new i8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tA=(()=>{class t{zone=A(De);changeDetectionScheduler=A(K1);applicationRef=A(e1);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nA=new Q("",{factory:()=>!1});function Sy({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new De(ee(O({},Ty()),{scheduleInRootZone:n})),[{provide:De,useFactory:t},{provide:ti,multi:!0,useFactory:()=>{let r=A(tA,{optional:!0});return()=>r.initialize()}},{provide:ti,multi:!0,useFactory:()=>{let r=A(rA);return()=>{r.initialize()}}},e===!0?{provide:qm,useValue:!0}:[],{provide:Gm,useValue:n??$m}]}function Dy(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Sy({ngZoneFactory:()=>{let i=Ty(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&R8("NgZone_CoalesceEvent"),new De(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return n1([{provide:nA,useValue:!0},{provide:v4,useValue:!1},r])}function Ty(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var rA=(()=>{class t{subscription=new qe;initialized=!1;zone=A(De);pendingTasks=A(i1);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var iA=(()=>{class t{appRef=A(e1);taskService=A(i1);ngZone=A(De);zonelessEnabled=A(v4);tracing=A(_4,{optional:!0});disableScheduling=A(qm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Jc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(A(Gm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dl||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?hp:Wm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Jc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,hp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sA(){return typeof $localize<"u"&&$localize.locale||c4}var lu=new Q("",{providedIn:"root",factory:()=>A(lu,ue.Optional|ue.SkipSelf)||sA()});var s8=new Q(""),oA=new Q("");function Hs(t){return!t.moduleRef}function cA(t){let e=Hs(t)?t.r3Injector:t.moduleRef.injector,n=e.get(De);return n.run(()=>{Hs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(dn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Hs(t)){let s=()=>e.destroy(),o=t.platformInjector.get(s8);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(s8);o.add(s),t.moduleRef.onDestroy(()=>{Pc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return lA(r,n,()=>{let s=e.get(fy);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(lu,c4);if(jT(o||c4),!e.get(oA,!0))return Hs(t)?e.get(e1):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Hs(t)){let l=e.get(e1);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return aA(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function aA(t,e){let n=t.injector.get(e1);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}function lA(t,e,n){try{let r=n();return o1(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Oc=null;function uA(t=[],e){return st.create({name:e,providers:[{provide:f4,useValue:"platform"},{provide:s8,useValue:new Set([()=>Oc=null])},...t]})}function fA(t=[]){if(Oc)return Oc;let e=uA(t);return Oc=e,fT(),dA(e),e}function dA(t){let e=t.get(N8,null);St(t,()=>{e?.forEach(n=>n())})}function uu(){return!1}var _n=(()=>{class t{static __NG_ELEMENT_ID__=hA}return t})();function hA(t){return pA(Dt(),me(),(t&16)===16)}function pA(t,e,n){if(fi(t)&&!n){let r=j2(t.index,e);return new Q1(r,r)}else if(t.type&175){let r=e[o2];return new Q1(r,e)}return null}var o8=class{constructor(){}supports(e){return iy(e)}create(e){return new c8(e)}},mA=(t,e)=>e,c8=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||mA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<Fp(r,i,s)?n:r,c=Fp(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=c-i,d=l-i;if(u!=d){for(let y=0;y<u;y++){let g=y<s.length?s[y]:s[y]=0,E=g+y;d<=E&&E<u&&(s[y]=g+1)}let p=o.previousIndex;s[p]=d-u}}c!==l&&e(o,c,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!iy(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,sT(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new a8(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new a4),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new a4),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},a8=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},l8=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},a4=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new l8,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Fp(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Vp(){return new fu([new o8])}var fu=(()=>{class t{factories;static \u0275prov=q({token:t,providedIn:"root",factory:Vp});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Vp()),deps:[[t,new lI,new H2]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new $(901,!1)}}return t})();function Ay(t){xe(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=fA(r),s=[Sy({}),{provide:K1,useExisting:iA},...n||[]],o=new i4({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return cA({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{xe(9)}}function a1(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function d2(t){let e=ve(null);try{return t()}finally{ve(e)}}function h2(t,e){let n=_h(t);return e?.equal&&(n[kt].equal=e.equal),n}var gA=!1,yA=(()=>{class t extends s4{pendingTasks=A(i1);taskId=null;schedule(n){super.schedule(n),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),u8=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.zone=r,this.injector=s,this.watcher=zh(c=>this.runEffect(c),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(dn,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function vA(){}function xy(t,e){!e?.injector&&d4(vA);let n=e?.injector??A(st),r=e?.manualCleanup!==!0?n.get(X1):null,i=new u8(n.get(yA),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(_n,null,{optional:!0});return!s||!(s._lView[te]&8)?i.watcher.notify():(s._lView[Nc]??=[]).push(i.watcher.notify),i}var CA=gA;var f8=class{[kt];constructor(e){this[kt]=e}destroy(){this[kt].destroy()}};function x4(t,e){if(CA)return xy(t,e);!e?.injector&&d4(x4);let n=e?.injector??A(st),r=e?.manualCleanup!==!0?n.get(X1):null,i,s=n.get(og,null,{optional:!0}),o=n.get(K1);return s!==null&&!e?.forceRoot?(i=LA(s.view,o,t),r instanceof Xc&&r._lView===s.view&&(r=null)):i=wA(t,n.get(ly),o),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new f8(i)}var Ny=ee(O({},k1),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Js,run(){if(this.dirty=!1,this.hasRun&&!Vs(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),e=Rr(this),n=Gc(!1);try{this.maybeCleanup(),this.fn(t)}finally{Gc(n),Fs(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),MA=ee(O({},Ny),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Pr(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),_A=ee(O({},Ny),{consumerMarkedDirty(){this.view[te]|=8192,oo(this.view),this.notifier.notify(13)},destroy(){Pr(this),this.onDestroyFn(),this.maybeCleanup(),this.view[H1]?.delete(this)}});function LA(t,e,n){let r=Object.create(_A);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=n,t[H1]??=new Set,t[H1].add(r),r.consumerMarkedDirty(r),r}function wA(t,e,n){let r=Object.create(MA);return r.fn=t,r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}var Vy=null;function Ln(){return Vy}function By(t){Vy??=t}var N4=class{};var Tt=new Q(""),jy=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>A(bA),providedIn:"platform"})}return t})();var bA=(()=>{class t extends jy{_location;_history;_doc=A(Tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ln().getBaseHref(this._doc)}onPopState(n){let r=Ln().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ln().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Uy(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function ky(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function er(t){return t&&t[0]!=="?"?`?${t}`:t}var yi=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>A(Hy),providedIn:"root"})}return t})(),EA=new Q(""),Hy=(()=>{class t extends yi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(Tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Uy(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+er(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+er(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+er(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ce(jy),ce(EA,8))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ho=(()=>{class t{_subject=new rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=SA(ky(Ry(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+er(r))}normalize(n){return t.stripTrailingSlash(zA(this._basePath,Ry(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+er(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+er(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=er;static joinWithSlash=Uy;static stripTrailingSlash=ky;static \u0275fac=function(r){return new(r||t)(ce(yi))};static \u0275prov=q({token:t,factory:()=>IA(),providedIn:"root"})}return t})();function IA(){return new ho(ce(yi))}function zA(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ry(t){return t.replace(/\/index.html$/,"")}function SA(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function $y(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var du=/\s+/,Py=[],qy=(()=>{class t{_ngEl;_renderer;initialClasses=Py;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(du):Py}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(du):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(du).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Y(Kt),Y(l2))};static \u0275dir=Ne({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var hu=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},p2=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new hu(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),Oy(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Oy(s,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Y(pi),Y(D4),Y(fu))};static \u0275dir=Ne({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Oy(t,e){t.context.$implicit=e.item}var vi=(()=>{class t{_viewContainer;_context=new pu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Fy("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Fy("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Y(pi),Y(D4))};static \u0275dir=Ne({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),pu=class{$implicit=null;ngIf=null};function Fy(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ct(e)}'.`)}function DA(t,e){return new $(2100,!1)}var mu=class{createSubscription(e,n){return d2(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){d2(()=>e.unsubscribe())}},gu=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},TA=new gu,AA=new mu,Gy=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(o1(n))return TA;if(tu(n))return AA;throw DA(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(Y(_n,16))};static \u0275pipe=ty({name:"async",type:t,pure:!1})}return t})();var At=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=s1({type:t});static \u0275inj=t1({})}return t})(),Wy="browser",xA="server";function yu(t){return t===xA}var k4=class{};var Cu=class extends N4{supportsDOMEvents=!0},Mu=class t extends Cu{static makeCurrent(){By(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=NA();return n==null?null:kA(n)}resetBaseElement(){po=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $y(document.cookie,e)}},po=null;function NA(){return po=po||document.querySelector("base"),po?po.getAttribute("href"):null}function kA(t){return new URL(t,document.baseURI).pathname}var RA=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),_u=new Q(""),Jy=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ce(_u),ce(De))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),P4=class{_doc;constructor(e){this._doc=e}manager},R4="ng-app-id";function Ky(t){for(let e of t)e.remove()}function Qy(t,e){let n=e.createElement("style");return n.textContent=t,n}function PA(t,e,n,r){let i=t.head?.querySelectorAll(`style[${R4}="${e}"],link[${R4}="${e}"]`);if(i)for(let s of i)s.removeAttribute(R4),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function Lu(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var ev=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=yu(s),PA(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Qy);r?.forEach(i=>this.addUsage(i,this.external,Lu))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Ky(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Ky(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Qy(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Lu(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(R4,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ce(Tt),ce(x8),ce(k8,8),ce(J1))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),vu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bu=/%COMP%/g;var tv="%COMP%",OA=`_nghost-${tv}`,FA=`_ngcontent-${tv}`,VA=!0,BA=new Q("",{providedIn:"root",factory:()=>VA});function jA(t){return FA.replace(bu,t)}function UA(t){return OA.replace(bu,t)}function nv(t,e){return e.map(n=>n.replace(bu,t))}var Yy=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,s,o,c,l,u=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=l,this.nonce=u,this.tracingService=d,this.platformIsServer=yu(c),this.defaultRenderer=new mo(n,o,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===U2.ShadowDom&&(r=ee(O({},r),{encapsulation:U2.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof O4?i.applyToHost(n):i instanceof go&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case U2.Emulated:s=new O4(l,u,r,this.appId,d,o,c,p,y);break;case U2.ShadowDom:return new wu(l,u,n,r,o,c,this.nonce,p,y);default:s=new go(l,u,r,d,o,c,p,y);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ce(Jy),ce(ev),ce(x8),ce(BA),ce(Tt),ce(J1),ce(De),ce(k8),ce(_4,8))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),mo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,s){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(vu[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Zy(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Zy(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=vu[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=vu[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(pn.DashCase|pn.Important)?e.style.setProperty(n,r,i&pn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&pn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Ln().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);let s=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,n,s)),this.eventManager.addEventListener(e,n,s,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Zy(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var wu=class extends mo{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,s,o,c,l,u){super(e,s,o,l,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=nv(i.id,d);for(let y of d){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=y,this.shadowRoot.appendChild(g)}let p=i.getExternalStyles?.();if(p)for(let y of p){let g=Lu(y,s);c&&g.setAttribute("nonce",c),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},go=class extends mo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,s,o,c,l,u){super(e,s,o,c,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?nv(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},O4=class extends go{contentAttr;hostAttr;constructor(e,n,r,i,s,o,c,l,u){let d=i+"-"+r.id;super(e,n,r,s,o,c,l,u,d),this.contentAttr=jA(d),this.hostAttr=UA(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},HA=(()=>{class t extends P4{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||t)(ce(Tt))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),Xy=["alt","control","meta","shift"],$A={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qA={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},GA=(()=>{class t extends P4{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=t.parseEventName(r),c=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ln().onAndCancel(n,o.domEventName,c,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),Xy.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=$A[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Xy.forEach(o=>{if(o!==i){let c=qA[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ce(Tt))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function rv(t,e){return Ay(O({rootComponent:t},WA(e)))}function WA(t){return{appProviders:[...XA,...t?.providers??[]],platformProviders:ZA}}function KA(){Mu.makeCurrent()}function QA(){return new dn}function YA(){return ng(document),document}var ZA=[{provide:J1,useValue:Wy},{provide:N8,useValue:KA,multi:!0},{provide:Tt,useFactory:YA,deps:[]}];var XA=[{provide:f4,useValue:"root"},{provide:dn,useFactory:QA,deps:[]},{provide:_u,useClass:HA,multi:!0,deps:[Tt]},{provide:_u,useClass:GA,multi:!0,deps:[Tt]},Yy,ev,Jy,{provide:ai,useExisting:Yy},{provide:k4,useClass:RA,deps:[]},[]];var iv=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ce(Tt))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Eu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=ce(JA),i},providedIn:"root"})}return t})(),JA=(()=>{class t extends Eu{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case D2.NONE:return r;case D2.HTML:return vn(r,"HTML")?c2(r):O8(this._doc,String(r)).toString();case D2.STYLE:return vn(r,"Style")?c2(r):r;case D2.SCRIPT:if(vn(r,"Script"))return c2(r);throw new $(5200,!1);case D2.URL:return vn(r,"URL")?c2(r):w4(String(r));case D2.RESOURCE_URL:if(vn(r,"ResourceURL"))return c2(r);throw new $(5201,!1);default:throw new $(5202,!1)}}bypassSecurityTrustHtml(n){return ug(n)}bypassSecurityTrustStyle(n){return fg(n)}bypassSecurityTrustScript(n){return dg(n)}bypassSecurityTrustUrl(n){return hg(n)}bypassSecurityTrustResourceUrl(n){return pg(n)}static \u0275fac=function(r){return new(r||t)(ce(Tt))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ae="primary",Ao=Symbol("RouteTitle"),Tu=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function bi(t){return new Tu(t)}function ex(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function tx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!G2(t[n],e[n]))return!1;return!0}function G2(t,e){let n=t?Au(t):void 0,r=e?Au(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!hv(t[i],e[i]))return!1;return!0}function Au(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function hv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function pv(t){return t.length>0?t[t.length-1]:null}function f1(t){return K6(t)?t:o1(t)?Oe(Promise.resolve(t)):se(t)}var nx={exact:gv,subset:yv},mv={exact:rx,subset:ix,ignored:()=>!0};function ov(t,e,n){return nx[n.paths](t.root,e.root,n.matrixParams)&&mv[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function rx(t,e){return G2(t,e)}function gv(t,e,n){if(!nr(t.segments,e.segments)||!B4(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!gv(t.children[r],e.children[r],n))return!1;return!0}function ix(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>hv(t[n],e[n]))}function yv(t,e,n){return vv(t,e,e.segments,n)}function vv(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!nr(i,n)||e.hasChildren()||!B4(i,n,r))}else if(t.segments.length===n.length){if(!nr(t.segments,n)||!B4(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!yv(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!nr(t.segments,i)||!B4(t.segments,i,r)||!t.children[ae]?!1:vv(t.children[ae],e,s,r)}}function B4(t,e,n){return e.every((r,i)=>mv[n](t[i].parameters,r.parameters))}var bn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=bi(this.queryParams),this._queryParamMap}toString(){return cx.serialize(this)}},Ie=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return j4(this)}},tr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=bi(this.parameters),this._parameterMap}toString(){return Mv(this)}};function sx(t,e){return nr(t,e)&&t.every((n,r)=>G2(n.parameters,e[r].parameters))}function nr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function ox(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ae&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(e(i,r)))}),n}var r5=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>new Lo,providedIn:"root"})}return t})(),Lo=class{parse(e){let n=new Nu(e);return new bn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${yo(e.root,!0)}`,r=ux(e.queryParams),i=typeof e.fragment=="string"?`#${ax(e.fragment)}`:"";return`${n}${r}${i}`}},cx=new Lo;function j4(t){return t.segments.map(e=>Mv(e)).join("/")}function yo(t,e){if(!t.hasChildren())return j4(t);if(e){let n=t.children[ae]?yo(t.children[ae],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ae&&r.push(`${i}:${yo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ox(t,(r,i)=>i===ae?[yo(t.children[ae],!1)]:[`${i}:${yo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ae]!=null?`${j4(t)}/${n[0]}`:`${j4(t)}/(${n.join("//")})`}}function Cv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function F4(t){return Cv(t).replace(/%3B/gi,";")}function ax(t){return encodeURI(t)}function xu(t){return Cv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function U4(t){return decodeURIComponent(t)}function cv(t){return U4(t.replace(/\+/g,"%20"))}function Mv(t){return`${xu(t.path)}${lx(t.parameters)}`}function lx(t){return Object.entries(t).map(([e,n])=>`;${xu(e)}=${xu(n)}`).join("")}function ux(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${F4(n)}=${F4(i)}`).join("&"):`${F4(n)}=${F4(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var fx=/^[^\/()?;#]+/;function Iu(t){let e=t.match(fx);return e?e[0]:""}var dx=/^[^\/()?;=#]+/;function hx(t){let e=t.match(dx);return e?e[0]:""}var px=/^[^=?&#]+/;function mx(t){let e=t.match(px);return e?e[0]:""}var gx=/^[^&#]+/;function yx(t){let e=t.match(gx);return e?e[0]:""}var Nu=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new Ie(e,n)),r}parseSegment(){let e=Iu(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new tr(U4(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=hx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Iu(this.remaining);i&&(r=i,this.capture(r))}e[U4(n)]=U4(r)}parseQueryParam(e){let n=mx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=yx(this.remaining);o&&(r=o,this.capture(r))}let i=cv(n),s=cv(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Iu(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ae]:new Ie([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function _v(t){return t.segments.length>0?new Ie([],{[ae]:t}):t}function Lv(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Lv(i);if(r===ae&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ie(t.segments,e);return vx(n)}function vx(t){if(t.numberOfChildren===1&&t.children[ae]){let e=t.children[ae];return new Ie(t.segments.concat(e.segments),e.children)}return t}function rr(t){return t instanceof bn}function Cx(t,e,n=null,r=null){let i=wv(t);return bv(i,e,n,r)}function wv(t){let e;function n(s){let o={};for(let l of s.children){let u=n(l);o[l.outlet]=u}let c=new Ie(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=_v(r);return e??i}function bv(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return zu(i,i,i,n,r);let s=Mx(e);if(s.toRoot())return zu(i,i,new Ie([],{}),n,r);let o=_x(s,i,t),c=o.processChildren?Co(o.segmentGroup,o.index,s.commands):Iv(o.segmentGroup,o.index,s.commands);return zu(i,o.segmentGroup,c,n,r)}function H4(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function wo(t){return typeof t=="object"&&t!=null&&t.outlets}function zu(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=Ev(t,e,n);let c=_v(Lv(o));return new bn(c,s,i)}function Ev(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Ev(s,e,n)}),new Ie(t.segments,r)}var $4=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&H4(r[0]))throw new $(4003,!1);let i=r.find(wo);if(i&&i!==pv(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Mx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $4(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,u])=>{c[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new $4(n,e,r)}var _i=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function _x(t,e,n){if(t.isAbsolute)return new _i(e,!0,0);if(!n)return new _i(e,!1,NaN);if(n.parent===null)return new _i(n,!0,0);let r=H4(t.commands[0])?0:1,i=n.segments.length-1+r;return Lx(n,i,t.numberOfDoubleDots)}function Lx(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new _i(r,!1,i-s)}function wx(t){return wo(t[0])?t[0].outlets:{[ae]:t}}function Iv(t,e,n){if(t??=new Ie([],{}),t.segments.length===0&&t.hasChildren())return Co(t,e,n);let r=bx(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ie(t.segments.slice(0,r.pathIndex),{});return s.children[ae]=new Ie(t.segments.slice(r.pathIndex),t.children),Co(s,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?ku(t,e,n):r.match?Co(t,0,i):ku(t,e,n)}function Co(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=wx(n),i={};if(Object.keys(r).some(s=>s!==ae)&&t.children[ae]&&t.numberOfChildren===1&&t.children[ae].segments.length===0){let s=Co(t.children[ae],e,n);return new Ie(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Iv(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(t.segments,i)}}function bx(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(wo(c))break;let l=`${c}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!lv(l,u,o))return s;r+=2}else{if(!lv(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ku(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(wo(s)){let l=Ex(s.outlets);return new Ie(r,l)}if(i===0&&H4(n[0])){let l=t.segments[e];r.push(new tr(l.path,av(n[0]))),i++;continue}let o=wo(s)?s.outlets[ae]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&H4(c)?(r.push(new tr(o,av(c))),i+=2):(r.push(new tr(o,{})),i++)}return new Ie(r,{})}function Ex(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ku(new Ie([],{}),0,r))}),e}function av(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function lv(t,e,n){return t==n.path&&G2(e,n.parameters)}var Mo="imperative",ht=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ht||{}),m2=class{id;url;constructor(e,n){this.id=e,this.url=n}},bo=class extends m2{type=ht.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},u1=class extends m2{urlAfterRedirects;type=ht.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Xt||{}),Ru=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ru||{}),wn=class extends m2{reason;code;type=ht.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ir=class extends m2{reason;code;type=ht.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Eo=class extends m2{error;target;type=ht.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},q4=class extends m2{urlAfterRedirects;state;type=ht.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pu=class extends m2{urlAfterRedirects;state;type=ht.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ou=class extends m2{urlAfterRedirects;state;shouldActivate;type=ht.GuardsCheckEnd;constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fu=class extends m2{urlAfterRedirects;state;type=ht.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vu=class extends m2{urlAfterRedirects;state;type=ht.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bu=class{route;type=ht.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ju=class{route;type=ht.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Uu=class{snapshot;type=ht.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hu=class{snapshot;type=ht.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$u=class{snapshot;type=ht.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qu=class{snapshot;type=ht.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Io=class{},Ei=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Ix(t,e){return t.providers&&!t._injector&&(t._injector=J8(t.providers,e,`Route: ${t.path}`)),t._injector??e}function T2(t){return t.outlet||ae}function zx(t,e){let n=t.filter(r=>T2(r)===e);return n.push(...t.filter(r=>T2(r)!==e)),n}function xo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Gu=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return xo(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new X4(this.rootInjector)}},X4=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Gu(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ce(Vt))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),G4=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Wu(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Wu(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ku(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ku(e,this._root).map(n=>n.value)}};function Wu(t,e){if(t===e.value)return e;for(let n of e.children){let r=Wu(t,n);if(r)return r}return null}function Ku(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ku(t,n);if(r.length)return r.unshift(e),r}return[]}var Zt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Mi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var W4=class extends G4{snapshot;constructor(e,n){super(e),this.snapshot=n,i5(this,e)}toString(){return this.snapshot.toString()}};function zv(t){let e=Sx(t),n=new lt([new tr("",{})]),r=new lt({}),i=new lt({}),s=new lt({}),o=new lt(""),c=new A2(n,r,s,o,i,ae,t,e.root);return c.snapshot=e.root,new W4(new Zt(c,[]),e)}function Sx(t){let e={},n={},r={},i="",s=new Li([],e,r,i,n,ae,t,null,{});return new Q4("",new Zt(s,[]))}var A2=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,s,o,c,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(oe(u=>u[Ao]))??se(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>bi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>bi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function K4(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&Dv(i)&&(r.resolve[Ao]=i.title),r}var Li=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ao]}constructor(e,n,r,i,s,o,c,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=bi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=bi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Q4=class extends G4{url;constructor(e,n){super(n),this.url=e,i5(this,n)}toString(){return Sv(this._root)}};function i5(t,e){e.value._routerState=t,e.children.forEach(n=>i5(t,n))}function Sv(t){let e=t.children.length>0?` { ${t.children.map(Sv).join(", ")} } `:"";return`${t.value}${e}`}function Su(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,G2(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),G2(e.params,n.params)||t.paramsSubject.next(n.params),tx(e.url,n.url)||t.urlSubject.next(n.url),G2(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Qu(t,e){let n=G2(t.params,e.params)&&sx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Qu(t.parent,e.parent))}function Dv(t){return typeof t.title=="string"||t.title===null}var Dx=new Q(""),s5=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ae;activateEvents=new Ge;deactivateEvents=new Ge;attachEvents=new Ge;detachEvents=new Ge;routerOutletData=di(void 0);parentContexts=A(X4);location=A(pi);changeDetector=A(_n);inputBinder=A(o5,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Yu(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ne({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[z2]})}return t})(),Yu=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===A2?this.route:e===X4?this.childContexts:e===Dx?this.outletData:this.parent.get(e,n)}},o5=new Q("");function Tx(t,e,n){let r=zo(t,e._root,n?n._root:void 0);return new W4(r,e)}function zo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Ax(t,e,n);return new Zt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>zo(t,c)),o}}let r=xx(e.value),i=e.children.map(s=>zo(t,s));return new Zt(r,i)}}function Ax(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zo(t,r,i);return zo(t,r)})}function xx(t){return new A2(new lt(t.url),new lt(t.params),new lt(t.queryParams),new lt(t.fragment),new lt(t.data),t.outlet,t.component,t)}var So=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Tv="ngNavigationCancelingError";function Y4(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=rr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Av(!1,Xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Av(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Tv]=!0,n.cancellationCode=e,n}function Nx(t){return xv(t)&&rr(t.url)}function xv(t){return!!t&&t[Tv]}var kx=(t,e,n,r)=>oe(i=>(new Zu(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Zu=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Su(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Mi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Mi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Mi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Mi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new qu(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Hu(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Su(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Su(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Z4=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},wi=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Rx(t,e,n){let r=t._root,i=e?e._root:null;return vo(r,i,n,[r.value])}function Px(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function zi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!qp(t)?t:e.get(t):r}function vo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Mi(e);return t.children.forEach(o=>{Ox(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>_o(c,n.getContext(o),i)),i}function Ox(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=Fx(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Z4(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?vo(t,e,c?c.children:null,r,i):vo(t,e,n,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new wi(c.outlet.component,o))}else o&&_o(e,c,i),i.canActivateChecks.push(new Z4(r)),s.component?vo(t,null,c?c.children:null,r,i):vo(t,null,n,r,i);return i}function Fx(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!nr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!nr(t.url,e.url)||!G2(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qu(t,e)||!G2(t.queryParams,e.queryParams);case"paramsChange":default:return!Qu(t,e)}}function _o(t,e,n){let r=Mi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?_o(o,e.children.getContext(s),n):_o(o,null,n):_o(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new wi(e.outlet.component,i)):n.canDeactivateChecks.push(new wi(null,i)):n.canDeactivateChecks.push(new wi(null,i))}function No(t){return typeof t=="function"}function Vx(t){return typeof t=="boolean"}function Bx(t){return t&&No(t.canLoad)}function jx(t){return t&&No(t.canActivate)}function Ux(t){return t&&No(t.canActivateChild)}function Hx(t){return t&&No(t.canDeactivate)}function $x(t){return t&&No(t.canMatch)}function Nv(t){return t instanceof an||t?.name==="EmptyError"}var V4=Symbol("INITIAL_VALUE");function Ii(){return _2(t=>_c(t.map(e=>e.pipe(ln(1),Ec(V4)))).pipe(oe(e=>{for(let n of e)if(n!==!0){if(n===V4)return V4;if(n===!1||qx(n))return n}return!0}),r2(e=>e!==V4),ln(1)))}function qx(t){return rr(t)||t instanceof So}function Gx(t,e){return it(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?se(ee(O({},n),{guardsResult:!0})):Wx(o,r,i,t).pipe(it(c=>c&&Vx(c)?Kx(r,s,t,e):se(c)),oe(c=>ee(O({},n),{guardsResult:c})))})}function Wx(t,e,n,r){return Oe(t).pipe(it(i=>Jx(i.component,i.route,n,e,r)),un(i=>i!==!0,!0))}function Kx(t,e,n,r){return Oe(e).pipe(Qr(i=>Kr(Yx(i.route.parent,r),Qx(i.route,r),Xx(t,i.path,n),Zx(t,i.route,n))),un(i=>i!==!0,!0))}function Qx(t,e){return t!==null&&e&&e(new $u(t)),se(!0)}function Yx(t,e){return t!==null&&e&&e(new Uu(t)),se(!0)}function Zx(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return se(!0);let i=r.map(s=>Lc(()=>{let o=xo(e)??n,c=zi(s,o),l=jx(c)?c.canActivate(e,t):St(o,()=>c(e,t));return f1(l).pipe(un())}));return se(i).pipe(Ii())}function Xx(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Px(o)).filter(o=>o!==null).map(o=>Lc(()=>{let c=o.guards.map(l=>{let u=xo(o.node)??n,d=zi(l,u),p=Ux(d)?d.canActivateChild(r,t):St(u,()=>d(r,t));return f1(p).pipe(un())});return se(c).pipe(Ii())}));return se(s).pipe(Ii())}function Jx(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return se(!0);let o=s.map(c=>{let l=xo(e)??i,u=zi(c,l),d=Hx(u)?u.canDeactivate(t,e,n,r):St(l,()=>u(t,e,n,r));return f1(d).pipe(un())});return se(o).pipe(Ii())}function eN(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return se(!0);let s=i.map(o=>{let c=zi(o,t),l=Bx(c)?c.canLoad(e,n):St(t,()=>c(e,n));return f1(l)});return se(s).pipe(Ii(),kv(r))}function kv(t){return nc(ut(e=>{if(typeof e!="boolean")throw Y4(t,e)}),oe(e=>e===!0))}function tN(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return se(!0);let s=i.map(o=>{let c=zi(o,t),l=$x(c)?c.canMatch(e,n):St(t,()=>c(e,n));return f1(l)});return se(s).pipe(Ii(),kv(r))}var Do=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},To=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ci(t){return Wr(new Do(t))}function nN(t){return Wr(new $(4e3,!1))}function rN(t){return Wr(Av(!1,Xt.GuardRejected))}var Xu=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return se(r);if(i.numberOfChildren>1||!i.children[ae])return nN(`${e.redirectTo}`);i=i.children[ae]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:l,fragment:u,routeConfig:d,url:p,outlet:y,params:g,data:E,title:D}=i,T=St(s,()=>c({params:g,data:E,queryParams:l,fragment:u,routeConfig:d,url:p,outlet:y,title:D}));if(T instanceof bn)throw new To(T);n=T}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new To(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new bn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(e,l,r,i)}),new Ie(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ju={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iN(t,e,n,r,i){let s=Rv(t,e,n);return s.matched?(r=Ix(e,r),tN(r,e,n,i).pipe(oe(o=>o===!0?s:O({},Ju)))):se(s)}function Rv(t,e,n){if(e.path==="**")return sN(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},Ju):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ex)(n,t,e);if(!i)return O({},Ju);let s={};Object.entries(i.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function sN(t){return{matched:!0,parameters:t.length>0?pv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function uv(t,e,n,r){return n.length>0&&aN(t,n,r)?{segmentGroup:new Ie(e,cN(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&lN(t,n,r)?{segmentGroup:new Ie(t.segments,oN(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function oN(t,e,n,r){let i={};for(let s of n)if(J4(t,e,s)&&!r[T2(s)]){let o=new Ie([],{});i[T2(s)]=o}return O(O({},r),i)}function cN(t,e){let n={};n[ae]=e;for(let r of t)if(r.path===""&&T2(r)!==ae){let i=new Ie([],{});n[T2(r)]=i}return n}function aN(t,e,n){return n.some(r=>J4(t,e,r)&&T2(r)!==ae)}function lN(t,e,n){return n.some(r=>J4(t,e,r))}function J4(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function uN(t,e,n){return e.length===0&&!t.children[n]}var e5=class{};function fN(t,e,n,r,i,s,o="emptyOnly"){return new t5(t,e,n,r,i,o,s).recognize()}var dN=31,t5=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Xu(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=uv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:n,rootSnapshot:r})=>{let i=new Zt(r,n),s=new Q4("",i),o=Cx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Li([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ae,n).pipe(oe(r=>({children:r,rootSnapshot:n})),Wn(r=>{if(r instanceof To)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Do?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(oe(o=>o instanceof Zt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Oe(s).pipe(Qr(o=>{let c=r.children[o],l=zx(n,o);return this.processSegmentGroup(e,l,c,o,i)}),bc((o,c)=>(o.push(...c),o)),Kn(null),Z6(),it(o=>{if(o===null)return Ci(r);let c=Pv(o);return hN(c),se(c)}))}processSegment(e,n,r,i,s,o,c){return Oe(n).pipe(Qr(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,c).pipe(Wn(u=>{if(u instanceof Do)return se(null);throw u}))),un(l=>!!l),Wn(l=>{if(Nv(l))return uN(r,i,s)?se(new e5):Ci(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,l){return T2(r)!==o&&(o===ae||!J4(i,s,r))?Ci(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):Ci(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:l,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:y}=Rv(n,i,s);if(!l)return Ci(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>dN&&(this.allowRedirects=!1));let g=new Li(s,u,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,fv(i),T2(i),i.component??i._loadedComponent??null,i,dv(i)),E=K4(g,c,this.paramsInheritanceStrategy);g.params=Object.freeze(E.params),g.data=Object.freeze(E.data);let D=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,g,e);return this.applyRedirects.lineralizeSegments(i,D).pipe(it(T=>this.processSegment(e,r,n,T.concat(y),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=iN(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(_2(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(_2(({routes:u})=>{let d=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:g}=l,E=new Li(y,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,fv(r),T2(r),r.component??r._loadedComponent??null,r,dv(r)),D=K4(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(D.params),E.data=Object.freeze(D.data);let{segmentGroup:T,slicedSegments:V}=uv(n,y,g,u);if(V.length===0&&T.hasChildren())return this.processChildren(d,u,T,E).pipe(oe(K=>new Zt(E,K)));if(u.length===0&&V.length===0)return se(new Zt(E,[]));let G=T2(r)===s;return this.processSegment(d,u,T,V,G?ae:s,!0,E).pipe(oe(K=>new Zt(E,K instanceof Zt?[K]:[])))}))):Ci(n)))}getChildConfig(e,n,r){return n.children?se({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?se({routes:n._loadedRoutes,injector:n._loadedInjector}):eN(e,n,r,this.urlSerializer).pipe(it(i=>i?this.configLoader.loadChildren(e,n).pipe(ut(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):rN(n))):se({routes:[],injector:e})}};function hN(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}function pN(t){let e=t.value.routeConfig;return e&&e.path===""}function Pv(t){let e=[],n=new Set;for(let r of t){if(!pN(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Pv(r.children);e.push(new Zt(r.value,i))}return e.filter(r=>!n.has(r))}function fv(t){return t.data||{}}function dv(t){return t.resolve||{}}function mN(t,e,n,r,i,s){return it(o=>fN(t,e,n,r,o.extractedUrl,i,s).pipe(oe(({state:c,tree:l})=>ee(O({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function gN(t,e){return it(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return se(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of Ov(l))o.add(u);let c=0;return Oe(o).pipe(Qr(l=>s.has(l)?yN(l,r,t,e):(l.data=K4(l,l.parent,t).resolve,se(void 0))),ut(()=>c++),Yr(1),it(l=>c===o.size?se(n):Rt))})}function Ov(t){let e=t.children.map(n=>Ov(n)).flat();return[t,...e]}function yN(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Dv(i)&&(s[Ao]=i.title),vN(s,t,e,r).pipe(oe(o=>(t._resolvedData=o,t.data=K4(t,t.parent,n).resolve,null)))}function vN(t,e,n,r){let i=Au(t);if(i.length===0)return se({});let s={};return Oe(i).pipe(it(o=>CN(t[o],e,n,r).pipe(un(),ut(c=>{if(c instanceof So)throw Y4(new Lo,c);s[o]=c}))),Yr(1),oe(()=>s),Wn(o=>Nv(o)?Rt:Wr(o)))}function CN(t,e,n,r){let i=xo(e)??r,s=zi(t,i),o=s.resolve?s.resolve(e,n):St(i,()=>s(e,n));return f1(o)}function Du(t){return _2(e=>{let n=t(e);return n?Oe(n).pipe(oe(()=>e)):se(e)})}var Fv=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[Ao]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>A(MN),providedIn:"root"})}return t})(),MN=(()=>{class t extends Fv{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ce(iv))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),c5=new Q("",{providedIn:"root",factory:()=>({})}),_N=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ae({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ve(0,"router-outlet")},dependencies:[s5],encapsulation:2})}return t})();function a5(t){let e=t.children&&t.children.map(a5),n=e?ee(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=_N),n}var l5=new Q(""),LN=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=A(au);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return se(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=f1(n.loadComponent()).pipe(oe(Vv),ut(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Us(()=>{this.componentLoaders.delete(n)})),i=new Hr(r,()=>new rt).pipe(Ur());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=wN(r,this.compiler,n,this.onLoadEndListener).pipe(Us(()=>{this.childrenLoaders.delete(r)})),o=new Hr(s,()=>new rt).pipe(Ur());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wN(t,e,n,r){return f1(t.loadChildren()).pipe(oe(Vv),it(i=>i instanceof to||Array.isArray(i)?se(i):Oe(e.compileModuleAsync(i))),oe(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(l5,[],{optional:!0,self:!0}).flat()),{routes:o.map(a5),injector:s}}))}function bN(t){return t&&typeof t=="object"&&"default"in t}function Vv(t){return bN(t)?t.default:t}var u5=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>A(EN),providedIn:"root"})}return t})(),EN=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),IN=new Q("");var zN=new Q(""),SN=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new rt;transitionAbortSubject=new rt;configLoader=A(LN);environmentInjector=A(Vt);destroyRef=A(X1);urlSerializer=A(r5);rootContexts=A(X4);location=A(ho);inputBindingEnabled=A(o5,{optional:!0})!==null;titleStrategy=A(Fv);options=A(c5,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=A(u5);createViewTransition=A(IN,{optional:!0});navigationErrorHandler=A(zN,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>se(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Bu(i)),r=i=>this.events.next(new ju(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ee(O(O({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new lt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Mo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(r2(s=>s.id!==0),oe(s=>ee(O({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),_2(s=>{let o=!1,c=!1;return se(s).pipe(_2(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Xt.SupersededByNewNavigation),Rt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ee(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let p="";return this.events.next(new ir(l.id,this.urlSerializer.serialize(l.rawUrl),p,Ru.IgnoredSameUrlNavigation)),l.resolve(!1),Rt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return se(l).pipe(_2(p=>{let y=this.transitions?.getValue();return this.events.next(new bo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?Rt:Promise.resolve(p)}),mN(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ut(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ee(O({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new q4(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:y,source:g,restoredState:E,extras:D}=l,T=new bo(p,this.urlSerializer.serialize(y),g,E);this.events.next(T);let V=zv(this.rootComponentType).snapshot;return this.currentTransition=s=ee(O({},l),{targetSnapshot:V,urlAfterRedirects:y,extras:ee(O({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,se(s)}else{let p="";return this.events.next(new ir(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Ru.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Rt}}),ut(l=>{let u=new Pu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),oe(l=>(this.currentTransition=s=ee(O({},l),{guards:Rx(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Gx(this.environmentInjector,l=>this.events.next(l)),ut(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Y4(this.urlSerializer,l.guardsResult);let u=new Ou(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),r2(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Xt.GuardRejected),!1)),Du(l=>{if(l.guards.canActivateChecks.length)return se(l).pipe(ut(u=>{let d=new Fu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),_2(u=>{let d=!1;return se(u).pipe(gN(this.paramsInheritanceStrategy,this.environmentInjector),ut({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Xt.NoDataFromResolver)}}))}),ut(u=>{let d=new Vu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Du(l=>{let u=d=>{let p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(ut(y=>{d.component=y}),oe(()=>{})));for(let y of d.children)p.push(...u(y));return p};return _c(u(l.targetSnapshot.root)).pipe(Kn(null),ln(1))}),Du(()=>this.afterPreactivation()),_2(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Oe(d).pipe(oe(()=>s)):se(s)}),oe(l=>{let u=Tx(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ee(O({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ut(()=>{this.events.next(new Io)}),kx(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ln(1),ut({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new u1(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),X6(this.transitionAbortSubject.pipe(ut(l=>{throw l}))),Us(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wn(l=>{if(this.destroyed)return s.resolve(!1),Rt;if(c=!0,xv(l))this.events.next(new wn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),Nx(l)?this.events.next(new Ei(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Eo(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let d=St(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof So){let{message:p,cancellationCode:y}=Y4(this.urlSerializer,d);this.events.next(new wn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,y)),this.events.next(new Ei(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(u),l}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Rt}))}))}cancelNavigationTransition(n,r,i){let s=new wn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DN(t){return t!==Mo}var TN=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>A(AN),providedIn:"root"})}return t})(),n5=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},AN=(()=>{class t extends n5{static \u0275fac=(()=>{let n;return function(i){return(n||(n=S2(t)))(i||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>A(xN),providedIn:"root"})}return t})(),xN=(()=>{class t extends Bv{location=A(ho);urlSerializer=A(r5);options=A(c5,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=A(u5);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new bn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=zv(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof bo)this.stateMemento=this.createStateMemento();else if(n instanceof ir)this.rawUrlTree=r.initialUrl;else if(n instanceof q4){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Io?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof wn&&(n.code===Xt.GuardRejected||n.code===Xt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Eo?this.restoreHistory(r,!0):n instanceof u1&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof bn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=O(O({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=O(O({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=S2(t)))(i||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NN(t,e){t.events.pipe(r2(n=>n instanceof u1||n instanceof wn||n instanceof Eo||n instanceof ir),oe(n=>n instanceof u1||n instanceof ir?0:(n instanceof wn?n.code===Xt.Redirect||n.code===Xt.SupersededByNewNavigation:!1)?2:1),r2(n=>n!==2),ln(1)).subscribe(()=>{e()})}var kN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},En=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=A(eu);stateManager=A(Bv);options=A(c5,{optional:!0})||{};pendingTasks=A(i1);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=A(SN);urlSerializer=A(r5);location=A(ho);urlHandlingStrategy=A(u5);_events=new rt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=A(TN);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=A(l5,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!A(o5,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new qe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof wn&&r.code!==Xt.Redirect&&r.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof u1)this.navigated=!0;else if(r instanceof Ei){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||DN(i.source)},o);this.scheduleNavigation(c,Mo,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ON(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=O({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(a5),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=O(O({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=wv(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return bv(p,n,d,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=rr(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Mo,null,r)}navigate(n,r={skipLocationChange:!1}){return PN(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=O({},kN):r===!1?i=O({},RN):i=r,rr(n))return ov(this.currentUrlTree,n,i);let s=this.parseUrl(n);return ov(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,l,u;o?(c=o.resolve,l=o.reject,u=o.promise):u=new Promise((p,y)=>{c=p,l=y});let d=this.pendingTasks.add();return NN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function ON(t){return!(t instanceof Io)&&!(t instanceof Ei)}var e3=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new rt;constructor(n,r,i,s,o,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof u1&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(rr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:_g(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:rr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(Y(En),Y(A2),D8("tabindex"),Y(l2),Y(Kt),Y(yi))};static \u0275dir=Ne({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&de("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&c1("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",a1],skipLocationChange:[2,"skipLocationChange","skipLocationChange",a1],replaceUrl:[2,"replaceUrl","replaceUrl",a1],routerLink:"routerLink"},features:[z2]})}return t})();var FN=new Q("");function jv(t,...e){return n1([{provide:l5,multi:!0,useValue:t},[],{provide:A2,useFactory:VN,deps:[En]},{provide:nu,multi:!0,useFactory:BN},e.map(n=>n.\u0275providers)])}function VN(t){return t.routerState.root}function BN(){let t=A(st);return e=>{let n=t.get(e1);if(e!==n.components[0])return;let r=t.get(En),i=t.get(jN);t.get(UN)===1&&r.initialNavigation(),t.get(HN,null,ue.Optional)?.setUpPreloading(),t.get(FN,null,ue.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var jN=new Q("",{factory:()=>new rt}),UN=new Q("",{providedIn:"root",factory:()=>1});var HN=new Q("");var Uv=()=>{};var $v=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$N=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},t3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,p=(s&3)<<4|c>>4,y=(c&15)<<2|u>>6,g=u&63;l||(g=64,o||(y=64)),r.push(n[d],n[p],n[y],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($v(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$N(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||u==null||p==null)throw new d5;let y=s<<2|c>>4;if(r.push(y),u!==64){let g=c<<4&240|u>>2;if(r.push(g),p!==64){let E=u<<6&192|p;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},d5=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},qN=function(t){let e=$v(t);return t3.encodeByteArray(e,!0)},ko=function(t){return qN(t).replace(/\./g,"")},n3=function(t){try{return t3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var GN=()=>qv().__FIREBASE_DEFAULTS__,WN=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&n3(t[1]);return e&&JSON.parse(e)},r3=()=>{try{return Uv()||GN()||WN()||KN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gv=t=>{var e,n;return(n=(e=r3())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Wv=t=>{let e=Gv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},p5=()=>{var t;return(t=r3())===null||t===void 0?void 0:t.config},Kv=t=>{var e;return(e=r3())===null||e===void 0?void 0:e[`_${t}`]};var sr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Qv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ko(JSON.stringify(n)),ko(JSON.stringify(o)),""].join(".")}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function QN(){var t;let e=(t=r3())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zv(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xv(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Jv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eC(){return!QN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ro(){try{return typeof indexedDB=="object"}catch{return!1}}function tC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var YN="FirebaseError",g2=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YN,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x2.prototype.create)}},x2=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZN(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new g2(i,c,r)}};function ZN(t,e){return t.replace(XN,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var XN=/\{\$([^}]+)}/g;function or(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Hv(s)&&Hv(o)){if(!or(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Hv(t){return t!==null&&typeof t=="object"}function m5(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nC(t,e){let n=new h5(t,e);return n.subscribe.bind(n)}var h5=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=f5),i.error===void 0&&(i.error=f5),i.complete===void 0&&(i.complete=f5);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function JN(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function f5(){}var PY=4*60*60*1e3;function qt(t){return t&&t._delegate?t._delegate:t}var xt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var cr="[DEFAULT]";var g5=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new sr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tk(e))try{this.getOrInitializeService({instanceIdentifier:cr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=cr){return this.instances.has(e)}getOptions(e=cr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ek(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cr){return this.component?this.component.multipleInstances?e:cr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ek(t){return t===cr?void 0:t}function tk(t){return t.instantiationMode==="EAGER"}var i3=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new g5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var nk=[],he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{}),rk={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},ik=he.INFO,sk={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},ok=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=sk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},W2=class{constructor(e){this.name=e,this._logLevel=ik,this._logHandler=ok,this._userLogHandler=null,nk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var ck=(t,e)=>e.some(n=>t instanceof n),rC,iC;function ak(){return rC||(rC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lk(){return iC||(iC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var sC=new WeakMap,v5=new WeakMap,oC=new WeakMap,y5=new WeakMap,M5=new WeakMap;function uk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(K2(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sC.set(n,t)}).catch(()=>{}),M5.set(e,t),e}function fk(t){if(v5.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});v5.set(t,e)}var C5={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return v5.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return K2(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cC(t){C5=t(C5)}function dk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(s3(this),e,...n);return oC.set(r,e.sort?e.sort():[e]),K2(r)}:lk().includes(t)?function(...e){return t.apply(s3(this),e),K2(sC.get(this))}:function(...e){return K2(t.apply(s3(this),e))}}function hk(t){return typeof t=="function"?dk(t):(t instanceof IDBTransaction&&fk(t),ck(t,ak())?new Proxy(t,C5):t)}function K2(t){if(t instanceof IDBRequest)return uk(t);if(y5.has(t))return y5.get(t);let e=hk(t);return e!==t&&(y5.set(t,e),M5.set(e,t)),e}var s3=t=>M5.get(t);function lC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=K2(o);return r&&o.addEventListener("upgradeneeded",l=>{r(K2(o.result),l.oldVersion,l.newVersion,K2(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var pk=["get","getKey","getAll","getAllKeys","count"],mk=["put","add","delete","clear"],_5=new Map;function aC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_5.get(e))return _5.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=mk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pk.includes(n)))return;let s=function(o,...c){return I(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]})};return _5.set(e,s),s}cC(t=>ee(O({},t),{get:(e,n,r)=>aC(e,n)||t.get(e,n,r),has:(e,n)=>!!aC(e,n)||t.has(e,n)}));var w5=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function gk(t){let e=t.getComponent();return e?.type==="VERSION"}var b5="@firebase/app",uC="0.11.2";var In=new W2("@firebase/app"),yk="@firebase/app-compat",vk="@firebase/analytics-compat",Ck="@firebase/analytics",Mk="@firebase/app-check-compat",_k="@firebase/app-check",Lk="@firebase/auth",wk="@firebase/auth-compat",bk="@firebase/database",Ek="@firebase/data-connect",Ik="@firebase/database-compat",zk="@firebase/functions",Sk="@firebase/functions-compat",Dk="@firebase/installations",Tk="@firebase/installations-compat",Ak="@firebase/messaging",xk="@firebase/messaging-compat",Nk="@firebase/performance",kk="@firebase/performance-compat",Rk="@firebase/remote-config",Pk="@firebase/remote-config-compat",Ok="@firebase/storage",Fk="@firebase/storage-compat",Vk="@firebase/firestore",Bk="@firebase/vertexai",jk="@firebase/firestore-compat",Uk="firebase",Hk="11.4.0";var E5="[DEFAULT]",$k={[b5]:"fire-core",[yk]:"fire-core-compat",[Ck]:"fire-analytics",[vk]:"fire-analytics-compat",[_k]:"fire-app-check",[Mk]:"fire-app-check-compat",[Lk]:"fire-auth",[wk]:"fire-auth-compat",[bk]:"fire-rtdb",[Ek]:"fire-data-connect",[Ik]:"fire-rtdb-compat",[zk]:"fire-fn",[Sk]:"fire-fn-compat",[Dk]:"fire-iid",[Tk]:"fire-iid-compat",[Ak]:"fire-fcm",[xk]:"fire-fcm-compat",[Nk]:"fire-perf",[kk]:"fire-perf-compat",[Rk]:"fire-rc",[Pk]:"fire-rc-compat",[Ok]:"fire-gcs",[Fk]:"fire-gcs-compat",[Vk]:"fire-fst",[jk]:"fire-fst-compat",[Bk]:"fire-vertex","fire-js":"fire-js",[Uk]:"fire-js-all"};var Po=new Map,qk=new Map,I5=new Map;function fC(t,e){try{t.container.addComponent(e)}catch(n){In.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function N2(t){let e=t.name;if(I5.has(e))return In.debug(`There were multiple attempts to register component ${e}.`),!1;I5.set(e,t);for(let n of Po.values())fC(n,t);for(let n of qk.values())fC(n,t);return!0}function o3(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zn(t){return t==null?!1:t.settings!==void 0}var Gk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},d1=new x2("app","Firebase",Gk);var z5=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw d1.create("app-deleted",{appName:this._name})}};var Si=Hk;function T5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:E5,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw d1.create("bad-app-name",{appName:String(i)});if(n||(n=p5()),!n)throw d1.create("no-options");let s=Po.get(i);if(s){if(or(n,s.options)&&or(r,s.config))return s;throw d1.create("duplicate-app",{appName:i})}let o=new i3(i);for(let l of I5.values())o.addComponent(l);let c=new z5(n,r,o);return Po.set(i,c),c}function Di(t=E5){let e=Po.get(t);if(!e&&t===E5&&p5())return T5();if(!e)throw d1.create("no-app",{appName:t});return e}function c3(){return Array.from(Po.values())}function Qe(t,e,n){var r;let i=(r=$k[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),In.warn(c.join(" "));return}N2(new xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Wk="firebase-heartbeat-database",Kk=1,Oo="firebase-heartbeat-store",L5=null;function mC(){return L5||(L5=lC(Wk,Kk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oo)}catch(n){console.warn(n)}}}}).catch(t=>{throw d1.create("idb-open",{originalErrorMessage:t.message})})),L5}function Qk(t){return I(this,null,function*(){try{let n=(yield mC()).transaction(Oo),r=yield n.objectStore(Oo).get(gC(t));return yield n.done,r}catch(e){if(e instanceof g2)In.warn(e.message);else{let n=d1.create("idb-get",{originalErrorMessage:e?.message});In.warn(n.message)}}})}function dC(t,e){return I(this,null,function*(){try{let r=(yield mC()).transaction(Oo,"readwrite");yield r.objectStore(Oo).put(e,gC(t)),yield r.done}catch(n){if(n instanceof g2)In.warn(n.message);else{let r=d1.create("idb-set",{originalErrorMessage:n?.message});In.warn(r.message)}}})}function gC(t){return`${t.name}!${t.options.appId}`}var Yk=1024,Zk=30,S5=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new D5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Zk){let o=Jk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){In.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=hC(),{heartbeatsToSend:r,unsentEntries:i}=Xk(this._heartbeatsCache.heartbeats),s=ko(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return In.warn(n),""}})}};function hC(){return new Date().toISOString().substring(0,10)}function Xk(t,e=Yk){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var D5=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Ro()?tC().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Qk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return dC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function pC(t){return ko(JSON.stringify({version:2,heartbeats:t})).length}function Jk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function eR(t){N2(new xt("platform-logger",e=>new w5(e),"PRIVATE")),N2(new xt("heartbeat",e=>new S5(e),"PRIVATE")),Qe(b5,uC,t),Qe(b5,uC,"esm2017"),Qe("fire-js","")}eR("");var tR="firebase",nR="11.4.0";Qe(tR,nR,"app");function A5(t){t===void 0&&(d4(A5),t=A(st));let e=t.get(C4);return n=>new le(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let c=n.subscribe({next:l=>{r.next(l),o()},complete:()=>{r.complete(),o()},error:l=>{r.error(l),o()}});return c.add(()=>{r.unsubscribe(),o()}),c})}var lr=new mn("ANGULARFIRE2_VERSION");function l3(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ai=(t,e)=>{let n=e?[e]:c3(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ti=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Ti||{}),yC=uu()&&typeof Zone<"u"?Ti.WARN:Ti.SILENT;var a3=class{zone;delegate;constructor(e,n=G6){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,n,r)}},ur=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=A(De);this.outsideAngular=n.runOutsideAngular(()=>new a3(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new a3(typeof Zone>"u"?void 0:Zone.current,q6))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vC=!1;function rR(t,e){!vC&&(yC>Ti.SILENT||uu())&&(vC=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),yC>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function iR(t){let e=A(De,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function ar(t){let e=A(De,{optional:!0});return e?e.run(()=>t()):t()}var sR=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),St(n,()=>ar(()=>t.apply(void 0,r)))),Nt=(t,e,n)=>(n||=e?Ti.WARN:Ti.VERBOSE,function(){let r,i=arguments,s,o,c;try{s=A(ur),o=A(C4),c=A(Vt)}catch{return rR(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=ar(()=>o.add())),i[u]=sR(i[u],r,c));let l=iR(()=>t.apply(this,i));return e?l instanceof le?l.pipe(Gn(s.outsideAngular),qn(s.insideAngular),A5(c)):l instanceof Promise?ar(()=>new Promise((u,d)=>{o.run(()=>l).then(p=>St(c,()=>ar(()=>u(p))),p=>St(c,()=>ar(()=>d(p))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:ar(()=>l):l instanceof le?l.pipe(Gn(s.outsideAngular),qn(s.insideAngular)):ar(()=>l)});var fr=class{constructor(e){return e}},Fo=class{constructor(){return c3()}};function oR(t){return t&&t.length===1?t[0]:new fr(Di())}var x5=new Q("angularfire2._apps"),cR={provide:fr,useFactory:oR,deps:[[new H2,x5]]},aR={provide:Fo,deps:[[new H2,x5]]};function lR(t){return(e,n)=>{let r=n.get(J1);Qe("angularfire",lr.full,"core"),Qe("angularfire",lr.full,"app"),Qe("angular",zy.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new fr(i)}}function CC(t,...e){return n1([cR,aR,{provide:x5,useFactory:lR(t),multi:!0,deps:[De,st,ur,...e]}])}var MC=Nt(T5,!0);var uR=new Map,fR={activated:!1,tokenObservers:[]},dR={initialized:!1,enabled:!1};function k2(t){return uR.get(t)||Object.assign({},fR)}function bC(){return dR}var hR="https://content-firebaseappcheck.googleapis.com/v1";var pR="exchangeDebugToken",_C={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},VZ=24*60*60*1e3;var R5=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return I(this,null,function*(){this.stop();try{this.pending=new sr,this.pending.promise.catch(n=>{}),yield mR(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new sr,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function mR(t){return new Promise(e=>{setTimeout(e,t)})}var gR={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},h1=new x2("appCheck","AppCheck",gR);function EC(t){if(!k2(t).activated)throw h1.create("use-before-activation",{appName:t.name})}function IC(r,i){return I(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let g=yield o.getHeartbeatsHeader();g&&(s["X-Firebase-Client"]=g)}let c={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(t,c)}catch(g){throw h1.create("fetch-network-error",{originalErrorMessage:g?.message})}if(l.status!==200)throw h1.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(g){throw h1.create("fetch-parse-error",{originalErrorMessage:g?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw h1.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(d[1])*1e3,y=Date.now();return{token:u.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function zC(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${hR}/projects/${n}/apps/${r}:${pR}?key=${i}`,body:{debug_token:e}}}var yR="firebase-app-check-database",vR=1,P5="firebase-app-check-store";var u3=null;function CR(){return u3||(u3=new Promise((t,e)=>{try{let n=indexedDB.open(yR,vR);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(h1.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(P5,{keyPath:"compositeKey"})}}}catch(n){e(h1.create("storage-open",{originalErrorMessage:n?.message}))}}),u3)}function MR(t,e){return _R(LR(t),e)}function _R(t,e){return I(this,null,function*(){let r=(yield CR()).transaction(P5,"readwrite"),s=r.objectStore(P5).put({compositeKey:t,value:e});return new Promise((o,c)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;c(h1.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function LR(t){return`${t.options.appId}-${t.name}`}var Vo=new W2("@firebase/app-check");function N5(t,e){return Ro()?MR(t,e).catch(n=>{Vo.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function SC(){return bC().enabled}function DC(){return I(this,null,function*(){let t=bC();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var wR={error:"UNKNOWN_ERROR"};function bR(t){return t3.encodeString(JSON.stringify(t),!1)}function O5(t,e=!1){return I(this,null,function*(){let n=t.app;EC(n);let r=k2(n),i=r.token,s;if(i&&!Bo(i)&&(r.token=void 0,i=void 0),!i){let l=yield r.cachedTokenPromise;l&&(Bo(l)?i=l:yield N5(n,void 0))}if(!e&&i&&Bo(i))return{token:i.token};let o=!1;if(SC())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=IC(zC(n,yield DC()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let l=yield r.exchangeTokenPromise;return yield N5(n,l),r.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"?Vo.warn(l.message):Vo.error(l),k5(l)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield k2(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Vo.warn(l.message):Vo.error(l),s=l}let c;return i?s?Bo(i)?c={token:i.token,internalError:s}:c=k5(s):(c={token:i.token},r.token=i,yield N5(n,i)):c=k5(s),o&&SR(n,c),c})}function ER(t){return I(this,null,function*(){let e=t.app;EC(e);let{provider:n}=k2(e);if(SC()){let r=yield DC(),{token:i}=yield IC(zC(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function IR(t,e,n,r){let{app:i}=t,s=k2(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Bo(s.token)){let c=s.token;Promise.resolve().then(()=>{n({token:c.token}),LC(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>LC(t))}function TC(t,e){let n=k2(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function LC(t){let{app:e}=t,n=k2(e),r=n.tokenRefresher;r||(r=zR(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function zR(t){let{app:e}=t;return new R5(()=>I(this,null,function*(){let n=k2(e),r;if(n.token?r=yield O5(t,!0):r=yield O5(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=k2(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},_C.RETRIAL_MIN_WAIT,_C.RETRIAL_MAX_WAIT)}function SR(t,e){let n=k2(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Bo(t){return t.expireTimeMillis-Date.now()>0}function k5(t){return{token:bR(wR),error:t}}var F5=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=k2(this.app);for(let n of e)TC(this.app,n.next);return Promise.resolve()}};function DR(t,e){return new F5(t,e)}function TR(t){return{getToken:e=>O5(t,e),getLimitedUseToken:()=>ER(t),addTokenListener:e=>IR(t,"INTERNAL",e),removeTokenListener:e=>TC(t.app,e)}}var AR="@firebase/app-check",xR="0.8.12";var NR="app-check",wC="app-check-internal";function kR(){N2(new xt(NR,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return DR(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(wC).initialize()})),N2(new xt(wC,t=>{let e=t.getProvider("app-check").getImmediate();return TR(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Qe(AR,xR)}kR();var RR="app-check";var f3=class{constructor(){return Ai(RR)}};var PR=["localhost","0.0.0.0","127.0.0.1"],XZ=typeof window<"u"&&PR.includes(window.location.hostname);function FC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var VC=FC,BC=new x2("auth","Firebase",FC());var m3=new W2("@firebase/auth");function FR(t,...e){m3.logLevel<=he.WARN&&m3.warn(`Auth (${Si}): ${t}`,...e)}function h3(t,...e){m3.logLevel<=he.ERROR&&m3.error(`Auth (${Si}): ${t}`,...e)}function AC(t,...e){throw Y5(t,...e)}function Q5(t,...e){return Y5(t,...e)}function jC(t,e,n){let r=Object.assign(Object.assign({},VC()),{[e]:n});return new x2("auth","Firebase",r).create(e,{appName:t.name})}function p3(t){return jC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y5(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BC.create(t,...e)}function Ee(t,e,...n){if(!t)throw Y5(e,...n)}function jo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw h3(e),new Error(e)}function g3(t,e){t||jo(e)}function VR(){return xC()==="http:"||xC()==="https:"}function xC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function BR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VR()||Xv()||"connection"in navigator)?navigator.onLine:!0}function jR(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var hr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,g3(n>e,"Short delay should be less than long delay!"),this.isMobile=Yv()||Jv()}get(){return BR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function UR(t,e){g3(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var y3=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var HR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var $R=new hr(3e4,6e4);function UC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function _3(s,o,c,l){return I(this,arguments,function*(t,e,n,r,i={}){return HC(t,i,()=>I(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let p=m5(Object.assign({key:t.config.apiKey},d)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let g=Object.assign({method:e,headers:y},u);return Zv()||(g.referrerPolicy="no-referrer"),y3.fetch()($C(t,t.config.apiHost,n,p),g)}))})}function HC(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},HR),e);try{let i=new j5(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw d3(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw d3(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw d3(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw d3(t,"user-disabled",o);let d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw jC(t,d,u);AC(t,d)}}catch(i){if(i instanceof g2)throw i;AC(t,"network-request-failed",{message:String(i)})}})}function $C(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?UR(t.config,i):`${t.config.apiScheme}://${i}`}var j5=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Q5(this.auth,"network-request-failed")),$R.get())})}};function d3(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Q5(t,e,r);return i.customData._tokenResponse=n,i}function qR(t,e){return I(this,null,function*(){return _3(t,"POST","/v1/accounts:delete",e)})}function qC(t,e){return I(this,null,function*(){return _3(t,"POST","/v1/accounts:lookup",e)})}function Uo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Z5(t,e=!1){return I(this,null,function*(){let n=qt(t),r=yield n.getIdToken(e),i=GC(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Uo(V5(i.auth_time)),issuedAtTime:Uo(V5(i.iat)),expirationTime:Uo(V5(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function V5(t){return Number(t)*1e3}function GC(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return h3("JWT malformed, contained fewer than 3 sections"),null;try{let i=n3(n);return i?JSON.parse(i):(h3("Failed to decode base64 JWT payload"),null)}catch(i){return h3("Caught error parsing JWT payload as JSON",i?.toString()),null}}function NC(t){let e=GC(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function U5(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof g2&&GR(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function GR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var H5=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var $o=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uo(this.lastLoginAt),this.creationTime=Uo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function v3(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield U5(t,qC(n,{idToken:r}));Ee(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?WC(s.providerUserInfo):[],c=WR(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!c?.length,d=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new $o(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)})}function X5(t){return I(this,null,function*(){let e=qt(t);yield v3(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function WR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WC(t){return t.map(e=>{var{providerId:n}=e,r=W6(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function KR(t,e){return I(this,null,function*(){let n=yield HC(t,{},()=>I(this,null,function*(){let r=m5({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=$C(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",y3.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function QR(t,e){return I(this,null,function*(){return _3(t,"POST","/v2/accounts:revokeToken",UC(t,e))})}var Ho=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let n=NC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield KR(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return jo("not implemented")}};function p1(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var qo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=W6(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $o(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield U5(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Z5(this,e)}reload(){return X5(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield v3(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(zn(this.auth.app))return Promise.reject(p3(this.auth));let e=yield this.getIdToken();return yield U5(this,qR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,l,u,d;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,D=(c=n.tenantId)!==null&&c!==void 0?c:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,V=(u=n.createdAt)!==null&&u!==void 0?u:void 0,G=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:K,emailVerified:Le,isAnonymous:He,providerData:be,stsTokenManager:L}=n;Ee(K&&L,e,"internal-error");let v=Ho.fromJSON(this.name,L);Ee(typeof K=="string",e,"internal-error"),p1(p,e.name),p1(y,e.name),Ee(typeof Le=="boolean",e,"internal-error"),Ee(typeof He=="boolean",e,"internal-error"),p1(g,e.name),p1(E,e.name),p1(D,e.name),p1(T,e.name),p1(V,e.name),p1(G,e.name);let M=new t({uid:K,auth:e,email:y,emailVerified:Le,displayName:p,isAnonymous:He,photoURL:E,phoneNumber:g,tenantId:D,stsTokenManager:v,createdAt:V,lastLoginAt:G});return be&&Array.isArray(be)&&(M.providerData=be.map(_=>Object.assign({},_))),T&&(M._redirectEventId=T),M}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new Ho;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield v3(s),s})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];Ee(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?WC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ho;c.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $o(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,u),l})}};var kC=new Map;function dr(t){g3(t instanceof Function,"Expected a class definition");let e=kC.get(t);return e?(g3(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kC.set(t,e),e)}var YR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),$5=YR;function B5(t,e,n){return`firebase:${t}:${e}:${n}`}var C3=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=B5(this.userKey,i.apiKey,s),this.fullPersistenceKey=B5("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?qo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(dr($5),e,r);let i=(yield Promise.all(n.map(u=>I(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||dr($5),o=B5(r,e.config.apiKey,e.name),c=null;for(let u of n)try{let d=yield u._get(o);if(d){let p=qo._fromJSON(e,d);u!==s&&(c=p),s=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(u=>I(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function RC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nP(e))return"Blackberry";if(rP(e))return"Webos";if(XR(e))return"Safari";if((e.includes("chrome/")||JR(e))&&!e.includes("edge/"))return"Chrome";if(tP(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ZR(t=Jt()){return/firefox\//i.test(t)}function XR(t=Jt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JR(t=Jt()){return/crios\//i.test(t)}function eP(t=Jt()){return/iemobile/i.test(t)}function tP(t=Jt()){return/android/i.test(t)}function nP(t=Jt()){return/blackberry/i.test(t)}function rP(t=Jt()){return/webos/i.test(t)}function KC(t,e=[]){let n;switch(t){case"Browser":n=RC(Jt());break;case"Worker":n=`${RC(Jt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Si}/${r}`}var q5=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let l=e(s);o(l)}catch(l){c(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function iP(n){return I(this,arguments,function*(t,e={}){return _3(t,"GET","/v2/passwordPolicy",UC(t,e))})}var sP=6,G5=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:sP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var W5=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M3(this),this.idTokenSubscription=new M3(this),this.beforeStateQueue=new q5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield C3.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield qC(this,{idToken:e}),r=yield qo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(zn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield v3(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=jR()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(zn(this.app))return Promise.reject(p3(this));let n=e?qt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return zn(this.app)?Promise.reject(p3(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return zn(this.app)?Promise.reject(p3(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(dr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield iP(this),n=new G5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new x2("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield QR(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&dr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=yield C3.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&FR(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function oP(t){return qt(t)}var M3=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=nC(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var cP={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aP(t){cP=t}function lP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function uP(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var uX=lP("rcb"),fX=new hr(3e4,6e4);var dX=new hr(2e3,1e4);var hX=10*60*1e3;var pX=new hr(3e4,6e4);var mX=new hr(5e3,15e3);var gX=encodeURIComponent("fac");var PC="@firebase/auth",OC="1.9.1";var K5=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function fP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dP(t){N2(new xt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KC(t)},u=new W5(r,i,s,l);return uP(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),N2(new xt("auth-internal",e=>{let n=oP(e.getProvider("auth").getImmediate());return(r=>new K5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(PC,OC,fP(t)),Qe(PC,OC,"esm2017")}var hP=5*60,yX=Kv("authIdTokenMaxAge")||hP;function pP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aP({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Q5("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",pP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dP("Browser");var dO="auth";var L3=class{constructor(){return Ai(dO)}};var QC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},YC={};var Sn,J5;(function(){var t;function e(L,v){function M(){}M.prototype=v.prototype,L.D=v.prototype,L.prototype=new M,L.prototype.constructor=L,L.C=function(_,w,z){for(var C=Array(arguments.length-2),sn=2;sn<arguments.length;sn++)C[sn-2]=arguments[sn];return v.prototype[w].apply(_,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,v,M){M||(M=0);var _=Array(16);if(typeof v=="string")for(var w=0;16>w;++w)_[w]=v.charCodeAt(M++)|v.charCodeAt(M++)<<8|v.charCodeAt(M++)<<16|v.charCodeAt(M++)<<24;else for(w=0;16>w;++w)_[w]=v[M++]|v[M++]<<8|v[M++]<<16|v[M++]<<24;v=L.g[0],M=L.g[1],w=L.g[2];var z=L.g[3],C=v+(z^M&(w^z))+_[0]+3614090360&4294967295;v=M+(C<<7&4294967295|C>>>25),C=z+(w^v&(M^w))+_[1]+3905402710&4294967295,z=v+(C<<12&4294967295|C>>>20),C=w+(M^z&(v^M))+_[2]+606105819&4294967295,w=z+(C<<17&4294967295|C>>>15),C=M+(v^w&(z^v))+_[3]+3250441966&4294967295,M=w+(C<<22&4294967295|C>>>10),C=v+(z^M&(w^z))+_[4]+4118548399&4294967295,v=M+(C<<7&4294967295|C>>>25),C=z+(w^v&(M^w))+_[5]+1200080426&4294967295,z=v+(C<<12&4294967295|C>>>20),C=w+(M^z&(v^M))+_[6]+2821735955&4294967295,w=z+(C<<17&4294967295|C>>>15),C=M+(v^w&(z^v))+_[7]+4249261313&4294967295,M=w+(C<<22&4294967295|C>>>10),C=v+(z^M&(w^z))+_[8]+1770035416&4294967295,v=M+(C<<7&4294967295|C>>>25),C=z+(w^v&(M^w))+_[9]+2336552879&4294967295,z=v+(C<<12&4294967295|C>>>20),C=w+(M^z&(v^M))+_[10]+4294925233&4294967295,w=z+(C<<17&4294967295|C>>>15),C=M+(v^w&(z^v))+_[11]+2304563134&4294967295,M=w+(C<<22&4294967295|C>>>10),C=v+(z^M&(w^z))+_[12]+1804603682&4294967295,v=M+(C<<7&4294967295|C>>>25),C=z+(w^v&(M^w))+_[13]+4254626195&4294967295,z=v+(C<<12&4294967295|C>>>20),C=w+(M^z&(v^M))+_[14]+2792965006&4294967295,w=z+(C<<17&4294967295|C>>>15),C=M+(v^w&(z^v))+_[15]+1236535329&4294967295,M=w+(C<<22&4294967295|C>>>10),C=v+(w^z&(M^w))+_[1]+4129170786&4294967295,v=M+(C<<5&4294967295|C>>>27),C=z+(M^w&(v^M))+_[6]+3225465664&4294967295,z=v+(C<<9&4294967295|C>>>23),C=w+(v^M&(z^v))+_[11]+643717713&4294967295,w=z+(C<<14&4294967295|C>>>18),C=M+(z^v&(w^z))+_[0]+3921069994&4294967295,M=w+(C<<20&4294967295|C>>>12),C=v+(w^z&(M^w))+_[5]+3593408605&4294967295,v=M+(C<<5&4294967295|C>>>27),C=z+(M^w&(v^M))+_[10]+38016083&4294967295,z=v+(C<<9&4294967295|C>>>23),C=w+(v^M&(z^v))+_[15]+3634488961&4294967295,w=z+(C<<14&4294967295|C>>>18),C=M+(z^v&(w^z))+_[4]+3889429448&4294967295,M=w+(C<<20&4294967295|C>>>12),C=v+(w^z&(M^w))+_[9]+568446438&4294967295,v=M+(C<<5&4294967295|C>>>27),C=z+(M^w&(v^M))+_[14]+3275163606&4294967295,z=v+(C<<9&4294967295|C>>>23),C=w+(v^M&(z^v))+_[3]+4107603335&4294967295,w=z+(C<<14&4294967295|C>>>18),C=M+(z^v&(w^z))+_[8]+1163531501&4294967295,M=w+(C<<20&4294967295|C>>>12),C=v+(w^z&(M^w))+_[13]+2850285829&4294967295,v=M+(C<<5&4294967295|C>>>27),C=z+(M^w&(v^M))+_[2]+4243563512&4294967295,z=v+(C<<9&4294967295|C>>>23),C=w+(v^M&(z^v))+_[7]+1735328473&4294967295,w=z+(C<<14&4294967295|C>>>18),C=M+(z^v&(w^z))+_[12]+2368359562&4294967295,M=w+(C<<20&4294967295|C>>>12),C=v+(M^w^z)+_[5]+4294588738&4294967295,v=M+(C<<4&4294967295|C>>>28),C=z+(v^M^w)+_[8]+2272392833&4294967295,z=v+(C<<11&4294967295|C>>>21),C=w+(z^v^M)+_[11]+1839030562&4294967295,w=z+(C<<16&4294967295|C>>>16),C=M+(w^z^v)+_[14]+4259657740&4294967295,M=w+(C<<23&4294967295|C>>>9),C=v+(M^w^z)+_[1]+2763975236&4294967295,v=M+(C<<4&4294967295|C>>>28),C=z+(v^M^w)+_[4]+1272893353&4294967295,z=v+(C<<11&4294967295|C>>>21),C=w+(z^v^M)+_[7]+4139469664&4294967295,w=z+(C<<16&4294967295|C>>>16),C=M+(w^z^v)+_[10]+3200236656&4294967295,M=w+(C<<23&4294967295|C>>>9),C=v+(M^w^z)+_[13]+681279174&4294967295,v=M+(C<<4&4294967295|C>>>28),C=z+(v^M^w)+_[0]+3936430074&4294967295,z=v+(C<<11&4294967295|C>>>21),C=w+(z^v^M)+_[3]+3572445317&4294967295,w=z+(C<<16&4294967295|C>>>16),C=M+(w^z^v)+_[6]+76029189&4294967295,M=w+(C<<23&4294967295|C>>>9),C=v+(M^w^z)+_[9]+3654602809&4294967295,v=M+(C<<4&4294967295|C>>>28),C=z+(v^M^w)+_[12]+3873151461&4294967295,z=v+(C<<11&4294967295|C>>>21),C=w+(z^v^M)+_[15]+530742520&4294967295,w=z+(C<<16&4294967295|C>>>16),C=M+(w^z^v)+_[2]+3299628645&4294967295,M=w+(C<<23&4294967295|C>>>9),C=v+(w^(M|~z))+_[0]+4096336452&4294967295,v=M+(C<<6&4294967295|C>>>26),C=z+(M^(v|~w))+_[7]+1126891415&4294967295,z=v+(C<<10&4294967295|C>>>22),C=w+(v^(z|~M))+_[14]+2878612391&4294967295,w=z+(C<<15&4294967295|C>>>17),C=M+(z^(w|~v))+_[5]+4237533241&4294967295,M=w+(C<<21&4294967295|C>>>11),C=v+(w^(M|~z))+_[12]+1700485571&4294967295,v=M+(C<<6&4294967295|C>>>26),C=z+(M^(v|~w))+_[3]+2399980690&4294967295,z=v+(C<<10&4294967295|C>>>22),C=w+(v^(z|~M))+_[10]+4293915773&4294967295,w=z+(C<<15&4294967295|C>>>17),C=M+(z^(w|~v))+_[1]+2240044497&4294967295,M=w+(C<<21&4294967295|C>>>11),C=v+(w^(M|~z))+_[8]+1873313359&4294967295,v=M+(C<<6&4294967295|C>>>26),C=z+(M^(v|~w))+_[15]+4264355552&4294967295,z=v+(C<<10&4294967295|C>>>22),C=w+(v^(z|~M))+_[6]+2734768916&4294967295,w=z+(C<<15&4294967295|C>>>17),C=M+(z^(w|~v))+_[13]+1309151649&4294967295,M=w+(C<<21&4294967295|C>>>11),C=v+(w^(M|~z))+_[4]+4149444226&4294967295,v=M+(C<<6&4294967295|C>>>26),C=z+(M^(v|~w))+_[11]+3174756917&4294967295,z=v+(C<<10&4294967295|C>>>22),C=w+(v^(z|~M))+_[2]+718787259&4294967295,w=z+(C<<15&4294967295|C>>>17),C=M+(z^(w|~v))+_[9]+3951481745&4294967295,L.g[0]=L.g[0]+v&4294967295,L.g[1]=L.g[1]+(w+(C<<21&4294967295|C>>>11))&4294967295,L.g[2]=L.g[2]+w&4294967295,L.g[3]=L.g[3]+z&4294967295}r.prototype.u=function(L,v){v===void 0&&(v=L.length);for(var M=v-this.blockSize,_=this.B,w=this.h,z=0;z<v;){if(w==0)for(;z<=M;)i(this,L,z),z+=this.blockSize;if(typeof L=="string"){for(;z<v;)if(_[w++]=L.charCodeAt(z++),w==this.blockSize){i(this,_),w=0;break}}else for(;z<v;)if(_[w++]=L[z++],w==this.blockSize){i(this,_),w=0;break}}this.h=w,this.o+=v},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var v=1;v<L.length-8;++v)L[v]=0;var M=8*this.o;for(v=L.length-8;v<L.length;++v)L[v]=M&255,M/=256;for(this.u(L),L=Array(16),v=M=0;4>v;++v)for(var _=0;32>_;_+=8)L[M++]=this.g[v]>>>_&255;return L};function s(L,v){var M=c;return Object.prototype.hasOwnProperty.call(M,L)?M[L]:M[L]=v(L)}function o(L,v){this.h=v;for(var M=[],_=!0,w=L.length-1;0<=w;w--){var z=L[w]|0;_&&z==v||(M[w]=z,_=!1)}this.g=M}var c={};function l(L){return-128<=L&&128>L?s(L,function(v){return new o([v|0],0>v?-1:0)}):new o([L|0],0>L?-1:0)}function u(L){if(isNaN(L)||!isFinite(L))return p;if(0>L)return T(u(-L));for(var v=[],M=1,_=0;L>=M;_++)v[_]=L/M|0,M*=4294967296;return new o(v,0)}function d(L,v){if(L.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(L.charAt(0)=="-")return T(d(L.substring(1),v));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=u(Math.pow(v,8)),_=p,w=0;w<L.length;w+=8){var z=Math.min(8,L.length-w),C=parseInt(L.substring(w,w+z),v);8>z?(z=u(Math.pow(v,z)),_=_.j(z).add(u(C))):(_=_.j(M),_=_.add(u(C)))}return _}var p=l(0),y=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(D(this))return-T(this).m();for(var L=0,v=1,M=0;M<this.g.length;M++){var _=this.i(M);L+=(0<=_?_:4294967296+_)*v,v*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(E(this))return"0";if(D(this))return"-"+T(this).toString(L);for(var v=u(Math.pow(L,6)),M=this,_="";;){var w=Le(M,v).g;M=V(M,w.j(v));var z=((0<M.g.length?M.g[0]:M.h)>>>0).toString(L);if(M=w,E(M))return z+_;for(;6>z.length;)z="0"+z;_=z+_}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function E(L){if(L.h!=0)return!1;for(var v=0;v<L.g.length;v++)if(L.g[v]!=0)return!1;return!0}function D(L){return L.h==-1}t.l=function(L){return L=V(this,L),D(L)?-1:E(L)?0:1};function T(L){for(var v=L.g.length,M=[],_=0;_<v;_++)M[_]=~L.g[_];return new o(M,~L.h).add(y)}t.abs=function(){return D(this)?T(this):this},t.add=function(L){for(var v=Math.max(this.g.length,L.g.length),M=[],_=0,w=0;w<=v;w++){var z=_+(this.i(w)&65535)+(L.i(w)&65535),C=(z>>>16)+(this.i(w)>>>16)+(L.i(w)>>>16);_=C>>>16,z&=65535,C&=65535,M[w]=C<<16|z}return new o(M,M[M.length-1]&-2147483648?-1:0)};function V(L,v){return L.add(T(v))}t.j=function(L){if(E(this)||E(L))return p;if(D(this))return D(L)?T(this).j(T(L)):T(T(this).j(L));if(D(L))return T(this.j(T(L)));if(0>this.l(g)&&0>L.l(g))return u(this.m()*L.m());for(var v=this.g.length+L.g.length,M=[],_=0;_<2*v;_++)M[_]=0;for(_=0;_<this.g.length;_++)for(var w=0;w<L.g.length;w++){var z=this.i(_)>>>16,C=this.i(_)&65535,sn=L.i(w)>>>16,ys=L.i(w)&65535;M[2*_+2*w]+=C*ys,G(M,2*_+2*w),M[2*_+2*w+1]+=z*ys,G(M,2*_+2*w+1),M[2*_+2*w+1]+=C*sn,G(M,2*_+2*w+1),M[2*_+2*w+2]+=z*sn,G(M,2*_+2*w+2)}for(_=0;_<v;_++)M[_]=M[2*_+1]<<16|M[2*_];for(_=v;_<2*v;_++)M[_]=0;return new o(M,0)};function G(L,v){for(;(L[v]&65535)!=L[v];)L[v+1]+=L[v]>>>16,L[v]&=65535,v++}function K(L,v){this.g=L,this.h=v}function Le(L,v){if(E(v))throw Error("division by zero");if(E(L))return new K(p,p);if(D(L))return v=Le(T(L),v),new K(T(v.g),T(v.h));if(D(v))return v=Le(L,T(v)),new K(T(v.g),v.h);if(30<L.g.length){if(D(L)||D(v))throw Error("slowDivide_ only works with positive integers.");for(var M=y,_=v;0>=_.l(L);)M=He(M),_=He(_);var w=be(M,1),z=be(_,1);for(_=be(_,2),M=be(M,2);!E(_);){var C=z.add(_);0>=C.l(L)&&(w=w.add(M),z=C),_=be(_,1),M=be(M,1)}return v=V(L,w.j(v)),new K(w,v)}for(w=p;0<=L.l(v);){for(M=Math.max(1,Math.floor(L.m()/v.m())),_=Math.ceil(Math.log(M)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),z=u(M),C=z.j(v);D(C)||0<C.l(L);)M-=_,z=u(M),C=z.j(v);E(z)&&(z=y),w=w.add(z),L=V(L,C)}return new K(w,L)}t.A=function(L){return Le(this,L).h},t.and=function(L){for(var v=Math.max(this.g.length,L.g.length),M=[],_=0;_<v;_++)M[_]=this.i(_)&L.i(_);return new o(M,this.h&L.h)},t.or=function(L){for(var v=Math.max(this.g.length,L.g.length),M=[],_=0;_<v;_++)M[_]=this.i(_)|L.i(_);return new o(M,this.h|L.h)},t.xor=function(L){for(var v=Math.max(this.g.length,L.g.length),M=[],_=0;_<v;_++)M[_]=this.i(_)^L.i(_);return new o(M,this.h^L.h)};function He(L){for(var v=L.g.length+1,M=[],_=0;_<v;_++)M[_]=L.i(_)<<1|L.i(_-1)>>>31;return new o(M,L.h)}function be(L,v){var M=v>>5;v%=32;for(var _=L.g.length-M,w=[],z=0;z<_;z++)w[z]=0<v?L.i(z+M)>>>v|L.i(z+M+1)<<32-v:L.i(z+M);return new o(w,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,J5=YC.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Sn=YC.Integer=o}).apply(typeof QC<"u"?QC:typeof self<"u"?self:typeof window<"u"?window:{});var w3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dn={};var e7,hO,xi,t7,Go,b3,n7,r7,i7;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,h){return a==Array.prototype||a==Object.prototype||(a[f]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof w3=="object"&&w3];for(var f=0;f<a.length;++f){var h=a[f];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,f){if(f)e:{var h=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var b=a[m];if(!(b in h))break e;h=h[b]}a=a[a.length-1],m=h[a],f=f(m),f!=m&&f!=null&&e(h,a,{configurable:!0,writable:!0,value:f})}}function s(a,f){a instanceof String&&(a+="");var h=0,m=!1,b={next:function(){if(!m&&h<a.length){var S=h++;return{value:f(S,a[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return s(this,function(f,h){return h})}});var o=o||{},c=this||self;function l(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function u(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function d(a,f,h){return a.call.apply(a.bind,arguments)}function p(a,f,h){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),a.apply(f,b)}}return function(){return a.apply(f,arguments)}}function y(a,f,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,y.apply(null,arguments)}function g(a,f){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function E(a,f){function h(){}h.prototype=f.prototype,a.aa=f.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(m,b,S){for(var F=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)F[Se-2]=arguments[Se];return f.prototype[b].apply(m,F)}}function D(a){let f=a.length;if(0<f){let h=Array(f);for(let m=0;m<f;m++)h[m]=a[m];return h}return[]}function T(a,f){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(l(m)){let b=a.length||0,S=m.length||0;a.length=b+S;for(let F=0;F<S;F++)a[b+F]=m[F]}else a.push(m)}}class V{constructor(f,h){this.i=f,this.j=h,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function G(a){return/^[\s\xa0]*$/.test(a)}function K(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function Le(a){return Le[" "](a),a}Le[" "]=function(){};var He=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function be(a,f,h){for(let m in a)f.call(h,a[m],m,a)}function L(a,f){for(let h in a)f.call(void 0,a[h],h,a)}function v(a){let f={};for(let h in a)f[h]=a[h];return f}let M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(a,f){let h,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(h in m)a[h]=m[h];for(let S=0;S<M.length;S++)h=M[S],Object.prototype.hasOwnProperty.call(m,h)&&(a[h]=m[h])}}function w(a){var f=1;a=a.split(":");let h=[];for(;0<f&&a.length;)h.push(a.shift()),f--;return a.length&&h.push(a.join(":")),h}function z(a){c.setTimeout(()=>{throw a},0)}function C(){var a=s6;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class sn{constructor(){this.h=this.g=null}add(f,h){let m=ys.get();m.set(f,h),this.h?this.h.next=m:this.g=m,this.h=m}}var ys=new V(()=>new Tb,a=>a.reset());class Tb{constructor(){this.next=this.g=this.h=null}set(f,h){this.h=f,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let vs,Cs=!1,s6=new sn,a9=()=>{let a=c.Promise.resolve(void 0);vs=()=>{a.then(Ab)}};var Ab=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(h){z(h)}var f=ys;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}Cs=!1};function Bn(){this.s=this.s,this.C=this.C}Bn.prototype.s=!1,Bn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Bn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var xb=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,f),c.removeEventListener("test",h,f)}catch{}return a}();function Ms(a,f){if(mt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(He){e:{try{Le(f.nodeName);var b=!0;break e}catch{}b=!1}b||(f=null)}}else h=="mouseover"?f=a.fromElement:h=="mouseout"&&(f=a.toElement);this.relatedTarget=f,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Nb[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ms.aa.h.call(this)}}E(Ms,mt);var Nb={2:"touch",3:"pen",4:"mouse"};Ms.prototype.h=function(){Ms.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var _s="closure_listenable_"+(1e6*Math.random()|0),kb=0;function Rb(a,f,h,m,b){this.listener=a,this.proxy=null,this.src=f,this.type=h,this.capture=!!m,this.ha=b,this.key=++kb,this.da=this.fa=!1}function T0(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function A0(a){this.src=a,this.g={},this.h=0}A0.prototype.add=function(a,f,h,m,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var F=c6(a,f,m,b);return-1<F?(f=a[F],h||(f.fa=!1)):(f=new Rb(f,this.src,S,!!m,b),f.fa=h,a.push(f)),f};function o6(a,f){var h=f.type;if(h in a.g){var m=a.g[h],b=Array.prototype.indexOf.call(m,f,void 0),S;(S=0<=b)&&Array.prototype.splice.call(m,b,1),S&&(T0(f),a.g[h].length==0&&(delete a.g[h],a.h--))}}function c6(a,f,h,m){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==f&&S.capture==!!h&&S.ha==m)return b}return-1}var a6="closure_lm_"+(1e6*Math.random()|0),l6={};function l9(a,f,h,m,b){if(m&&m.once)return f9(a,f,h,m,b);if(Array.isArray(f)){for(var S=0;S<f.length;S++)l9(a,f[S],h,m,b);return null}return h=h6(h),a&&a[_s]?a.K(f,h,u(m)?!!m.capture:!!m,b):u9(a,f,h,!1,m,b)}function u9(a,f,h,m,b,S){if(!f)throw Error("Invalid event type");var F=u(b)?!!b.capture:!!b,Se=f6(a);if(Se||(a[a6]=Se=new A0(a)),h=Se.add(f,h,m,F,S),h.proxy)return h;if(m=Pb(),h.proxy=m,m.src=a,m.listener=h,a.addEventListener)xb||(b=F),b===void 0&&(b=!1),a.addEventListener(f.toString(),m,b);else if(a.attachEvent)a.attachEvent(h9(f.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Pb(){function a(h){return f.call(a.src,a.listener,h)}let f=Ob;return a}function f9(a,f,h,m,b){if(Array.isArray(f)){for(var S=0;S<f.length;S++)f9(a,f[S],h,m,b);return null}return h=h6(h),a&&a[_s]?a.L(f,h,u(m)?!!m.capture:!!m,b):u9(a,f,h,!0,m,b)}function d9(a,f,h,m,b){if(Array.isArray(f))for(var S=0;S<f.length;S++)d9(a,f[S],h,m,b);else m=u(m)?!!m.capture:!!m,h=h6(h),a&&a[_s]?(a=a.i,f=String(f).toString(),f in a.g&&(S=a.g[f],h=c6(S,h,m,b),-1<h&&(T0(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[f],a.h--)))):a&&(a=f6(a))&&(f=a.g[f.toString()],a=-1,f&&(a=c6(f,h,m,b)),(h=-1<a?f[a]:null)&&u6(h))}function u6(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[_s])o6(f.i,a);else{var h=a.type,m=a.proxy;f.removeEventListener?f.removeEventListener(h,m,a.capture):f.detachEvent?f.detachEvent(h9(h),m):f.addListener&&f.removeListener&&f.removeListener(m),(h=f6(f))?(o6(h,a),h.h==0&&(h.src=null,f[a6]=null)):T0(a)}}}function h9(a){return a in l6?l6[a]:l6[a]="on"+a}function Ob(a,f){if(a.da)a=!0;else{f=new Ms(f,this);var h=a.listener,m=a.ha||a.src;a.fa&&u6(a),a=h.call(m,f)}return a}function f6(a){return a=a[a6],a instanceof A0?a:null}var d6="__closure_events_fn_"+(1e9*Math.random()>>>0);function h6(a){return typeof a=="function"?a:(a[d6]||(a[d6]=function(f){return a.handleEvent(f)}),a[d6])}function gt(){Bn.call(this),this.i=new A0(this),this.M=this,this.F=null}E(gt,Bn),gt.prototype[_s]=!0,gt.prototype.removeEventListener=function(a,f,h,m){d9(this,a,f,h,m)};function bt(a,f){var h,m=a.F;if(m)for(h=[];m;m=m.F)h.push(m);if(a=a.M,m=f.type||f,typeof f=="string")f=new mt(f,a);else if(f instanceof mt)f.target=f.target||a;else{var b=f;f=new mt(m,a),_(f,b)}if(b=!0,h)for(var S=h.length-1;0<=S;S--){var F=f.g=h[S];b=x0(F,m,!0,f)&&b}if(F=f.g=a,b=x0(F,m,!0,f)&&b,b=x0(F,m,!1,f)&&b,h)for(S=0;S<h.length;S++)F=f.g=h[S],b=x0(F,m,!1,f)&&b}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var h=a.g[f],m=0;m<h.length;m++)T0(h[m]);delete a.g[f],a.h--}}this.F=null},gt.prototype.K=function(a,f,h,m){return this.i.add(String(a),f,!1,h,m)},gt.prototype.L=function(a,f,h,m){return this.i.add(String(a),f,!0,h,m)};function x0(a,f,h,m){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var b=!0,S=0;S<f.length;++S){var F=f[S];if(F&&!F.da&&F.capture==h){var Se=F.listener,at=F.ha||F.src;F.fa&&o6(a.i,F),b=Se.call(at,m)!==!1&&b}}return b&&!m.defaultPrevented}function p9(a,f,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:c.setTimeout(a,f||0)}function m9(a){a.g=p9(()=>{a.g=null,a.i&&(a.i=!1,m9(a))},a.l);let f=a.h;a.h=null,a.m.apply(null,f)}class Fb extends Bn{constructor(f,h){super(),this.m=f,this.l=h,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:m9(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(a){Bn.call(this),this.h=a,this.g={}}E(Ls,Bn);var g9=[];function y9(a){be(a.g,function(f,h){this.g.hasOwnProperty(h)&&u6(f)},a),a.g={}}Ls.prototype.N=function(){Ls.aa.N.call(this),y9(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var p6=c.JSON.stringify,Vb=c.JSON.parse,Bb=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function m6(){}m6.prototype.h=null;function v9(a){return a.h||(a.h=a.i())}function C9(){}var ws={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function g6(){mt.call(this,"d")}E(g6,mt);function y6(){mt.call(this,"c")}E(y6,mt);var T1={},M9=null;function N0(){return M9=M9||new gt}T1.La="serverreachability";function _9(a){mt.call(this,T1.La,a)}E(_9,mt);function bs(a){let f=N0();bt(f,new _9(f))}T1.STAT_EVENT="statevent";function L9(a,f){mt.call(this,T1.STAT_EVENT,a),this.stat=f}E(L9,mt);function Et(a){let f=N0();bt(f,new L9(f,a))}T1.Ma="timingevent";function w9(a,f){mt.call(this,T1.Ma,a),this.size=f}E(w9,mt);function Es(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},f)}function Is(){this.g=!0}Is.prototype.xa=function(){this.g=!1};function jb(a,f,h,m,b,S){a.info(function(){if(a.g)if(S)for(var F="",Se=S.split("&"),at=0;at<Se.length;at++){var we=Se[at].split("=");if(1<we.length){var yt=we[0];we=we[1];var vt=yt.split("_");F=2<=vt.length&&vt[1]=="type"?F+(yt+"="+we+"&"):F+(yt+"=redacted&")}}else F=null;else F=S;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+f+`
`+h+`
`+F})}function Ub(a,f,h,m,b,S,F){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+f+`
`+h+`
`+S+" "+F})}function Ar(a,f,h,m){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+$b(a,h)+(m?" "+m:"")})}function Hb(a,f){a.info(function(){return"TIMEOUT: "+f})}Is.prototype.info=function(){};function $b(a,f){if(!a.g)return f;if(!f)return null;try{var h=JSON.parse(f);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var m=h[a];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var F=1;F<b.length;F++)b[F]=""}}}}return p6(h)}catch{return f}}var k0={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},b9={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},v6;function R0(){}E(R0,m6),R0.prototype.g=function(){return new XMLHttpRequest},R0.prototype.i=function(){return{}},v6=new R0;function jn(a,f,h,m){this.j=a,this.i=f,this.l=h,this.R=m||1,this.U=new Ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new E9}function E9(){this.i=null,this.g="",this.h=!1}var I9={},C6={};function M6(a,f,h){a.L=1,a.v=V0(on(f)),a.m=h,a.P=!0,z9(a,null)}function z9(a,f){a.F=Date.now(),P0(a),a.A=on(a.v);var h=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),j9(h.i,"t",m),a.C=0,h=a.j.J,a.h=new E9,a.g=sh(a.j,h?f:null,!a.m),0<a.O&&(a.M=new Fb(y(a.Y,a,a.g),a.O)),f=a.U,h=a.g,m=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(g9[0]=b.toString()),b=g9);for(var S=0;S<b.length;S++){var F=l9(h,b[S],m||f.handleEvent,!1,f.h||f);if(!F)break;f.g[F.key]=F}f=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),bs(),jb(a.i,a.u,a.A,a.l,a.R,a.m)}jn.prototype.ca=function(a){a=a.target;let f=this.M;f&&cn(a)==3?f.j():this.Y(a)},jn.prototype.Y=function(a){try{if(a==this.g)e:{let vt=cn(this.g);var f=this.g.Ba();let kr=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||K9(this.g)))){this.J||vt!=4||f==7||(f==8||0>=kr?bs(3):bs(2)),_6(this);var h=this.g.Z();this.X=h;t:if(S9(this)){var m=K9(this.g);a="";var b=m.length,S=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){A1(this),zs(this);var F="";break t}this.h.i=new c.TextDecoder}for(f=0;f<b;f++)this.h.h=!0,a+=this.h.i.decode(m[f],{stream:!(S&&f==b-1)});m.length=0,this.h.g+=a,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=h==200,Ub(this.i,this.u,this.A,this.l,this.R,vt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,at=this.g;if((Se=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Se)){var we=Se;break t}}we=null}if(h=we)Ar(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,L6(this,h);else{this.o=!1,this.s=3,Et(12),A1(this),zs(this);break e}}if(this.P){h=!0;let C2;for(;!this.J&&this.C<F.length;)if(C2=qb(this,F),C2==C6){vt==4&&(this.s=4,Et(14),h=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(C2==I9){this.s=4,Et(15),Ar(this.i,this.l,F,"[Invalid Chunk]"),h=!1;break}else Ar(this.i,this.l,C2,null),L6(this,C2);if(S9(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||F.length!=0||this.h.h||(this.s=1,Et(16),h=!1),this.o=this.o&&h,!h)Ar(this.i,this.l,F,"[Invalid Chunked Response]"),A1(this),zs(this);else if(0<F.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),S6(yt),yt.M=!0,Et(11))}}else Ar(this.i,this.l,F,null),L6(this,F);vt==4&&A1(this),this.o&&!this.J&&(vt==4?th(this.j,this):(this.o=!1,P0(this)))}else aE(this.g),h==400&&0<F.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),A1(this),zs(this)}}}catch{}finally{}};function S9(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function qb(a,f){var h=a.C,m=f.indexOf(`
`,h);return m==-1?C6:(h=Number(f.substring(h,m)),isNaN(h)?I9:(m+=1,m+h>f.length?C6:(f=f.slice(m,m+h),a.C=m+h,f)))}jn.prototype.cancel=function(){this.J=!0,A1(this)};function P0(a){a.S=Date.now()+a.I,D9(a,a.I)}function D9(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Es(y(a.ba,a),f)}function _6(a){a.B&&(c.clearTimeout(a.B),a.B=null)}jn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(Hb(this.i,this.A),this.L!=2&&(bs(),Et(17)),A1(this),this.s=2,zs(this)):D9(this,this.S-a)};function zs(a){a.j.G==0||a.J||th(a.j,a)}function A1(a){_6(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,y9(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function L6(a,f){try{var h=a.j;if(h.G!=0&&(h.g==a||w6(h.h,a))){if(!a.K&&w6(h.h,a)&&h.G==3){try{var m=h.Da.g.parse(f)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)$0(h),U0(h);else break e;z6(h),Et(18)}}else h.za=b[1],0<h.za-h.T&&37500>b[2]&&h.F&&h.v==0&&!h.C&&(h.C=Es(y(h.Za,h),6e3));if(1>=x9(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else N1(h,11)}else if((a.K||h.g==a)&&$0(h),!G(f))for(b=h.Da.g.parse(f),f=0;f<b.length;f++){let we=b[f];if(h.T=we[0],we=we[1],h.G==2)if(we[0]=="c"){h.K=we[1],h.ia=we[2];let yt=we[3];yt!=null&&(h.la=yt,h.j.info("VER="+h.la));let vt=we[4];vt!=null&&(h.Aa=vt,h.j.info("SVER="+h.Aa));let kr=we[5];kr!=null&&typeof kr=="number"&&0<kr&&(m=1.5*kr,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let C2=a.g;if(C2){let G0=C2.g?C2.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G0){var S=m.h;S.g||G0.indexOf("spdy")==-1&&G0.indexOf("quic")==-1&&G0.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(b6(S,S.h),S.h=null))}if(m.D){let D6=C2.g?C2.g.getResponseHeader("X-HTTP-Session-Id"):null;D6&&(m.ya=D6,ke(m.I,m.D,D6))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var F=a;if(m.qa=ih(m,m.J?m.ia:null,m.W),F.K){N9(m.h,F);var Se=F,at=m.L;at&&(Se.I=at),Se.B&&(_6(Se),P0(Se)),m.g=F}else J9(m);0<h.i.length&&H0(h)}else we[0]!="stop"&&we[0]!="close"||N1(h,7);else h.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?N1(h,7):I6(h):we[0]!="noop"&&h.l&&h.l.ta(we),h.v=0)}}bs(4)}catch{}}var Gb=class{constructor(a,f){this.g=a,this.map=f}};function T9(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function A9(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function x9(a){return a.h?1:a.g?a.g.size:0}function w6(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function b6(a,f){a.g?a.g.add(f):a.h=f}function N9(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}T9.prototype.cancel=function(){if(this.i=k9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function k9(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(let h of a.g.values())f=f.concat(h.D);return f}return D(a.i)}function Wb(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var f=[],h=a.length,m=0;m<h;m++)f.push(a[m]);return f}f=[],h=0;for(m in a)f[h++]=a[m];return f}function Kb(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var f=[];a=a.length;for(var h=0;h<a;h++)f.push(h);return f}f=[],h=0;for(let m in a)f[h++]=m;return f}}}function R9(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var h=Kb(a),m=Wb(a),b=m.length,S=0;S<b;S++)f.call(void 0,m[S],h&&h[S],a)}var P9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qb(a,f){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var m=a[h].indexOf("="),b=null;if(0<=m){var S=a[h].substring(0,m);b=a[h].substring(m+1)}else S=a[h];f(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function x1(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof x1){this.h=a.h,O0(this,a.j),this.o=a.o,this.g=a.g,F0(this,a.s),this.l=a.l;var f=a.i,h=new Ts;h.i=f.i,f.g&&(h.g=new Map(f.g),h.h=f.h),O9(this,h),this.m=a.m}else a&&(f=String(a).match(P9))?(this.h=!1,O0(this,f[1]||"",!0),this.o=Ss(f[2]||""),this.g=Ss(f[3]||"",!0),F0(this,f[4]),this.l=Ss(f[5]||"",!0),O9(this,f[6]||"",!0),this.m=Ss(f[7]||"")):(this.h=!1,this.i=new Ts(null,this.h))}x1.prototype.toString=function(){var a=[],f=this.j;f&&a.push(Ds(f,F9,!0),":");var h=this.g;return(h||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Ds(f,F9,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ds(h,h.charAt(0)=="/"?Xb:Zb,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ds(h,eE)),a.join("")};function on(a){return new x1(a)}function O0(a,f,h){a.j=h?Ss(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function F0(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function O9(a,f,h){f instanceof Ts?(a.i=f,tE(a.i,a.h)):(h||(f=Ds(f,Jb)),a.i=new Ts(f,a.h))}function ke(a,f,h){a.i.set(f,h)}function V0(a){return ke(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ss(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ds(a,f,h){return typeof a=="string"?(a=encodeURI(a).replace(f,Yb),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Yb(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var F9=/[#\/\?@]/g,Zb=/[#\?:]/g,Xb=/[#\?]/g,Jb=/[#\?@]/g,eE=/#/g;function Ts(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Un(a){a.g||(a.g=new Map,a.h=0,a.i&&Qb(a.i,function(f,h){a.add(decodeURIComponent(f.replace(/\+/g," ")),h)}))}t=Ts.prototype,t.add=function(a,f){Un(this),this.i=null,a=xr(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(f),this.h+=1,this};function V9(a,f){Un(a),f=xr(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function B9(a,f){return Un(a),f=xr(a,f),a.g.has(f)}t.forEach=function(a,f){Un(this),this.g.forEach(function(h,m){h.forEach(function(b){a.call(f,b,m,this)},this)},this)},t.na=function(){Un(this);let a=Array.from(this.g.values()),f=Array.from(this.g.keys()),h=[];for(let m=0;m<f.length;m++){let b=a[m];for(let S=0;S<b.length;S++)h.push(f[m])}return h},t.V=function(a){Un(this);let f=[];if(typeof a=="string")B9(this,a)&&(f=f.concat(this.g.get(xr(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)f=f.concat(a[h])}return f},t.set=function(a,f){return Un(this),this.i=null,a=xr(this,a),B9(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function j9(a,f,h){V9(a,f),0<h.length&&(a.i=null,a.g.set(xr(a,f),D(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],f=Array.from(this.g.keys());for(var h=0;h<f.length;h++){var m=f[h];let S=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var b=S;F[m]!==""&&(b+="="+encodeURIComponent(String(F[m]))),a.push(b)}}return this.i=a.join("&")};function xr(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function tE(a,f){f&&!a.j&&(Un(a),a.i=null,a.g.forEach(function(h,m){var b=m.toLowerCase();m!=b&&(V9(this,m),j9(this,b,h))},a)),a.j=f}function nE(a,f){let h=new Is;if(c.Image){let m=new Image;m.onload=g(Hn,h,"TestLoadImage: loaded",!0,f,m),m.onerror=g(Hn,h,"TestLoadImage: error",!1,f,m),m.onabort=g(Hn,h,"TestLoadImage: abort",!1,f,m),m.ontimeout=g(Hn,h,"TestLoadImage: timeout",!1,f,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else f(!1)}function rE(a,f){let h=new Is,m=new AbortController,b=setTimeout(()=>{m.abort(),Hn(h,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:m.signal}).then(S=>{clearTimeout(b),S.ok?Hn(h,"TestPingServer: ok",!0,f):Hn(h,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(b),Hn(h,"TestPingServer: error",!1,f)})}function Hn(a,f,h,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(h)}catch{}}function iE(){this.g=new Bb}function sE(a,f,h){let m=h||"";try{R9(a,function(b,S){let F=b;u(b)&&(F=p6(b)),f.push(m+S+"="+encodeURIComponent(F))})}catch(b){throw f.push(m+"type="+encodeURIComponent("_badmap")),b}}function As(a){this.l=a.Ub||null,this.j=a.eb||!1}E(As,m6),As.prototype.g=function(){return new B0(this.l,this.j)},As.prototype.i=function(a){return function(){return a}}({});function B0(a,f){gt.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(B0,gt),t=B0.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,Ns(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||c).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ns(this)),this.g&&(this.readyState=3,Ns(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;U9(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function U9(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?xs(this):Ns(this),this.readyState==3&&U9(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,xs(this))},t.Qa=function(a){this.g&&(this.response=a,xs(this))},t.ga=function(){this.g&&xs(this)};function xs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ns(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],f=this.h.entries();for(var h=f.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=f.next();return a.join(`\r
`)};function Ns(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(B0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function H9(a){let f="";return be(a,function(h,m){f+=m,f+=":",f+=h,f+=`\r
`}),f}function E6(a,f,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=H9(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):ke(a,f,h))}function $e(a){gt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E($e,gt);var oE=/^https?$/i,cE=["POST","PUT"];t=$e.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():v6.g(),this.v=this.o?v9(this.o):v9(v6),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(S){$9(this,S);return}if(a=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)h.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())h.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(cE,f,void 0))||m||b||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,F]of h)this.g.setRequestHeader(S,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{W9(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){$9(this,S)}};function $9(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,q9(a),j0(a)}function q9(a){a.A||(a.A=!0,bt(a,"complete"),bt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,bt(this,"complete"),bt(this,"abort"),j0(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),j0(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?G9(this):this.bb())},t.bb=function(){G9(this)};function G9(a){if(a.h&&typeof o<"u"&&(!a.v[1]||cn(a)!=4||a.Z()!=2)){if(a.u&&cn(a)==4)p9(a.Ea,0,a);else if(bt(a,"readystatechange"),cn(a)==4){a.h=!1;try{let F=a.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var h;if(!(h=f)){var m;if(m=F===0){var b=String(a.D).match(P9)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),m=!oE.test(b?b.toLowerCase():"")}h=m}if(h)bt(a,"complete"),bt(a,"success");else{a.m=6;try{var S=2<cn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",q9(a)}}finally{j0(a)}}}}function j0(a,f){if(a.g){W9(a);let h=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||bt(a,"ready");try{h.onreadystatechange=m}catch{}}}function W9(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function cn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Vb(f)}};function K9(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function aE(a){let f={};a=(a.g&&2<=cn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(G(a[m]))continue;var h=w(a[m]);let b=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=f[b]||[];f[b]=S,S.push(h)}L(f,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(a,f,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||f}function Q9(a){this.Aa=0,this.i=[],this.j=new Is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ks("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ks("baseRetryDelayMs",5e3,a),this.cb=ks("retryDelaySeedMs",1e4,a),this.Wa=ks("forwardChannelMaxRetries",2,a),this.wa=ks("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new T9(a&&a.concurrentRequestLimit),this.Da=new iE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Q9.prototype,t.la=8,t.G=1,t.connect=function(a,f,h,m){Et(0),this.W=a,this.H=f||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=ih(this,null,this.W),H0(this)};function I6(a){if(Y9(a),a.G==3){var f=a.U++,h=on(a.I);if(ke(h,"SID",a.K),ke(h,"RID",f),ke(h,"TYPE","terminate"),Rs(a,h),f=new jn(a,a.j,f),f.L=2,f.v=V0(on(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(f.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=f.v,h=!0),h||(f.g=sh(f.j,null),f.g.ea(f.v)),f.F=Date.now(),P0(f)}rh(a)}function U0(a){a.g&&(S6(a),a.g.cancel(),a.g=null)}function Y9(a){U0(a),a.u&&(c.clearTimeout(a.u),a.u=null),$0(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function H0(a){if(!A9(a.h)&&!a.s){a.s=!0;var f=a.Ga;vs||a9(),Cs||(vs(),Cs=!0),s6.add(f,a),a.B=0}}function lE(a,f){return x9(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Es(y(a.Ga,a,f),nh(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new jn(this,this.j,a),S=this.o;if(this.S&&(S?(S=v(S),_(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var f=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(f+=m,4096<f){f=h;break e}if(f===4096||h===this.i.length-1){f=h+1;break e}}f=1e3}else f=1e3;f=X9(this,b,f),h=on(this.I),ke(h,"RID",a),ke(h,"CVER",22),this.D&&ke(h,"X-HTTP-Session-Id",this.D),Rs(this,h),S&&(this.O?f="headers="+encodeURIComponent(String(H9(S)))+"&"+f:this.m&&E6(h,this.m,S)),b6(this.h,b),this.Ua&&ke(h,"TYPE","init"),this.P?(ke(h,"$req",f),ke(h,"SID","null"),b.T=!0,M6(b,h,null)):M6(b,h,f),this.G=2}}else this.G==3&&(a?Z9(this,a):this.i.length==0||A9(this.h)||Z9(this))};function Z9(a,f){var h;f?h=f.l:h=a.U++;let m=on(a.I);ke(m,"SID",a.K),ke(m,"RID",h),ke(m,"AID",a.T),Rs(a,m),a.m&&a.o&&E6(m,a.m,a.o),h=new jn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),f&&(a.i=f.D.concat(a.i)),f=X9(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),b6(a.h,h),M6(h,m,f)}function Rs(a,f){a.H&&be(a.H,function(h,m){ke(f,m,h)}),a.l&&R9({},function(h,m){ke(f,m,h)})}function X9(a,f,h){h=Math.min(a.i.length,h);var m=a.l?y(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let F=["count="+h];S==-1?0<h?(S=b[0].g,F.push("ofs="+S)):S=0:F.push("ofs="+S);let Se=!0;for(let at=0;at<h;at++){let we=b[at].g,yt=b[at].map;if(we-=S,0>we)S=Math.max(0,b[at].g-100),Se=!1;else try{sE(yt,F,"req"+we+"_")}catch{m&&m(yt)}}if(Se){m=F.join("&");break e}}}return a=a.i.splice(0,h),f.D=a,m}function J9(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;vs||a9(),Cs||(vs(),Cs=!0),s6.add(f,a),a.v=0}}function z6(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Es(y(a.Fa,a),nh(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Es(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),U0(this),eh(this))};function S6(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function eh(a){a.g=new jn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=on(a.qa);ke(f,"RID","rpc"),ke(f,"SID",a.K),ke(f,"AID",a.T),ke(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&ke(f,"TO",a.ja),ke(f,"TYPE","xmlhttp"),Rs(a,f),a.m&&a.o&&E6(f,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=V0(on(f)),h.m=null,h.P=!0,z9(h,a)}t.Za=function(){this.C!=null&&(this.C=null,U0(this),z6(this),Et(19))};function $0(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function th(a,f){var h=null;if(a.g==f){$0(a),S6(a),a.g=null;var m=2}else if(w6(a.h,f))h=f.D,N9(a.h,f),m=1;else return;if(a.G!=0){if(f.o)if(m==1){h=f.m?f.m.length:0,f=Date.now()-f.F;var b=a.B;m=N0(),bt(m,new w9(m,h)),H0(a)}else J9(a);else if(b=f.s,b==3||b==0&&0<f.X||!(m==1&&lE(a,f)||m==2&&z6(a)))switch(h&&0<h.length&&(f=a.h,f.i=f.i.concat(h)),b){case 1:N1(a,5);break;case 4:N1(a,10);break;case 3:N1(a,6);break;default:N1(a,2)}}}function nh(a,f){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*f}function N1(a,f){if(a.j.info("Error code "+f),f==2){var h=y(a.fb,a),m=a.Xa;let b=!m;m=new x1(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||O0(m,"https"),V0(m),b?nE(m.toString(),h):rE(m.toString(),h)}else Et(2);a.G=0,a.l&&a.l.sa(f),rh(a),Y9(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function rh(a){if(a.G=0,a.ka=[],a.l){let f=k9(a.h);(f.length!=0||a.i.length!=0)&&(T(a.ka,f),T(a.ka,a.i),a.h.i.length=0,D(a.i),a.i.length=0),a.l.ra()}}function ih(a,f,h){var m=h instanceof x1?on(h):new x1(h);if(m.g!="")f&&(m.g=f+"."+m.g),F0(m,m.s);else{var b=c.location;m=b.protocol,f=f?f+"."+b.hostname:b.hostname,b=+b.port;var S=new x1(null);m&&O0(S,m),f&&(S.g=f),b&&F0(S,b),h&&(S.l=h),m=S}return h=a.D,f=a.ya,h&&f&&ke(m,h,f),ke(m,"VER",a.la),Rs(a,m),m}function sh(a,f,h){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new $e(new As({eb:h})):new $e(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oh(){}t=oh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function q0(){}q0.prototype.g=function(a,f){return new Gt(a,f)};function Gt(a,f){gt.call(this),this.g=new Q9(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!G(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!G(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Nr(this)}E(Gt,gt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){I6(this.g)},Gt.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=p6(a),a=h);f.i.push(new Gb(f.Ya++,a)),f.G==3&&H0(f)},Gt.prototype.N=function(){this.g.l=null,delete this.j,I6(this.g),delete this.g,Gt.aa.N.call(this)};function ch(a){g6.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(let h in f){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}E(ch,g6);function ah(){y6.call(this),this.status=1}E(ah,y6);function Nr(a){this.g=a}E(Nr,oh),Nr.prototype.ua=function(){bt(this.g,"a")},Nr.prototype.ta=function(a){bt(this.g,new ch(a))},Nr.prototype.sa=function(a){bt(this.g,new ah)},Nr.prototype.ra=function(){bt(this.g,"b")},q0.prototype.createWebChannel=q0.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,i7=Dn.createWebChannelTransport=function(){return new q0},r7=Dn.getStatEventTarget=function(){return N0()},n7=Dn.Event=T1,b3=Dn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},k0.NO_ERROR=0,k0.TIMEOUT=8,k0.HTTP_ERROR=6,Go=Dn.ErrorCode=k0,b9.COMPLETE="complete",t7=Dn.EventType=b9,C9.EventType=ws,ws.OPEN="a",ws.CLOSE="b",ws.ERROR="c",ws.MESSAGE="d",gt.prototype.listen=gt.prototype.K,xi=Dn.WebChannel=C9,hO=Dn.FetchXmlHttpFactory=As,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,e7=Dn.XhrIo=$e}).apply(typeof w3<"u"?w3:typeof self<"u"?self:typeof window<"u"?window:{});var ZC="@firebase/firestore",XC="4.7.9";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var Ji="11.4.0";var yr=new W2("@firebase/firestore");function Ni(){return yr.logLevel}function U(t,...e){if(yr.logLevel<=he.DEBUG){let n=e.map(qf);yr.debug(`Firestore (${Ji}): ${t}`,...n)}}function Tn(t,...e){if(yr.logLevel<=he.ERROR){let n=e.map(qf);yr.error(`Firestore (${Ji}): ${t}`,...n)}}function Bi(t,...e){if(yr.logLevel<=he.WARN){let n=e.map(qf);yr.warn(`Firestore (${Ji}): ${t}`,...n)}}function qf(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function X(t="Unexpected state"){let e=`FIRESTORE (${Ji}) INTERNAL ASSERTION FAILED: `+t;throw Tn(e),new Error(e)}function ze(t,e){t||X()}function ne(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends g2{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Y2=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var A3=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},l7=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},u7=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},f7=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),s=new Y2;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Y2,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>I(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Y2)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new A3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new ot(e)}},d7=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},h7=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new d7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},x3=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},p7=class{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0);let r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new x3(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new x3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function pO(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var N3=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=pO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}};function ye(t,e){return t<e?-1:t>e?1:0}function ji(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var JC=-62135596800,eM=1e6,pt=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*eM);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<JC)throw new H(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eM}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-JC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new pt(0,0))}static max(){return new t(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var tM="__name__",k3=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=t.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sn.fromString(e.substring(4,e.length-2))}},Ue=class t extends k3{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},mO=/^[_a-zA-Z][_a-zA-Z0-9]*$/,e2=class t extends k3{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return mO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tM}static keyField(){return new t([tM])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new H(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new H(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new H(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ue.fromString(e))}static fromName(e){return new t(Ue.fromString(e).popFirst(5))}static empty(){return new t(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ue(e.slice()))}};var Xo=-1,m7=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};m7.UNKNOWN_ID=-1;function gO(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new vr(i,Z.empty(),e)}function yO(t){return new vr(t.readTime,t.key,Xo)}var vr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),Z.empty(),Xo)}static max(){return new t(ie.max(),Z.empty(),Xo)}};function vO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}var CO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",g7=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function es(t){return I(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==CO)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var k=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let l=0;l<s;l++){let u=l;n(e[u]).next(d=>{o[u]=d,++c,c===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function MO(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ts(t){return t.name==="IndexedDbTransactionError"}var Gf=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this._e&&this._e(n),n}}t.ae=-1;return t})(),Wf=-1;function ma(t){return t==null}function Jo(t){return t===0&&1/t==-1/0}function _O(t){return typeof t=="number"&&Number.isInteger(t)&&!Jo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var UM="";function LO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=nM(e)),e=wO(t.get(n),e);return nM(e)}function wO(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case UM:n+="";break;default:n+=s}}return n}function nM(t){return t+UM+""}var bO="remoteDocuments",HM="owner";var $M="mutationQueues";var qM="mutations";var GM="documentMutations",EO="remoteDocumentsV14";var WM="remoteDocumentGlobal";var KM="targets";var QM="targetDocuments";var YM="targetGlobal",ZM="collectionParents";var XM="clientMetadata";var JM="bundles";var e_="namedQueries";var IO="indexConfiguration";var zO="indexState";var SO="indexEntries";var t_="documentOverlays";var DO="globals";var TO=[$M,qM,GM,bO,KM,HM,YM,QM,XM,WM,ZM,JM,e_],CJ=[...TO,t_],AO=[$M,qM,GM,EO,KM,HM,YM,QM,XM,WM,ZM,JM,e_,t_],xO=AO,NO=[...xO,IO,zO,SO];var MJ=[...NO,DO];function rM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function br(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function n_(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ke=class t{constructor(e,n){this.comparator=e,this.root=n||Z2.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Z2.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Z2.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oi(this.root,e,this.comparator,!0)}},Oi=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Z2=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};Z2.EMPTY=null,Z2.RED=!0,Z2.BLACK=!1;Z2.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Z2(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ct=class t{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new R3(this.data.getIterator())}getIteratorFrom(e){return new R3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},R3=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Q2=class t{constructor(e){this.fields=e,e.sort(e2.comparator)}static empty(){return new t([])}unionWith(e){let n=new ct(e2.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ji(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var P3=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new P3("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Lt.EMPTY_BYTE_STRING=new Lt("");var kO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function An(t){if(ze(!!t),typeof t=="string"){let e=0,n=kO.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xn(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}var r_="server_timestamp",i_="__type__",s_="__previous_value__",o_="__local_write_time__";function Kf(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[i_])===null||n===void 0?void 0:n.stringValue)===r_}function ga(t){let e=t.mapValue.fields[s_];return Kf(e)?ga(e):e}function e0(t){let e=An(t.mapValue.fields[o_].timestampValue);return new pt(e.seconds,e.nanos)}var y7=class{constructor(e,n,r,i,s,o,c,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u}},O3="(default)",F3=class t{constructor(e,n){this.projectId=e,this.database=n||O3}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===O3}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Qf="__type__",c_="__max__",E3={mapValue:{fields:{__type__:{stringValue:c_}}}},Yf="__vector__",Ui="value";function v1(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kf(t)?4:l_(t)?9007199254740991:a_(t)?10:11:X()}function en(t,e){if(t===e)return!0;let n=v1(t);if(n!==v1(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return e0(t).isEqual(e0(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=An(i.timestampValue),c=An(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return xn(i.bytesValue).isEqual(xn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Be(i.geoPointValue.latitude)===Be(s.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Be(i.integerValue)===Be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Be(i.doubleValue),c=Be(s.doubleValue);return o===c?Jo(o)===Jo(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return ji(t.arrayValue.values||[],e.arrayValue.values||[],en);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(rM(o)!==rM(c))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!en(o[l],c[l])))return!1;return!0}(t,e);default:return X()}}function t0(t,e){return(t.values||[]).find(n=>en(n,e))!==void 0}function Hi(t,e){if(t===e)return 0;let n=v1(t),r=v1(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Be(s.integerValue||s.doubleValue),l=Be(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return iM(t.timestampValue,e.timestampValue);case 4:return iM(e0(t),e0(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){let c=xn(s),l=xn(o);return c.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),l=o.split("/");for(let u=0;u<c.length&&u<l.length;u++){let d=ye(c[u],l[u]);if(d!==0)return d}return ye(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=ye(Be(s.latitude),Be(o.latitude));return c!==0?c:ye(Be(s.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sM(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,l,u,d;let p=s.fields||{},y=o.fields||{},g=(c=p[Ui])===null||c===void 0?void 0:c.arrayValue,E=(l=y[Ui])===null||l===void 0?void 0:l.arrayValue,D=ye(((u=g?.values)===null||u===void 0?void 0:u.length)||0,((d=E?.values)===null||d===void 0?void 0:d.length)||0);return D!==0?D:sM(g,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===E3.mapValue&&o===E3.mapValue)return 0;if(s===E3.mapValue)return 1;if(o===E3.mapValue)return-1;let c=s.fields||{},l=Object.keys(c),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){let y=ye(l[p],d[p]);if(y!==0)return y;let g=Hi(c[l[p]],u[d[p]]);if(g!==0)return g}return ye(l.length,d.length)}(t.mapValue,e.mapValue);default:throw X()}}function iM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);let n=An(t),r=An(e),i=ye(n.seconds,r.seconds);return i!==0?i:ye(n.nanos,r.nanos)}function sM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Hi(n[i],r[i]);if(s)return s}return ye(n.length,r.length)}function $i(t){return v7(t)}function v7(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=An(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=v7(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${v7(n.fields[o])}`;return i+"}"}(t.mapValue):X()}function S3(t){switch(v1(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ga(t);return e?16+S3(e):16;case 5:return 2*t.stringValue.length;case 6:return xn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+S3(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return br(r.fields,(s,o)=>{i+=s.length+S3(o)}),i}(t.mapValue);default:throw X()}}function oM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function C7(t){return!!t&&"integerValue"in t}function Zf(t){return!!t&&"arrayValue"in t}function cM(t){return!!t&&"nullValue"in t}function aM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function D3(t){return!!t&&"mapValue"in t}function a_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Qf])===null||n===void 0?void 0:n.stringValue)===Yf}function Ko(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return br(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ko(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ko(t.arrayValue.values[n]);return e}return Object.assign({},t)}function l_(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===c_}var LJ={mapValue:{fields:{[Qf]:{stringValue:Yf},[Ui]:{arrayValue:{}}}}};var R2=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!D3(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ko(n)}setAll(e){let n=e2.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=Ko(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());D3(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return en(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];D3(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){br(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ko(this.value))}};function u_(t){let e=[];return br(t.fields,(n,r)=>{let i=new e2([n]);if(D3(r)){let s=u_(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Q2(e)}var P2=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),R2.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),R2.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),R2.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=R2.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=R2.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var qi=class{constructor(e,n){this.position=e,this.inclusive=n}};function lM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Hi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function uM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!en(t.position[n],e.position[n]))return!1;return!0}var Gi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function RO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var V3=class{},tt=class t extends V3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _7(e,n,r):n==="array-contains"?new b7(e,r):n==="in"?new E7(e,r):n==="not-in"?new I7(e,r):n==="array-contains-any"?new z7(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new L7(e,r):new w7(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hi(n,this.value)):n!==null&&v1(this.value)===v1(n)&&this.matchesComparison(Hi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},O2=class t extends V3{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new t(e,n)}matches(e){return f_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function f_(t){return t.op==="and"}function d_(t){return PO(t)&&f_(t)}function PO(t){for(let e of t.filters)if(e instanceof O2)return!1;return!0}function M7(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+$i(t.value);if(d_(t))return t.filters.map(e=>M7(e)).join(",");{let e=t.filters.map(n=>M7(n)).join(",");return`${t.op}(${e})`}}function h_(t,e){return t instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&en(r.value,i.value)}(t,e):t instanceof O2?function(r,i){return i instanceof O2&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&h_(o,i.filters[c]),!0):!1}(t,e):void X()}function p_(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${$i(n.value)}`}(t):t instanceof O2?function(n){return n.op.toString()+" {"+n.getFilters().map(p_).join(" ,")+"}"}(t):"Filter"}var _7=class extends tt{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){let n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}},L7=class extends tt{constructor(e,n){super(e,"in",n),this.keys=m_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},w7=class extends tt{constructor(e,n){super(e,"not-in",n),this.keys=m_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function m_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}var b7=class extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Zf(n)&&t0(n.arrayValue,this.value)}},E7=class extends tt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&t0(this.value.arrayValue,n)}},I7=class extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(t0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!t0(this.value.arrayValue,n)}},z7=class extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Zf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>t0(this.value.arrayValue,r))}};var S7=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.le=null}};function fM(t,e=null,n=[],r=[],i=null,s=null,o=null){return new S7(t,e,n,r,i,s,o)}function Xf(t){let e=ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>M7(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ma(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>$i(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>$i(r)).join(",")),e.le=n}return e.le}function Jf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!h_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uM(t.startAt,e.startAt)&&uM(t.endAt,e.endAt)}function D7(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Cr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function OO(t,e,n,r,i,s,o,c){return new Cr(t,e,n,r,i,s,o,c)}function ed(t){return new Cr(t)}function dM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function g_(t){return t.collectionGroup!==null}function Qo(t){let e=ne(t);if(e.he===null){e.he=[];let n=new Set;for(let s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ct(e2.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Gi(s,r))}),n.has(e2.keyField().canonicalString())||e.he.push(new Gi(e2.keyField(),r))}return e.he}function X2(t){let e=ne(t);return e.Pe||(e.Pe=FO(e,Qo(t))),e.Pe}function FO(t,e){if(t.limitType==="F")return fM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Gi(i.field,s)});let n=t.endAt?new qi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qi(t.startAt.position,t.startAt.inclusive):null;return fM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function T7(t,e){let n=t.filters.concat([e]);return new Cr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function B3(t,e,n){return new Cr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ya(t,e){return Jf(X2(t),X2(e))&&t.limitType===e.limitType}function y_(t){return`${Xf(X2(t))}|lt:${t.limitType}`}function ki(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>p_(i)).join(", ")}]`),ma(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>$i(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>$i(i)).join(",")),`Target(${r})`}(X2(t))}; limitType=${t.limitType})`}function va(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Qo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,l){let u=lM(o,c,l);return o.inclusive?u<=0:u<0}(r.startAt,Qo(r),i)||r.endAt&&!function(o,c,l){let u=lM(o,c,l);return o.inclusive?u>=0:u>0}(r.endAt,Qo(r),i))}(t,e)}function VO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v_(t){return(e,n)=>{let r=!1;for(let i of Qo(t)){let s=BO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function BO(t,e,n){let r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,c){let l=o.data.field(s),u=c.data.field(s);return l!==null&&u!==null?Hi(l,u):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}var Nn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return n_(this.inner)}size(){return this.innerSize}};var jO=new Ke(Z.comparator);function kn(){return jO}var C_=new Ke(Z.comparator);function Wo(...t){let e=C_;for(let n of t)e=e.insert(n.key,n);return e}function M_(t){let e=C_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pr(){return Yo()}function __(){return Yo()}function Yo(){return new Nn(t=>t.toString(),(t,e)=>t.isEqual(e))}var UO=new Ke(Z.comparator),HO=new ct(Z.comparator);function ge(...t){let e=HO;for(let n of t)e=e.add(n);return e}var $O=new ct(ye);function qO(){return $O}function td(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jo(e)?"-0":e}}function L_(t){return{integerValue:""+t}}function GO(t,e){return _O(e)?L_(e):td(t,e)}var Wi=class{constructor(){this._=void 0}};function WO(t,e,n){return t instanceof Ki?function(i,s){let o={fields:{[i_]:{stringValue:r_},[o_]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Kf(s)&&(s=ga(s)),s&&(o.fields[s_]=s),{mapValue:o}}(n,e):t instanceof Mr?b_(t,e):t instanceof _r?E_(t,e):function(i,s){let o=w_(i,s),c=hM(o)+hM(i.Ie);return C7(o)&&C7(i.Ie)?L_(c):td(i.serializer,c)}(t,e)}function KO(t,e,n){return t instanceof Mr?b_(t,e):t instanceof _r?E_(t,e):n}function w_(t,e){return t instanceof Qi?function(r){return C7(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ki=class extends Wi{},Mr=class extends Wi{constructor(e){super(),this.elements=e}};function b_(t,e){let n=I_(e);for(let r of t.elements)n.some(i=>en(i,r))||n.push(r);return{arrayValue:{values:n}}}var _r=class extends Wi{constructor(e){super(),this.elements=e}};function E_(t,e){let n=I_(e);for(let r of t.elements)n=n.filter(i=>!en(i,r));return{arrayValue:{values:n}}}var Qi=class extends Wi{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function hM(t){return Be(t.integerValue||t.doubleValue)}function I_(t){return Zf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Mr&&i instanceof Mr||r instanceof _r&&i instanceof _r?ji(r.elements,i.elements,en):r instanceof Qi&&i instanceof Qi?en(r.Ie,i.Ie):r instanceof Ki&&i instanceof Ki}(t.transform,e.transform)}var A7=class{constructor(e,n){this.version=e,this.transformResults=n}},m1=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function T3(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Yi=class{};function z_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new n0(t.key,m1.none()):new Lr(t.key,t.data,m1.none());{let n=t.data,r=R2.empty(),i=new ct(e2.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Rn(t.key,r,new Q2(i.toArray()),m1.none())}}function YO(t,e,n){t instanceof Lr?function(i,s,o){let c=i.value.clone(),l=mM(i.fieldTransforms,s,o.transformResults);c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Rn?function(i,s,o){if(!T3(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=mM(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(S_(i)),l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zo(t,e,n,r){return t instanceof Lr?function(s,o,c,l){if(!T3(s.precondition,o))return c;let u=s.value.clone(),d=gM(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Rn?function(s,o,c,l){if(!T3(s.precondition,o))return c;let u=gM(s.fieldTransforms,l,o),d=o.data;return d.setAll(S_(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,c){return T3(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function ZO(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=w_(r.transform,i||null);s!=null&&(n===null&&(n=R2.empty()),n.set(r.field,s))}return n||null}function pM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ji(r,i,(s,o)=>QO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Lr=class extends Yi{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Rn=class extends Yi{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function S_(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function mM(t,e,n){let r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,KO(o,c,n[i]))}return r}function gM(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,WO(s,o,e))}return r}var n0=class extends Yi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},x7=class extends Yi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var N7=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&YO(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Zo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=__();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let l=z_(o,c);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&ji(this.mutations,e.mutations,(n,r)=>pM(n,r))&&ji(this.baseMutations,e.baseMutations,(n,r)=>pM(n,r))}},k7=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=function(){return UO}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var R7=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var P7=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Je,_e;function XO(t){switch(t){case x.OK:return X();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return X()}}function D_(t){if(t===void 0)return Tn("GRPC error has no .code"),x.UNKNOWN;switch(t){case Je.OK:return x.OK;case Je.CANCELLED:return x.CANCELLED;case Je.UNKNOWN:return x.UNKNOWN;case Je.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Je.INTERNAL:return x.INTERNAL;case Je.UNAVAILABLE:return x.UNAVAILABLE;case Je.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Je.NOT_FOUND:return x.NOT_FOUND;case Je.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Je.ABORTED:return x.ABORTED;case Je.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Je.DATA_LOSS:return x.DATA_LOSS;default:return X()}}(_e=Je||(Je={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var yM=null;function JO(){return new TextEncoder}var eF=new Sn([4294967295,4294967295],0);function vM(t){let e=JO().encode(t),n=new J5;return n.update(e),new Uint8Array(n.digest())}function CM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Sn([n,r],0),new Sn([i,s],0)]}var O7=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mr(`Invalid padding: ${n}`);if(r<0)throw new mr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mr(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Sn.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Sn.fromNumber(r)));return i.compare(eF)===1&&(i=new Sn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let n=vM(e),[r,i]=CM(n);for(let s=0;s<this.hashCount;s++){let o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ee===0)return;let n=vM(e),[r,i]=CM(n);for(let s=0;s<this.hashCount;s++){let o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},mr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var j3=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,r0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new Ke(ye),kn(),ge())}},r0=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ge(),ge(),ge())}};var Fi=class{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}},U3=class{constructor(e,n){this.targetId=e,this.ge=n}},H3=class{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},$3=class{constructor(){this.pe=0,this.ye=MM(),this.we=Lt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ge(),n=ge(),r=ge();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new r0(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=MM()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ze(this.pe>=0)}Le(){this.Se=!0,this.be=!0}},F7=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=kn(),this.$e=I3(),this.Ke=I3(),this.Ue=new Ke(ye)}We(e){for(let n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(let n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{let r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){let n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){let s=i.target;if(D7(s))if(r===0){let o=new Z(s.path);this.ze(n,o,P2.newNoDocument(o,ie.min()))}else ze(r===1);else{let o=this.et(n);if(o!==r){let c=this.tt(e),l=c?this.nt(c,e,o):1;if(l!==0){this.Ye(n);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,u)}yM?.rt(function(d,p,y,g,E){var D,T,V,G,K,Le;let He={localCacheCount:d,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},be=p.unchangedNames;return be&&(He.bloomFilter={applied:E===0,hashCount:(D=be?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(G=(V=(T=be?.bits)===null||T===void 0?void 0:T.bitmap)===null||V===void 0?void 0:V.length)!==null&&G!==void 0?G:0,padding:(Le=(K=be?.bits)===null||K===void 0?void 0:K.padding)!==null&&Le!==void 0?Le:0,mightContain:L=>{var v;return(v=g?.mightContain(L))!==null&&v!==void 0&&v}}),He}(o,e.ge,this.ke.it(),c,l))}}}}tt(e){let n=e.ge.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,c;try{o=xn(r).toUint8Array()}catch(l){if(l instanceof P3)return Bi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new O7(o,i,s)}catch(l){return Bi(l instanceof mr?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){let r=this.ke.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.ke.it(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,s,null),i++)}),i}ot(e){let n=new Map;this.qe.forEach((s,o)=>{let c=this.Xe(o);if(c){if(s.current&&D7(c.target)){let l=new Z(c.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,P2.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=ge();this.Ke.forEach((s,o)=>{let c=!0;o.forEachWhile(l=>{let u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));let i=new j3(e,n,this.Ue,this.Qe,r);return this.Qe=kn(),this.$e=I3(),this.Ke=I3(),this.Ue=new Ke(ye),i}Ge(e,n){if(!this.Je(e))return;let r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){let n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new $3,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new ct(ye),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new ct(ye),this.$e=this.$e.insert(e,n)),n}Je(e){let n=this.Xe(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){let n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $3),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}};function I3(){return new Ke(Z.comparator)}function MM(){return new Ke(Z.comparator)}var tF={asc:"ASCENDING",desc:"DESCENDING"},nF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rF={and:"AND",or:"OR"},V7=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function B7(t,e){return t.useProto3Json||ma(e)?e:{value:e}}function q3(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iF(t,e){return q3(t,e.toTimestamp())}function J2(t){return ze(!!t),ie.fromTimestamp(function(n){let r=An(n);return new pt(r.seconds,r.nanos)}(t))}function nd(t,e){return j7(t,e).canonicalString()}function j7(t,e){let n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function A_(t){let e=Ue.fromString(t);return ze(P_(e)),e}function U7(t,e){return nd(t.databaseId,e.path)}function s7(t,e){let n=A_(e);if(n.get(1)!==t.databaseId.projectId)throw new H(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(N_(n))}function x_(t,e){return nd(t.databaseId,e)}function sF(t){let e=A_(t);return e.length===4?Ue.emptyPath():N_(e)}function H7(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function N_(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _M(t,e,n){return{name:U7(t,e),fields:n.value.mapValue.fields}}function oF(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(ze(d===void 0||typeof d=="string"),Lt.fromBase64String(d||"")):(ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Lt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(u){let d=u.code===void 0?x.UNKNOWN:D_(u.code);return new H(d,u.message||"")}(o);n=new H3(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=s7(t,r.document.name),s=J2(r.document.updateTime),o=r.document.createTime?J2(r.document.createTime):ie.min(),c=new R2({mapValue:{fields:r.document.fields}}),l=P2.newFoundDocument(i,s,o,c),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Fi(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=s7(t,r.document),s=r.readTime?J2(r.readTime):ie.min(),o=P2.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Fi([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=s7(t,r.document),s=r.removedTargetIds||[];n=new Fi([],s,i,null)}else{if(!("filter"in e))return X();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new P7(i,s),c=r.targetId;n=new U3(c,o)}}return n}function cF(t,e){let n;if(e instanceof Lr)n={update:_M(t,e.key,e.value)};else if(e instanceof n0)n={delete:U7(t,e.key)};else if(e instanceof Rn)n={update:_M(t,e.key,e.data),updateMask:gF(e.fieldMask)};else{if(!(e instanceof x7))return X();n={verify:U7(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof Ki)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Mr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _r)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qi)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:iF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(t,e.precondition)),n}function aF(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?J2(i.updateTime):J2(s);return o.isEqual(ie.min())&&(o=J2(s)),new A7(o,i.transformResults||[])}(n,e))):[]}function lF(t,e){return{documents:[x_(t,e.path)]}}function uF(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=x_(t,i);let s=function(u){if(u.length!==0)return R_(O2.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(y){return{field:Ri(y.field),direction:hF(y.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let c=B7(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:i}}function fF(t){let e=sF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ze(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){let y=k_(p);return y instanceof O2&&d_(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(E){return new Gi(Pi(E.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,ma(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(p){let y=!!p.before,g=p.values||[];return new qi(g,y)}(n.startAt));let u=null;return n.endAt&&(u=function(p){let y=!p.before,g=p.values||[];return new qi(g,y)}(n.endAt)),OO(e,i,o,s,c,"F",l,u)}function dF(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function k_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Pi(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Pi(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Pi(n.unaryFilter.field);return tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Pi(n.unaryFilter.field);return tt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return tt.create(Pi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return O2.create(n.compositeFilter.filters.map(r=>k_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function hF(t){return tF[t]}function pF(t){return nF[t]}function mF(t){return rF[t]}function Ri(t){return{fieldPath:t.canonicalString()}}function Pi(t){return e2.fromServerFormat(t.fieldPath)}function R_(t){return t instanceof tt?function(n){if(n.op==="=="){if(aM(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NAN"}};if(cM(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aM(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NOT_NAN"}};if(cM(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ri(n.field),op:pF(n.op),value:n.value}}}(t):t instanceof O2?function(n){let r=n.getFilters().map(i=>R_(i));return r.length===1?r[0]:{compositeFilter:{op:mF(n.op),filters:r}}}(t):X()}function gF(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function P_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var i0=class t{constructor(e,n,r,i,s=ie.min(),o=ie.min(),c=Lt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var $7=class{constructor(e){this.Tt=e}};function yF(t){let e=fF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?B3(e,e.limit,"L"):e}var G3=class{constructor(){}At(e,n){this.Rt(e,n),n.Vt()}Rt(e,n){if("nullValue"in e)this.ft(n,5);else if("booleanValue"in e)this.ft(n,10),n.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(n,15),n.gt(Be(e.integerValue));else if("doubleValue"in e){let r=Be(e.doubleValue);isNaN(r)?this.ft(n,13):(this.ft(n,15),Jo(r)?n.gt(0):n.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(n,20),typeof r=="string"&&(r=An(r)),n.yt(`${r.seconds||""}`),n.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,n),this.bt(n);else if("bytesValue"in e)this.ft(n,30),n.St(xn(e.bytesValue)),this.bt(n);else if("referenceValue"in e)this.Dt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(n,45),n.gt(r.latitude||0),n.gt(r.longitude||0)}else"mapValue"in e?l_(e)?this.ft(n,Number.MAX_SAFE_INTEGER):a_(e)?this.vt(e.mapValue,n):(this.Ct(e.mapValue,n),this.bt(n)):"arrayValue"in e?(this.Ft(e.arrayValue,n),this.bt(n)):X()}wt(e,n){this.ft(n,25),this.Mt(e,n)}Mt(e,n){n.yt(e)}Ct(e,n){let r=e.fields||{};this.ft(n,55);for(let i of Object.keys(r))this.wt(i,n),this.Rt(r[i],n)}vt(e,n){var r,i;let s=e.fields||{};this.ft(n,53);let o=Ui,c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(n,15),n.gt(Be(c)),this.wt(o,n),this.Rt(s[o],n)}Ft(e,n){let r=e.values||[];this.ft(n,50);for(let i of r)this.Rt(i,n)}Dt(e,n){this.ft(n,37),Z.fromName(e).path.forEach(r=>{this.ft(n,60),this.Mt(r,n)})}ft(e,n){e.gt(n)}bt(e){e.gt(2)}};G3.xt=new G3;var q7=class{constructor(){this.Tn=new G7}addToCollectionParentIndex(e,n){return this.Tn.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(vr.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}},G7=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Ue.comparator)).toArray()}};var wJ=new Uint8Array(0);var LM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O_=41943040,y2=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};y2.DEFAULT_COLLECTION_PERCENTILE=10,y2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,y2.DEFAULT=new y2(O_,y2.DEFAULT_COLLECTION_PERCENTILE,y2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),y2.DISABLED=new y2(-1,0,0);var s0=class t{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new t(0)}static Un(){return new t(-1)}};var wM="LruGarbageCollector",vF=1048576;function bM([t,e],[n,r]){let i=ye(t,n);return i===0?ye(e,r):i}var W7=class{constructor(e){this.Hn=e,this.buffer=new ct(bM),this.Jn=0}Yn(){return++this.Jn}Zn(e){let n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();bM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},K7=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){U(wM,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>I(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){ts(n)?U(wM,"Ignoring IndexedDB error during garbage collection: ",n):yield es(n)}yield this.er(3e5)}))}},Q7=class{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return k.resolve(Gf.ae);let r=new W7(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(LM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LM):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,c,l,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Ni()<=he.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(l-c)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}};function CF(t,e){return new Q7(t,e)}var Y7=class{constructor(){this.changes=new Nn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,P2.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Z7=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var X7=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zo(r.mutation,i,Q2.empty(),pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){let i=pr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wo();return s.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=pr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=kn(),o=Yo(),c=function(){return Yo()}();return n.forEach((l,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Rn)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Zo(d.mutation,u,d.mutation.getFieldMask(),pt.now())):o.set(u.key,Q2.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return c.set(u,new Z7(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Yo(),i=new Ke((o,c)=>o-c),s=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(l=>{let u=n.get(l);if(u===null)return;let d=r.get(l)||Q2.empty();d=c.applyToLocalView(u,d),r.set(l,d);let p=(i.get(c.batchId)||ge()).add(l);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),u=l.key,d=l.value,p=__();d.forEach(y=>{if(!s.has(y)){let g=z_(n.get(y),r.get(y));g!==null&&p.set(y,g),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):k.resolve(pr()),c=Xo,l=s;return o.next(u=>k.forEach(u,(d,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(d)?k.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{l=l.insert(d,y)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ge())).next(d=>({batchId:c,changes:M_(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=Wo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Wo();return this.indexManager.getCollectionParents(e,s).next(c=>k.forEach(c,l=>{let u=function(p,y){return new Cr(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,P2.newInvalidDocument(d)))});let c=Wo();return o.forEach((l,u)=>{let d=s.get(l);d!==void 0&&Zo(d.mutation,u,Q2.empty(),pt.now()),va(n,u)&&(c=c.insert(l,u))}),c})}};var J7=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return k.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:J2(i.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:yF(i.bundledQuery),readTime:J2(i.readTime)}}(n)),k.resolve()}};var ef=class{constructor(){this.overlays=new Ke(Z.comparator),this.Rr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){let r=pr();return k.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),k.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){let i=pr(),s=n.length+1,o=new Z(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let l=c.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ke((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=pr(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let c=pr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>c.set(u,d)),!(c.size()>=i)););return k.resolve(c)}Et(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new R7(n,r));let s=this.Rr.get(n);s===void 0&&(s=ge(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}};var tf=class{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,k.resolve()}};var o0=class{constructor(){this.Vr=new ct(et.mr),this.gr=new ct(et.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){let r=new et(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new et(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){let n=new Z(new Ue([])),r=new et(n,e),i=new et(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let n=new Z(new Ue([])),r=new et(n,e),i=new et(n,e+1),s=ge();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new et(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},et=class{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Z.comparator(e.key,n.key)||ye(e.Cr,n.Cr)}static pr(e,n){return ye(e.Cr,n.Cr)||Z.comparator(e.key,n.key)}};var nf=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new ct(et.mr)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new N7(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.Mr=this.Mr.add(new et(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,n){return k.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Nr(r),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?Wf:this.Fr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{let c=this.Or(o.Cr);s.push(c)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(ye);return n.forEach(i=>{let s=new et(i,0),o=new et(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],c=>{r=r.add(c.Cr)})}),k.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;Z.isDocumentKey(s)||(s=s.child(""));let o=new et(new Z(s),0),c=new ct(ye);return this.Mr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(c=c.add(l.Cr)),!0)},o),k.resolve(this.Br(c))}Br(e){let n=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return k.forEach(n.mutations,i=>{let s=new et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){let r=new et(n,0),i=this.Mr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var rf=class{constructor(e){this.kr=e,this.docs=function(){return new Ke(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():P2.newInvalidDocument(n))}getEntries(e,n){let r=kn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():P2.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=kn(),o=n.path,c=new Z(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||vO(yO(d),r)<=0||(i.has(d.key)||va(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X()}qr(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new sf(this)}getSize(e){return k.resolve(this.size)}},sf=class extends Y7{constructor(e){super(),this.Ir=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}};var of=class{constructor(e){this.persistence=e,this.Qr=new Nn(n=>Xf(n),Jf),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.$r=0,this.Kr=new o0,this.targetCount=0,this.Ur=s0.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),k.resolve()}zn(e){this.Qr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Ur=new s0(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.zn(n),k.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Qr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){let r=this.Qr.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),k.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Kr.vr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.Kr.containsKey(n))}};var W3=class{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Gf(0),this.zr=!1,this.zr=!0,this.jr=new tf,this.referenceDelegate=e(this),this.Hr=new of(this),this.indexManager=new q7,this.remoteDocumentCache=function(i){return new rf(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new $7(n),this.Yr=new J7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ef,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new nf(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new cf(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return k.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}},cf=class extends g7{constructor(e){super(),this.currentSequenceNumber=e}},af=class t{constructor(e){this.persistence=e,this.ti=new o0,this.ni=null}static ri(e){return new t(e)}get ii(){if(this.ni)return this.ni;throw X()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),k.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.ii,r=>{let i=Z.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return k.or([()=>k.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}},K3=class t{constructor(e,n){this.persistence=e,this.oi=new Nn(r=>LO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=CF(this,n)}static ri(e,n){return new t(e,n)}Zr(){}Xr(e){return k.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){let n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return k.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?k.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(c=>{c||(r++,s.removeEntry(o,ie.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),k.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),k.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=S3(e.data.value)),n}ar(e,n,r){return k.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.oi.get(n);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var lf=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=ge(),i=ge();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var uf=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ff=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return eC()?8:MO(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new uf;return this._s(e,n,o).next(c=>{if(s.result=c,this.Xi)return this.us(e,n,o,c.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Ni()<=he.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",ki(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),k.resolve()):(Ni()<=he.DEBUG&&U("QueryEngine","Query:",ki(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Ni()<=he.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",ki(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,X2(n))):k.resolve())}rs(e,n){if(dM(n))return k.resolve(null);let r=X2(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=B3(n,null,"F"),r=X2(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ge(...s);return this.ns.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.cs(n,c);return this.ls(n,u,o,l.readTime)?this.rs(e,B3(n,null,"F")):this.hs(e,u,n,l)}))})))}ss(e,n,r,i){return dM(n)||i.isEqual(ie.min())?k.resolve(null):this.ns.getDocuments(e,r).next(s=>{let o=this.cs(n,s);return this.ls(n,o,r,i)?k.resolve(null):(Ni()<=he.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ki(n)),this.hs(e,o,n,gO(i,Xo)).next(c=>c))})}cs(e,n){let r=new ct(v_(e));return n.forEach((i,s)=>{va(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return Ni()<=he.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",ki(n)),this.ns.getDocumentsMatchingQuery(e,n,vr.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var rd="LocalStore",MF=3e8,df=class{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Ke(ye),this.Is=new Nn(s=>Xf(s),Jf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X7(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}};function _F(t,e,n,r){return new df(t,e,n,r)}function F_(t,e){return I(this,null,function*(){let n=ne(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],l=ge();for(let u of i){o.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}for(let u of s){c.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:c}))})})})}function LF(t,e){let n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,l,u,d){let p=u.batch,y=p.keys(),g=k.resolve();return y.forEach(E=>{g=g.next(()=>d.getEntry(l,E)).next(D=>{let T=u.docVersions.get(E);ze(T!==null),D.version.compareTo(T)<0&&(p.applyToRemoteDocument(D,u),D.isValidDocument()&&(D.setReadTime(u.commitVersion),d.addEntry(D)))})}),g.next(()=>c.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=ge();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function V_(t){let e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function wF(t,e){let n=ne(t),r=e.snapshotVersion,i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;let c=[];e.targetChanges.forEach((d,p)=>{let y=i.get(p);if(!y)return;c.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,p)));let g=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(Lt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(p,g),function(D,T,V){return D.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=MF?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(y,g,d)&&c.push(n.Hr.updateTargetData(s,g))});let l=kn(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(bF(s,o,e.documentUpdates).next(d=>{l=d.Vs,u=d.fs})),!r.isEqual(ie.min())){let d=n.Hr.getLastRemoteSnapshotVersion(s).next(p=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(d)}return k.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ts=i,s))}function bF(t,e,n){let r=ge(),i=ge();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=kn();return n.forEach((c,l)=>{let u=s.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):U(rd,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function EF(t,e){let n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Wf),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IF(t,e){let n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,k.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new i0(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}function hf(t,e,n){return I(this,null,function*(){let r=ne(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ts(o))throw o;U(rd,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function EM(t,e,n){let r=ne(t),i=ie.min(),s=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){let p=ne(l),y=p.Is.get(d);return y!==void 0?k.resolve(p.Ts.get(y)):p.Hr.getTargetData(u,d)}(r,o,X2(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,c.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:ge())).next(c=>(zF(r,VO(e),c),{documents:c,gs:s})))}function zF(t,e,n){let r=t.Es.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}var Q3=class{constructor(){this.activeTargetIds=qO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var pf=class{constructor(){this.ho=new Q3,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Q3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var mf=class{To(e){}shutdown(){}};var IM="ConnectivityMonitor",Y3=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){U(IM,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){U(IM,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var z3=null;function gf(){return z3===null?z3=function(){return 268435456+Math.round(2147483648*Math.random())}():z3++,"0x"+z3.toString(16)}var o7="RestConnection",SF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},yf=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===O3?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,n,r,i,s){let o=gf(),c=this.So(e,n.toUriEncodedString());U(o7,`Sending RPC '${e}' ${o}:`,c,r);let l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,c,l,r).then(u=>(U(o7,`Received RPC '${e}' ${o}: `,u),u),u=>{throw Bi(o7,`RPC '${e}' ${o} failed with error: `,u,"url: ",c,"request:",r),u})}Co(e,n,r,i,s,o){return this.bo(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ji}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,n){let r=SF[e];return`${this.po}/v1/${n}:${r}`}terminate(){}};var vf=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}};var _t="WebChannelConnection",Cf=class extends yf{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){let s=gf();return new Promise((o,c)=>{let l=new e7;l.setWithCredentials(!0),l.listenOnce(t7.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Go.NO_ERROR:let d=l.getResponseJson();U(_t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Go.TIMEOUT:U(_t,`RPC '${e}' ${s} timed out`),c(new H(x.DEADLINE_EXCEEDED,"Request time out"));break;case Go.HTTP_ERROR:let p=l.getStatus();if(U(_t,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let g=y?.error;if(g&&g.status&&g.message){let E=function(T){let V=T.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(V)>=0?V:x.UNKNOWN}(g.status);c(new H(E,g.message))}else c(new H(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new H(x.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{U(_t,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);U(_t,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Wo(e,n,r){let i=gf(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=i7(),c=r7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let d=s.join("");U(_t,`Creating RPC '${e}' stream ${i}: ${d}`,l);let p=o.createWebChannel(d,l),y=!1,g=!1,E=new vf({Fo:T=>{g?U(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(y||(U(_t,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),U(_t,`RPC '${e}' stream ${i} sending:`,T),p.send(T))},Mo:()=>p.close()}),D=(T,V,G)=>{T.listen(V,K=>{try{G(K)}catch(Le){setTimeout(()=>{throw Le},0)}})};return D(p,xi.EventType.OPEN,()=>{g||(U(_t,`RPC '${e}' stream ${i} transport opened.`),E.Qo())}),D(p,xi.EventType.CLOSE,()=>{g||(g=!0,U(_t,`RPC '${e}' stream ${i} transport closed`),E.Ko())}),D(p,xi.EventType.ERROR,T=>{g||(g=!0,Bi(_t,`RPC '${e}' stream ${i} transport errored:`,T),E.Ko(new H(x.UNAVAILABLE,"The operation could not be completed")))}),D(p,xi.EventType.MESSAGE,T=>{var V;if(!g){let G=T.data[0];ze(!!G);let K=G,Le=K?.error||((V=K[0])===null||V===void 0?void 0:V.error);if(Le){U(_t,`RPC '${e}' stream ${i} received error:`,Le);let He=Le.status,be=function(M){let _=Je[M];if(_!==void 0)return D_(_)}(He),L=Le.message;be===void 0&&(be=x.INTERNAL,L="Unknown error status: "+He+" with message "+Le.message),g=!0,E.Ko(new H(be,L)),p.close()}else U(_t,`RPC '${e}' stream ${i} received:`,G),E.Uo(G)}}),D(c,n7.STAT_EVENT,T=>{T.stat===b3.PROXY?U(_t,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===b3.NOPROXY&&U(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.$o()},0),E}};function c7(){return typeof document<"u"?document:null}function Ca(t){return new V7(t,!0)}var Z3=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var zM="PersistentStream",X3=class{constructor(e,n,r,i,s,o,c,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Z3(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return I(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return I(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,n){return I(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Tn(n.toString()),Tn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(n)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{let i=new H(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){let r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>I(this,null,function*(){this.state=0,this.start()}))}m_(e){return U(zM,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(U(zM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Mf=class extends X3{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let n=oF(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?J2(o.readTime):ie.min()}(e);return this.listener.p_(n,r)}y_(e){let n={};n.database=H7(this.serializer),n.addTarget=function(s,o){let c,l=o.target;if(c=D7(l)?{documents:lF(s,l)}:{query:uF(s,l).ht},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=T_(s,o.resumeToken);let u=B7(s,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(ie.min())>0){c.readTime=q3(s,o.snapshotVersion.toTimestamp());let u=B7(s,o.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,e);let r=dF(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){let n={};n.database=H7(this.serializer),n.removeTarget=e,this.I_(n)}},_f=class extends X3{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();let n=aF(e.writeResults,e.commitTime),r=J2(e.commitTime);return this.listener.v_(r,n)}C_(){let e={};e.database=H7(this.serializer),this.I_(e)}S_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>cF(this.serializer,r))};this.I_(n)}};var Lf=class{},wf=class extends Lf{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new H(x.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,j7(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(x.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Co(e,j7(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(x.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},bf=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Tn(n),this.N_=!1):U("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var wr="RemoteStore",Ef=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(()=>I(this,null,function*(){Er(this)&&(U(wr,"Restarting streams for network reachability change."),yield function(l){return I(this,null,function*(){let u=ne(l);u.W_.add(4),yield h0(u),u.j_.set("Unknown"),u.W_.delete(4),yield Ma(u)})}(this))}))}),this.j_=new bf(r,i)}};function Ma(t){return I(this,null,function*(){if(Er(t))for(let e of t.G_)yield e(!0)})}function h0(t){return I(this,null,function*(){for(let e of t.G_)yield e(!1)})}function B_(t,e){let n=ne(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),cd(n)?od(n):ns(n).c_()&&sd(n,e))}function id(t,e){let n=ne(t),r=ns(n);n.U_.delete(e),r.c_()&&j_(n,e),n.U_.size===0&&(r.c_()?r.P_():Er(n)&&n.j_.set("Unknown"))}function sd(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ns(t).y_(e)}function j_(t,e){t.H_.Ne(e),ns(t).w_(e)}function od(t){t.H_=new F7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),ns(t).start(),t.j_.B_()}function cd(t){return Er(t)&&!ns(t).u_()&&t.U_.size>0}function Er(t){return ne(t).W_.size===0}function U_(t){t.H_=void 0}function DF(t){return I(this,null,function*(){t.j_.set("Online")})}function TF(t){return I(this,null,function*(){t.U_.forEach((e,n)=>{sd(t,e)})})}function AF(t,e){return I(this,null,function*(){U_(t),cd(t)?(t.j_.q_(e),od(t)):t.j_.set("Unknown")})}function xF(t,e,n){return I(this,null,function*(){if(t.j_.set("Online"),e instanceof H3&&e.state===2&&e.cause)try{yield function(i,s){return I(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.U_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.U_.delete(c),i.H_.removeTarget(c))})}(t,e)}catch(r){U(wr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield J3(t,r)}else if(e instanceof Fi?t.H_.We(e):e instanceof U3?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ie.min()))try{let r=yield V_(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let c=s.H_.ot(o);return c.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.U_.get(u);d&&s.U_.set(u,d.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,u)=>{let d=s.U_.get(l);if(!d)return;s.U_.set(l,d.withResumeToken(Lt.EMPTY_BYTE_STRING,d.snapshotVersion)),j_(s,l);let p=new i0(d.target,l,u,d.sequenceNumber);sd(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){U(wr,"Failed to raise snapshot:",r),yield J3(t,r)}})}function J3(t,e,n){return I(this,null,function*(){if(!ts(e))throw e;t.W_.add(1),yield h0(t),t.j_.set("Offline"),n||(n=()=>V_(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){U(wr,"Retrying IndexedDB access"),yield n(),t.W_.delete(1),yield Ma(t)}))})}function H_(t,e){return e().catch(n=>J3(t,n,e))}function _a(t){return I(this,null,function*(){let e=ne(t),n=C1(e),r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Wf;for(;NF(e);)try{let i=yield EF(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,kF(e,i)}catch(i){yield J3(e,i)}$_(e)&&q_(e)})}function NF(t){return Er(t)&&t.K_.length<10}function kF(t,e){t.K_.push(e);let n=C1(t);n.c_()&&n.b_&&n.S_(e.mutations)}function $_(t){return Er(t)&&!C1(t).u_()&&t.K_.length>0}function q_(t){C1(t).start()}function RF(t){return I(this,null,function*(){C1(t).C_()})}function PF(t){return I(this,null,function*(){let e=C1(t);for(let n of t.K_)e.S_(n.mutations)})}function OF(t,e,n){return I(this,null,function*(){let r=t.K_.shift(),i=k7.from(r,e,n);yield H_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield _a(t)})}function FF(t,e){return I(this,null,function*(){e&&C1(t).b_&&(yield function(r,i){return I(this,null,function*(){if(function(o){return XO(o)&&o!==x.ABORTED}(i.code)){let s=r.K_.shift();C1(r).h_(),yield H_(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield _a(r)}})}(t,e)),$_(t)&&q_(t)})}function SM(t,e){return I(this,null,function*(){let n=ne(t);n.asyncQueue.verifyOperationInProgress(),U(wr,"RemoteStore received new credentials");let r=Er(n);n.W_.add(3),yield h0(n),r&&n.j_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),yield Ma(n)})}function VF(t,e){return I(this,null,function*(){let n=ne(t);e?(n.W_.delete(2),yield Ma(n)):e||(n.W_.add(2),yield h0(n),n.j_.set("Unknown"))})}function ns(t){return t.J_||(t.J_=function(n,r,i){let s=ne(n);return s.M_(),new Mf(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:DF.bind(null,t),No:TF.bind(null,t),Lo:AF.bind(null,t),p_:xF.bind(null,t)}),t.G_.push(e=>I(this,null,function*(){e?(t.J_.h_(),cd(t)?od(t):t.j_.set("Unknown")):(yield t.J_.stop(),U_(t))}))),t.J_}function C1(t){return t.Y_||(t.Y_=function(n,r,i){let s=ne(n);return s.M_(),new _f(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:RF.bind(null,t),Lo:FF.bind(null,t),D_:PF.bind(null,t),v_:OF.bind(null,t)}),t.G_.push(e=>I(this,null,function*(){e?(t.Y_.h_(),yield _a(t)):(yield t.Y_.stop(),t.K_.length>0&&(U(wr,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))}))),t.Y_}var If=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Y2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ad(t,e){if(Tn("AsyncQueue",`${e}: ${t}`),ts(t))return new H(x.UNAVAILABLE,`${e}: ${t}`);throw t}var ea=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=Wo(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var ta=class{constructor(){this.Z_=new Ke(Z.comparator)}track(e){let n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):X():this.Z_=this.Z_.insert(n,e)}X_(){let e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}},Zi=class t{constructor(e,n,r,i,s,o,c,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new t(e,n,ea.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ya(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var zf=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},Sf=class{constructor(){this.queries=DM(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){let i=ne(n),s=i.queries;i.queries=DM(),s.forEach((o,c)=>{for(let l of c.ta)l.onError(r)})})(this,new H(x.ABORTED,"Firestore shutting down"))}};function DM(){return new Nn(t=>y_(t),ya)}function G_(t,e){return I(this,null,function*(){let n=ne(t),r=3,i=e.query,s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new zf,r=e.ra()?0:1);try{switch(r){case 0:s.ea=yield n.onListen(i,!0);break;case 1:s.ea=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let c=ad(o,`Initialization of query '${ki(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&ld(n)})}function W_(t,e){return I(this,null,function*(){let n=ne(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function BF(t,e){let n=ne(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let c of o.ta)c.oa(i)&&(r=!0);o.ea=i}}r&&ld(n)}function jF(t,e,n){let r=ne(t),i=r.queries.get(e);if(i)for(let s of i.ta)s.onError(n);r.queries.delete(e)}function ld(t){t.ia.forEach(e=>{e.next()})}var Df,TM;(TM=Df||(Df={}))._a="default",TM.Cache="cache";var na=class{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Zi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;let r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;let n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Zi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Df.Cache}};var ra=class{constructor(e){this.key=e}},ia=class{constructor(e){this.key=e}},Tf=class{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ge(),this.mutatedKeys=ge(),this.ya=v_(e),this.wa=new ea(this.ya)}get ba(){return this.fa}Sa(e,n){let r=n?n.Da:new ta,i=n?n.wa:this.wa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{let y=i.get(d),g=va(this.query,p)?p:null,E=!!y&&this.mutatedKeys.has(y.key),D=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),T=!1;y&&g?y.data.isEqual(g.data)?E!==D&&(r.track({type:3,doc:g}),T=!0):this.va(y,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.ya(g,l)>0||u&&this.ya(g,u)<0)&&(c=!0)):!y&&g?(r.track({type:0,doc:g}),T=!0):y&&!g&&(r.track({type:1,doc:y}),T=!0,(l||u)&&(c=!0)),T&&(g?(o=o.add(g),s=D?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:c,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let o=e.Da.X_();o.sort((d,p)=>function(g,E){let D=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return D(g)-D(E)}(d.type,p.type)||this.ya(d.doc,p.doc)),this.Ca(r),i=i!=null&&i;let c=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new Zi(this.query,e.wa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new ta,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=ge(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new ia(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new ra(r))}),n}Oa(e){this.fa=e.gs,this.pa=ge();let n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Zi.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},ud="SyncEngine",Af=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},xf=class{constructor(e){this.key=e,this.Ba=!1}},Nf=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Nn(c=>y_(c),ya),this.qa=new Map,this.Qa=new Set,this.$a=new Ke(Z.comparator),this.Ka=new Map,this.Ua=new o0,this.Wa={},this.Ga=new Map,this.za=s0.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function UF(t,e,n=!0){return I(this,null,function*(){let r=J_(t),i,s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=yield K_(r,e,n,!0),i})}function HF(t,e){return I(this,null,function*(){let n=J_(t);yield K_(n,e,!0,!1)})}function K_(t,e,n,r){return I(this,null,function*(){let i=yield IF(t.localStore,X2(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),c;return r&&(c=yield $F(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&B_(t.remoteStore,i),c})}function $F(t,e,n,r,i){return I(this,null,function*(){t.Ha=(p,y,g)=>function(D,T,V,G){return I(this,null,function*(){let K=T.view.Sa(V);K.ls&&(K=yield EM(D.localStore,T.query,!1).then(({documents:L})=>T.view.Sa(L,K)));let Le=G&&G.targetChanges.get(T.targetId),He=G&&G.targetMismatches.get(T.targetId)!=null,be=T.view.applyChanges(K,D.isPrimaryClient,Le,He);return xM(D,T.targetId,be.Ma),be.snapshot})}(t,p,y,g);let s=yield EM(t.localStore,e,!0),o=new Tf(e,s.gs),c=o.Sa(s.documents),l=r0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(c,t.isPrimaryClient,l);xM(t,n,u.Ma);let d=new Af(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot})}function qF(t,e,n){return I(this,null,function*(){let r=ne(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!ya(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield hf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&id(r.remoteStore,i.targetId),kf(r,i.targetId)}).catch(es))):(kf(r,i.targetId),yield hf(r.localStore,i.targetId,!0))})}function GF(t,e){return I(this,null,function*(){let n=ne(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),id(n.remoteStore,r.targetId))})}function WF(t,e,n){return I(this,null,function*(){let r=eV(t);try{let i=yield function(o,c){let l=ne(o),u=pt.now(),d=c.reduce((g,E)=>g.add(E.key),ge()),p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=kn(),D=ge();return l.ds.getEntries(g,d).next(T=>{E=T,E.forEach((V,G)=>{G.isValidDocument()||(D=D.add(V))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(T=>{p=T;let V=[];for(let G of c){let K=ZO(G,p.get(G.key).overlayedDocument);K!=null&&V.push(new Rn(G.key,K,u_(K.value.mapValue),m1.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,V,c)}).next(T=>{y=T;let V=T.applyToLocalDocumentSet(p,D);return l.documentOverlayCache.saveOverlays(g,T.batchId,V)})}).then(()=>({batchId:y.batchId,changes:M_(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new Ke(ye)),u=u.insert(c,l),o.Wa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield p0(r,i.changes),yield _a(r.remoteStore)}catch(i){let s=ad(i,"Failed to persist write");n.reject(s)}})}function Q_(t,e){return I(this,null,function*(){let n=ne(t);try{let r=yield wF(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Ka.get(s);o&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?ze(o.Ba):i.removedDocuments.size>0&&(ze(o.Ba),o.Ba=!1))}),yield p0(n,r,e)}catch(r){yield es(r)}})}function AM(t,e,n){let r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ka.forEach((s,o)=>{let c=o.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let l=ne(o);l.onlineState=c;let u=!1;l.queries.forEach((d,p)=>{for(let y of p.ta)y.sa(c)&&(u=!0)}),u&&ld(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function KF(t,e,n){return I(this,null,function*(){let r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ka.get(e),s=i&&i.key;if(s){let o=new Ke(Z.comparator);o=o.insert(s,P2.newNoDocument(s,ie.min()));let c=ge().add(s),l=new j3(ie.min(),new Map,new Ke(ye),o,c);yield Q_(r,l),r.$a=r.$a.remove(s),r.Ka.delete(e),fd(r)}else yield hf(r.localStore,e,!1).then(()=>kf(r,e,n)).catch(es)})}function QF(t,e){return I(this,null,function*(){let n=ne(t),r=e.batch.batchId;try{let i=yield LF(n.localStore,e);Z_(n,r,null),Y_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield p0(n,i)}catch(i){yield es(i)}})}function YF(t,e,n){return I(this,null,function*(){let r=ne(t);try{let i=yield function(o,c){let l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,c).next(p=>(ze(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);Z_(r,e,n),Y_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield p0(r,i)}catch(i){yield es(i)}})}function Y_(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function Z_(t,e,n){let r=ne(t),i=r.Wa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function kf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||X_(t,r)})}function X_(t,e){t.Qa.delete(e.path.canonicalString());let n=t.$a.get(e);n!==null&&(id(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),fd(t))}function xM(t,e,n){for(let r of n)r instanceof ra?(t.Ua.addReference(r.key,e),ZF(t,r)):r instanceof ia?(U(ud,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||X_(t,r.key)):X()}function ZF(t,e){let n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(U(ud,"New document in limbo: "+n),t.Qa.add(r),fd(t))}function fd(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){let e=t.Qa.values().next().value;t.Qa.delete(e);let n=new Z(Ue.fromString(e)),r=t.za.next();t.Ka.set(r,new xf(n)),t.$a=t.$a.insert(n,r),B_(t.remoteStore,new i0(X2(ed(n.path)),r,"TargetPurposeLimboResolution",Gf.ae))}}function p0(t,e,n){return I(this,null,function*(){let r=ne(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((c,l)=>{o.push(r.Ha(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=n?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);let p=lf.Yi(l.targetId,u);s.push(p)}}))}),yield Promise.all(o),r.La.p_(i),yield function(l,u){return I(this,null,function*(){let d=ne(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(u,y=>k.forEach(y.Hi,g=>d.persistence.referenceDelegate.addReference(p,y.targetId,g)).next(()=>k.forEach(y.Ji,g=>d.persistence.referenceDelegate.removeReference(p,y.targetId,g)))))}catch(p){if(!ts(p))throw p;U(rd,"Failed to update sequence numbers: "+p)}for(let p of u){let y=p.targetId;if(!p.fromCache){let g=d.Ts.get(y),E=g.snapshotVersion,D=g.withLastLimboFreeSnapshotVersion(E);d.Ts=d.Ts.insert(y,D)}}})}(r.localStore,s))})}function XF(t,e){return I(this,null,function*(){let n=ne(t);if(!n.currentUser.isEqual(e)){U(ud,"User change. New user:",e.toKey());let r=yield F_(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(c=>{c.forEach(l=>{l.reject(new H(x.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield p0(n,r.Rs)}})}function JF(t,e){let n=ne(t),r=n.Ka.get(e);if(r&&r.Ba)return ge().add(r.key);{let i=ge(),s=n.qa.get(e);if(!s)return i;for(let o of s){let c=n.ka.get(o);i=i.unionWith(c.view.ba)}return i}}function J_(t){let e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KF.bind(null,e),e.La.p_=BF.bind(null,e.eventManager),e.La.Ja=jF.bind(null,e.eventManager),e}function eV(t){let e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YF.bind(null,e),e}var eL=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return I(this,null,function*(){this.serializer=Ca(n.databaseInfo.databaseId),this.sharedClientState=this.Za(n),this.persistence=this.Xa(n),yield this.persistence.start(),this.localStore=this.eu(n),this.gcScheduler=this.tu(n,this.localStore),this.indexBackfillerScheduler=this.nu(n,this.localStore)})}tu(n,r){return null}nu(n,r){return null}eu(n){return _F(this.persistence,new ff,n.initialUser,this.serializer)}Xa(n){return new W3(af.ri,this.serializer)}Za(n){return new pf}terminate(){return I(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),Rf=class extends eL{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ze(this.persistence.referenceDelegate instanceof K3);let r=this.persistence.referenceDelegate.garbageCollector;return new K7(r,e.asyncQueue,n)}Xa(e){let n=this.cacheSizeBytes!==void 0?y2.withCacheSize(this.cacheSizeBytes):y2.DEFAULT;return new W3(r=>K3.ri(r,n),this.serializer)}};var tV=(()=>{class t{initialize(n,r){return I(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>AM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XF.bind(null,this.syncEngine),yield VF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Sf}()}createDatastore(n){let r=Ca(n.databaseInfo.databaseId),i=function(o){return new Cf(o)}(n.databaseInfo);return function(o,c,l,u){return new wf(o,c,l,u)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,l){return new Ef(i,s,o,c,l)}(this.localStore,this.datastore,n.asyncQueue,r=>AM(this.syncEngine,r,0),function(){return Y3.D()?new Y3:new mf}())}createSyncEngine(n,r){return function(s,o,c,l,u,d,p){let y=new Nf(s,o,c,l,u,d);return p&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var n,r;yield function(s){return I(this,null,function*(){let o=ne(s);U(wr,"RemoteStore shutting down."),o.W_.add(5),yield h0(o),o.z_.shutdown(),o.j_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var sa=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Tn("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var M1="FirestoreClient",Pf=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=N3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>I(this,null,function*(){U(M1,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(U(M1,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Y2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=ad(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function a7(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U(M1,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield F_(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function NM(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield nV(t);U(M1,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>SM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>SM(e.remoteStore,i)),t._onlineComponents=e})}function nV(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U(M1,"Using user provided OfflineComponentProvider");try{yield a7(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===x.FAILED_PRECONDITION||i.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Bi("Error using user provided cache. Falling back to memory cache: "+n),yield a7(t,new eL)}}else U(M1,"Using default OfflineComponentProvider"),yield a7(t,new Rf(void 0));return t._offlineComponents})}function tL(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U(M1,"Using user provided OnlineComponentProvider"),yield NM(t,t._uninitializedComponentsProvider._online)):(U(M1,"Using default OnlineComponentProvider"),yield NM(t,new tV))),t._onlineComponents})}function rV(t){return tL(t).then(e=>e.syncEngine)}function Of(t){return I(this,null,function*(){let e=yield tL(t),n=e.eventManager;return n.onListen=UF.bind(null,e.syncEngine),n.onUnlisten=qF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GF.bind(null,e.syncEngine),n})}function iV(t,e,n={}){let r=new Y2;return t.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(s,o,c,l,u){let d=new sa({next:y=>{d.su(),o.enqueueAndForget(()=>W_(s,p)),y.fromCache&&l.source==="server"?u.reject(new H(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new na(c,d,{includeMetadataChanges:!0,Ta:!0});return G_(s,p)}(yield Of(t),t.asyncQueue,e,n,r)})),r.promise}function nL(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var kM=new Map;function rL(t,e,n){if(!n)throw new H(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sV(t,e,n,r){if(e===!0&&r===!0)throw new H(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RM(t){if(!Z.isDocumentKey(t))throw new H(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PM(t){if(Z.isDocumentKey(t))throw new H(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function La(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function g1(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=La(t);throw new H(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function oV(t,e){if(e<=0)throw new H(x.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var iL="firestore.googleapis.com",OM=!0,oa=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iL,this.ssl=OM}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:OM;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vF)throw new H(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xi=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oa({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oa(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new l7;switch(r.type){case"firstParty":return new h7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=kM.get(n);r&&(U("ComponentProvider","Removing Datastore"),kM.delete(n),r.terminate())}(this),Promise.resolve()}};function sL(t,e,n,r={}){var i;let s=(t=g1(t,Xi))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s.host!==iL&&s.host!==c&&Bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:!1,emulatorOptions:r});if(!or(l,o)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=ot.MOCK_USER;else{u=Qv(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new H(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ot(p)}t._authCredentials=new u7(new A3(u,d))}}var _1=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},t2=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new y1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},y1=class t extends _1{constructor(e,n,r){super(e,n,ed(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new t2(this.firestore,null,new Z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function oL(t,e,...n){if(t=qt(t),rL("collection","path",e),t instanceof Xi){let r=Ue.fromString(e,...n);return PM(r),new y1(t,null,r)}{if(!(t instanceof t2||t instanceof y1))throw new H(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ue.fromString(e,...n));return PM(r),new y1(t.firestore,null,r)}}function dd(t,e,...n){if(t=qt(t),arguments.length===1&&(e=N3.newId()),rL("doc","path",e),t instanceof Xi){let r=Ue.fromString(e,...n);return RM(r),new t2(t,null,new Z(r))}{if(!(t instanceof t2||t instanceof y1))throw new H(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ue.fromString(e,...n));return RM(r),new t2(t.firestore,t instanceof y1?t.converter:null,new Z(r))}}var FM="AsyncQueue",ca=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Z3(this,"async_queue_retry"),this.bu=()=>{let r=c7();r&&U(FM,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;let n=c7();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let n=c7();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let n=new Y2;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return I(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ts(e))throw e;U(FM,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Tn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);let i=If.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&X()}verifyOperationInProgress(){}Mu(){return I(this,null,function*(){let e;do e=this.Su,yield e;while(e!==this.Su)})}xu(e){for(let n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let n=this.fu.indexOf(e);this.fu.splice(n,1)}};function VM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var L1=class extends Xi{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ca,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ca(e),this._firestoreClient=void 0,yield e}})}};function cL(t,e){let n=typeof t=="object"?t:Di(),r=typeof t=="string"?t:e||O3,i=o3(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Wv("firestore");s&&sL(i,...s)}return i}function hd(t){if(t._terminated)throw new H(x.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cV(t),t._firestoreClient}function cV(t){var e,n,r;let i=t._freezeSettings(),s=function(c,l,u,d){return new y7(c,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,nL(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Pf(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(t._componentsProvider))}var c0=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Lt.fromBase64String(e))}catch(n){throw new H(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var a0=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new e2(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var aa=class{constructor(e){this._methodName=e}};var l0=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var u0=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var aV=/^__.*__$/,Ff=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lr(e,this.data,n,this.fieldTransforms)}};function aL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var Vf=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return la(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(aL(this.Lu)&&aV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},Bf=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ca(e)}ju(e,n,r,i=!1){return new Vf({Lu:e,methodName:n,zu:r,path:e2.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function lL(t){let e=t._freezeSettings(),n=Ca(t._databaseId);return new Bf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lV(t,e,n,r,i,s={}){let o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);dL("Data must be an object, but it was:",o,r);let c=uL(r,o),l,u;if(s.merge)l=new Q2(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let p of s.mergeFields){let y=fV(e,p,n);if(!o.contains(y))throw new H(x.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);hV(d,y)||d.push(y)}l=new Q2(d),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new Ff(new R2(c),l,u)}function uV(t,e,n,r=!1){return pd(n,t.ju(r?4:3,e))}function pd(t,e){if(fL(t=qt(t)))return dL("Unsupported field value:",e,t),uL(t,e);if(t instanceof aa)return function(r,i){if(!aL(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let l=pd(c,i.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=pt.fromDate(r);return{timestampValue:q3(i.serializer,s)}}if(r instanceof pt){let s=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:q3(i.serializer,s)}}if(r instanceof l0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof c0)return{bytesValue:T_(i.serializer,r._byteString)};if(r instanceof t2){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:nd(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof u0)return function(o,c){return{mapValue:{fields:{[Qf]:{stringValue:Yf},[Ui]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Wu("VectorValues must only contain numeric values.");return td(c.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${La(r)}`)}(t,e)}function uL(t,e){let n={};return n_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(t,(r,i)=>{let s=pd(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function fL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof l0||t instanceof c0||t instanceof t2||t instanceof aa||t instanceof u0)}function dL(t,e,n){if(!fL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=La(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function fV(t,e,n){if((e=qt(e))instanceof a0)return e._internalPath;if(typeof e=="string")return hL(t,e);throw la("Field path arguments must be of type string or ",t,!1,void 0,n)}var dV=new RegExp("[~\\*/\\[\\]]");function hL(t,e,n){if(e.search(dV)>=0)throw la(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new a0(...e.split("."))._internalPath}catch{throw la(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function la(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new H(x.INVALID_ARGUMENT,c+t+l)}function hV(t,e){return t.some(n=>n.isEqual(e))}var ua=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new t2(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new jf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(md("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},jf=class extends ua{data(){return super.data()}};function md(t,e){return typeof e=="string"?hL(t,e):e instanceof a0?e._internalPath:e._delegate._internalPath}function pL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var f0=class{},fa=class extends f0{};function mL(t,e,...n){let r=[];e instanceof f0&&r.push(e),r=r.concat(n),function(s){let o=s.filter(l=>l instanceof Uf).length,c=s.filter(l=>l instanceof da).length;if(o>1||o>0&&c>0)throw new H(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var da=class t extends fa{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return vL(e._query,n),new _1(e.firestore,e.converter,T7(e._query,n))}_parse(e){let n=lL(e.firestore);return function(s,o,c,l,u,d,p){let y;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){jM(p,d);let E=[];for(let D of p)E.push(BM(l,s,D));y={arrayValue:{values:E}}}else y=BM(l,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||jM(p,d),y=uV(c,o,p,d==="in"||d==="not-in");return tt.create(u,d,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function gL(t,e,n){let r=e,i=md("where",t);return da._create(i,r,n)}var Uf=class t extends f0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:O2.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,c=s.getFlattenedFilters();for(let l of c)vL(o,l),o=T7(o,l)}(e._query,n),new _1(e.firestore,e.converter,T7(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Hf=class t extends fa{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new _1(e.firestore,e.converter,B3(e._query,this._limit,this._limitType))}};function yL(t){return oV("limit",t),Hf._create("limit",t,"F")}function BM(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new H(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!g_(e)&&n.indexOf("/")!==-1)throw new H(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ue.fromString(n));if(!Z.isDocumentKey(r))throw new H(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oM(t,new Z(r))}if(n instanceof t2)return oM(t,n._key);throw new H(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${La(n)}.`)}function jM(t,e){if(!Array.isArray(t)||t.length===0)throw new H(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vL(t,e){let n=function(i,s){for(let o of i)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var $f=class{convertValue(e,n="none"){switch(v1(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return br(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ui].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Be(o.doubleValue));return new u0(s)}convertGeoPoint(e){return new l0(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ga(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(e0(e));default:return null}}convertTimestamp(e){let n=An(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ue.fromString(e);ze(P_(r));let i=new F3(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||Tn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function pV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var gr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ha=class extends ua{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Vi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(md("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Vi=class extends ha{data(e={}){return super.data(e)}},pa=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vi(this._firestore,this._userDataWriter,r.key,r,new gr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let l=new Vi(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let l=new Vi(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),d=o.indexOf(c.doc.key)),{type:mV(c.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function mV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}var d0=class extends $f{constructor(e){super(),this.firestore=e}convertBytes(e){return new c0(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new t2(this.firestore,null,n)}};function CL(t){t=g1(t,_1);let e=g1(t.firestore,L1),n=hd(e),r=new d0(e);return pL(t._query),iV(n,t._query).then(i=>new pa(e,r,t,i))}function ML(t){return LL(g1(t.firestore,L1),[new n0(t._key,m1.none())])}function _L(t,e){let n=g1(t.firestore,L1),r=dd(t),i=pV(t.converter,e);return LL(n,[lV(lL(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,m1.exists(!1))]).then(()=>r)}function gd(t,...e){var n,r,i;t=qt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||VM(e[o])||(s=e[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(VM(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,u,d;if(t instanceof t2)u=g1(t.firestore,L1),d=ed(t._key.path),l={next:p=>{e[o]&&e[o](gV(u,t,p))},error:e[o+1],complete:e[o+2]};else{let p=g1(t,_1);u=g1(p.firestore,L1),d=p._query;let y=new d0(u);l={next:g=>{e[o]&&e[o](new pa(u,y,p,g))},error:e[o+1],complete:e[o+2]},pL(t._query)}return function(y,g,E,D){let T=new sa(D),V=new na(g,T,E);return y.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return G_(yield Of(y),V)})),()=>{T.su(),y.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return W_(yield Of(y),V)}))}}(hd(u),d,c,l)}function LL(t,e){return function(r,i){let s=new Y2;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return WF(yield rV(r),i,s)})),s.promise}(hd(t),e)}function gV(t,e,n){let r=n.docs.get(e._key),i=new d0(t);return new ha(t,i,e._key,r,new gr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ji=i})(Si),N2(new xt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new L1(new f7(r.getProvider("auth-internal")),new p7(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new F3(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Qe(ZC,XC,e),Qe(ZC,XC,"esm2017")})();var wa=function(){return wa=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wa.apply(this,arguments)};var CV={includeMetadataChanges:!1};function wL(t,e){return e===void 0&&(e=CV),new le(function(n){var r=gd(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function bL(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:wa(wa({},r),(n={},n[e.idField]=t.id,n))}function EL(t){return wL(t,{includeMetadataChanges:!0}).pipe(oe(function(e){return e.docs}))}function IL(t,e){return e===void 0&&(e={}),EL(t).pipe(oe(function(n){return n.map(function(r){return bL(r,e)})}))}var Pn=class{constructor(e){return e}},zL="firestore",yd=class{constructor(){return Ai(zL)}};var vd=new Q("angularfire2.firestore-instances");function MV(t,e){let n=l3(zL,t,e);return n&&new Pn(n)}function _V(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pn(r)}}var LV={provide:yd,deps:[[new H2,vd]]},wV={provide:Pn,useFactory:MV,deps:[[new H2,vd],fr]};function SL(t,...e){return Qe("angularfire",lr.full,"fst"),n1([wV,LV,{provide:vd,useFactory:_V(t),multi:!0,deps:[De,st,ur,Fo,[new H2,L3],[new H2,f3],...e]}])}var DL=Nt(IL,!0);var ba=Nt(_L,!0,2);var Ir=Nt(oL,!0,2);var TL=Nt(ML,!0,2);var AL=Nt(dd,!0,2);var Ea=Nt(CL,!0);var xL=Nt(cL,!0);var NL=Nt(yL,!0,2);var kL=Nt(mL,!0,2);var RL=Nt(gL,!0,2);var v2=class t{cart=Mt(this.loadCartFromStorage());total=h2(()=>this.cart().reduce((e,n)=>e+n.price*n.quantity,0));loadCartFromStorage(){let e=localStorage.getItem("cart");return e?JSON.parse(e):[]}saveCartToStorage(){localStorage.setItem("cart",JSON.stringify(this.cart()))}addToCart(e){this.cart().find(r=>r.id===e.id)||(this.cart.set([...this.cart(),e]),this.saveCartToStorage())}removeFromCart(e){this.cart.set(this.cart().filter(n=>n.id!==e.id)),this.saveCartToStorage()}updateCart(){this.cart.set([...this.cart()]),this.saveCartToStorage()}clearCart(){this.cart.set([]),localStorage.removeItem("cart")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};function bV(t,e,n){return(e=IV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(r){bV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IV(t){var e=EV(t,"string");return typeof e=="symbol"?e:e+""}var FL=()=>{},jd={},uw={},fw=null,dw={mark:FL,measure:FL};try{typeof window<"u"&&(jd=window),typeof document<"u"&&(uw=document),typeof MutationObserver<"u"&&(fw=MutationObserver),typeof performance<"u"&&(dw=performance)}catch{}var{userAgent:VL=""}=jd.navigator||{},b1=jd,Pe=uw,BL=fw,Ia=dw,qee=!!b1.document,Vn=!!Pe.documentElement&&!!Pe.head&&typeof Pe.addEventListener=="function"&&typeof Pe.createElement=="function",hw=~VL.indexOf("MSIE")||~VL.indexOf("Trident/"),zV=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,SV=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,pw={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},DV={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},mw=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],wt="classic",xa="duotone",TV="sharp",AV="sharp-duotone",gw=[wt,xa,TV,AV],xV={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},NV={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},kV=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),RV={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},PV=["fak","fa-kit","fakd","fa-kit-duotone"],jL={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},OV=["kit"],FV={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},VV=["fak","fakd"],BV={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},UL={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},za={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},jV=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],UV=["fak","fa-kit","fakd","fa-kit-duotone"],HV={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},$V={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},qV={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},bd={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},GV=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Ed=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...jV,...GV],WV=["solid","regular","light","thin","duotone","brands"],yw=[1,2,3,4,5,6,7,8,9,10],KV=yw.concat([11,12,13,14,15,16,17,18,19,20]),QV=[...Object.keys(qV),...WV,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",za.GROUP,za.SWAP_OPACITY,za.PRIMARY,za.SECONDARY].concat(yw.map(t=>"".concat(t,"x"))).concat(KV.map(t=>"w-".concat(t))),YV={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},On="___FONT_AWESOME___",Id=16,vw="fa",Cw="svg-inline--fa",Sr="data-fa-i2svg",zd="data-fa-pseudo-element",ZV="data-fa-pseudo-element-pending",Ud="data-prefix",Hd="data-icon",HL="fontawesome-i2svg",XV="async",JV=["HTML","HEAD","STYLE","SCRIPT"],Mw=(()=>{try{return!0}catch{return!1}})();function M0(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[wt]}})}var _w=P({},pw);_w[wt]=P(P(P(P({},{"fa-duotone":"duotone"}),pw[wt]),jL.kit),jL["kit-duotone"]);var eB=M0(_w),Sd=P({},RV);Sd[wt]=P(P(P(P({},{duotone:"fad"}),Sd[wt]),UL.kit),UL["kit-duotone"]);var $L=M0(Sd),Dd=P({},bd);Dd[wt]=P(P({},Dd[wt]),BV.kit);var $d=M0(Dd),Td=P({},$V);Td[wt]=P(P({},Td[wt]),FV.kit);var Gee=M0(Td),tB=zV,Lw="fa-layers-text",nB=SV,rB=P({},xV),Wee=M0(rB),iB=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Cd=DV,sB=[...OV,...QV],g0=b1.FontAwesomeConfig||{};function oB(t){var e=Pe.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function cB(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}Pe&&typeof Pe.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e,i=cB(oB(n));i!=null&&(g0[r]=i)});var ww={styleDefault:"solid",familyDefault:wt,cssPrefix:vw,replacementClass:Cw,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};g0.familyPrefix&&(g0.cssPrefix=g0.familyPrefix);var ss=P(P({},ww),g0);ss.autoReplaceSvg||(ss.observeMutations=!1);var W={};Object.keys(ww).forEach(t=>{Object.defineProperty(W,t,{enumerable:!0,set:function(e){ss[t]=e,y0.forEach(n=>n(W))},get:function(){return ss[t]}})});Object.defineProperty(W,"familyPrefix",{enumerable:!0,set:function(t){ss.cssPrefix=t,y0.forEach(e=>e(W))},get:function(){return ss.cssPrefix}});b1.FontAwesomeConfig=W;var y0=[];function aB(t){return y0.push(t),()=>{y0.splice(y0.indexOf(t),1)}}var w1=Id,tn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function lB(t){if(!t||!Vn)return;let e=Pe.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;let n=Pe.head.childNodes,r=null;for(let i=n.length-1;i>-1;i--){let s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Pe.head.insertBefore(e,r),t}var uB="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function v0(){let t=12,e="";for(;t-- >0;)e+=uB[Math.random()*62|0];return e}function os(t){let e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function qd(t){return t.classList?os(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function bw(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fB(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(bw(t[n]),'" '),"").trim()}function Na(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function Gd(t){return t.size!==tn.size||t.x!==tn.x||t.y!==tn.y||t.rotate!==tn.rotate||t.flipX||t.flipY}function dB(t){let{transform:e,containerWidth:n,iconWidth:r}=t,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(c)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function hB(t){let{transform:e,width:n=Id,height:r=Id,startCentered:i=!1}=t,s="";return i&&hw?s+="translate(".concat(e.x/w1-n/2,"em, ").concat(e.y/w1-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/w1,"em), calc(-50% + ").concat(e.y/w1,"em)) "):s+="translate(".concat(e.x/w1,"em, ").concat(e.y/w1,"em) "),s+="scale(".concat(e.size/w1*(e.flipX?-1:1),", ").concat(e.size/w1*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var pB=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Ew(){let t=vw,e=Cw,n=W.cssPrefix,r=W.replacementClass,i=pB;if(n!==t||r!==e){let s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(c,".".concat(r))}return i}var qL=!1;function Md(){W.autoAddCss&&!qL&&(lB(Ew()),qL=!0)}var mB={mixout(){return{dom:{css:Ew,insertCss:Md}}},hooks(){return{beforeDOMElementCreation(){Md()},beforeI2svg(){Md()}}}},Fn=b1||{};Fn[On]||(Fn[On]={});Fn[On].styles||(Fn[On].styles={});Fn[On].hooks||(Fn[On].hooks={});Fn[On].shims||(Fn[On].shims=[]);var nn=Fn[On],Iw=[],zw=function(){Pe.removeEventListener("DOMContentLoaded",zw),Ta=1,Iw.map(t=>t())},Ta=!1;Vn&&(Ta=(Pe.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Pe.readyState),Ta||Pe.addEventListener("DOMContentLoaded",zw));function gB(t){Vn&&(Ta?setTimeout(t,0):Iw.push(t))}function _0(t){let{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?bw(t):"<".concat(e," ").concat(fB(n),">").concat(r.map(_0).join(""),"</").concat(e,">")}function GL(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var yB=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},_d=function(e,n,r,i){var s=Object.keys(e),o=s.length,c=i!==void 0?yB(n,i):n,l,u,d;for(r===void 0?(l=1,d=e[s[0]]):(l=0,d=r);l<o;l++)u=s[l],d=c(d,e[u],u,e);return d};function vB(t){let e=[],n=0,r=t.length;for(;n<r;){let i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){let s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function Ad(t){let e=vB(t);return e.length===1?e[0].toString(16):null}function CB(t,e){let n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function WL(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function xd(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:r=!1}=n,i=WL(e);typeof nn.hooks.addPack=="function"&&!r?nn.hooks.addPack(t,WL(e)):nn.styles[t]=P(P({},nn.styles[t]||{}),i),t==="fas"&&xd("fa",e)}var{styles:C0,shims:MB}=nn,Sw=Object.keys($d),_B=Sw.reduce((t,e)=>(t[e]=Object.keys($d[e]),t),{}),Wd=null,Dw={},Tw={},Aw={},xw={},Nw={};function LB(t){return~sB.indexOf(t)}function wB(t,e){let n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!LB(i)?i:null}var kw=()=>{let t=r=>_d(C0,(i,s,o)=>(i[o]=_d(s,r,{}),i),{});Dw=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(c=>typeof c=="number").forEach(c=>{r[c.toString(16)]=s}),r)),Tw=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(c=>typeof c=="string").forEach(c=>{r[c]=s}),r)),Nw=t((r,i,s)=>{let o=i[2];return r[s]=s,o.forEach(c=>{r[c]=s}),r});let e="far"in C0||W.autoFetchSvg,n=_d(MB,(r,i)=>{let s=i[0],o=i[1],c=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:c}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:c}),r},{names:{},unicodes:{}});Aw=n.names,xw=n.unicodes,Wd=ka(W.styleDefault,{family:W.familyDefault})};aB(t=>{Wd=ka(t.styleDefault,{family:W.familyDefault})});kw();function Kd(t,e){return(Dw[t]||{})[e]}function bB(t,e){return(Tw[t]||{})[e]}function zr(t,e){return(Nw[t]||{})[e]}function Rw(t){return Aw[t]||{prefix:null,iconName:null}}function EB(t){let e=xw[t],n=Kd("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function E1(){return Wd}var Pw=()=>({prefix:null,iconName:null,rest:[]});function IB(t){let e=wt,n=Sw.reduce((r,i)=>(r[i]="".concat(W.cssPrefix,"-").concat(i),r),{});return gw.forEach(r=>{(t.includes(n[r])||t.some(i=>_B[r].includes(i)))&&(e=r)}),e}function ka(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:n=wt}=e,r=eB[n][t];if(n===xa&&!t)return"fad";let i=$L[n][t]||$L[n][r],s=t in nn.styles?t:null;return i||s||null}function zB(t){let e=[],n=null;return t.forEach(r=>{let i=wB(W.cssPrefix,r);i?n=i:r&&e.push(r)}),{iconName:n,rest:e}}function KL(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function Ra(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:n=!1}=e,r=null,i=Ed.concat(UV),s=KL(t.filter(p=>i.includes(p))),o=KL(t.filter(p=>!Ed.includes(p))),c=s.filter(p=>(r=p,!mw.includes(p))),[l=null]=c,u=IB(s),d=P(P({},zB(o)),{},{prefix:ka(l,{family:u})});return P(P(P({},d),AB({values:t,family:u,styles:C0,config:W,canonical:d,givenPrefix:r})),SB(n,r,d))}function SB(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};let s=e==="fa"?Rw(i):{},o=zr(r,i);return i=s.iconName||o||i,r=s.prefix||r,r==="far"&&!C0.far&&C0.fas&&!W.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}var DB=gw.filter(t=>t!==wt||t!==xa),TB=Object.keys(bd).filter(t=>t!==wt).map(t=>Object.keys(bd[t])).flat();function AB(t){let{values:e,family:n,canonical:r,givenPrefix:i="",styles:s={},config:o={}}=t,c=n===xa,l=e.includes("fa-duotone")||e.includes("fad"),u=o.familyDefault==="duotone",d=r.prefix==="fad"||r.prefix==="fa-duotone";if(!c&&(l||u||d)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&DB.includes(n)&&(Object.keys(s).find(y=>TB.includes(y))||o.autoFetchSvg)){let y=kV.get(n).defaultShortPrefixId;r.prefix=y,r.iconName=zr(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||i==="fa")&&(r.prefix=E1()||"fas"),r}var Nd=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=P(P({},this.definitions[s]||{}),i[s]),xd(s,i[s]);let o=$d[wt][s];o&&xd(o,i[s]),kw()})}reset(){this.definitions={}}_pullDefinitions(e,n){let r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{let{prefix:s,iconName:o,icon:c}=r[i],l=c[2];e[s]||(e[s]={}),l.length>0&&l.forEach(u=>{typeof u=="string"&&(e[s][u]=c)}),e[s][o]=c}),e}},QL=[],rs={},is={},xB=Object.keys(is);function NB(t,e){let{mixoutsTo:n}=e;return QL=t,rs={},Object.keys(is).forEach(r=>{xB.indexOf(r)===-1&&delete is[r]}),QL.forEach(r=>{let i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){let s=r.hooks();Object.keys(s).forEach(o=>{rs[o]||(rs[o]=[]),rs[o].push(s[o])})}r.provides&&r.provides(is)}),n}function kd(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(rs[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function Dr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(rs[t]||[]).forEach(s=>{s.apply(null,n)})}function I1(){let t=arguments[0],e=Array.prototype.slice.call(arguments,1);return is[t]?is[t].apply(null,e):void 0}function Rd(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t,n=t.prefix||E1();if(e)return e=zr(n,e)||e,GL(Ow.definitions,n,e)||GL(nn.styles,n,e)}var Ow=new Nd,kB=()=>{W.autoReplaceSvg=!1,W.observeMutations=!1,Dr("noAuto")},RB={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Vn?(Dr("beforeI2svg",t),I1("pseudoElements2svg",t),I1("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=t;W.autoReplaceSvg===!1&&(W.autoReplaceSvg=!0),W.observeMutations=!0,gB(()=>{OB({autoReplaceSvgRoot:e}),Dr("watch",t)})}},PB={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:zr(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){let e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=ka(t[0]);return{prefix:n,iconName:zr(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(W.cssPrefix,"-"))>-1||t.match(tB))){let e=Ra(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||E1(),iconName:zr(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){let e=E1();return{prefix:e,iconName:zr(e,t)||t}}}},n2={noAuto:kB,config:W,dom:RB,parse:PB,library:Ow,findIconDefinition:Rd,toHtml:_0},OB=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=Pe}=t;(Object.keys(nn.styles).length>0||W.autoFetchSvg)&&Vn&&W.autoReplaceSvg&&n2.dom.i2svg({node:e})};function Pa(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>_0(n))}}),Object.defineProperty(t,"node",{get:function(){if(!Vn)return;let n=Pe.createElement("div");return n.innerHTML=t.html,n.children}}),t}function FB(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(Gd(o)&&n.found&&!r.found){let{width:c,height:l}=n,u={x:c/l/2,y:.5};i.style=Na(P(P({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function VB(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t,o=s===!0?"".concat(e,"-").concat(W.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:P(P({},i),{},{id:o}),children:r}]}]}function Qd(t){let{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:c,maskId:l,titleId:u,extra:d,watchable:p=!1}=t,{width:y,height:g}=n.found?n:e,E=VV.includes(r),D=[W.replacementClass,i?"".concat(W.cssPrefix,"-").concat(i):""].filter(He=>d.classes.indexOf(He)===-1).filter(He=>He!==""||!!He).concat(d.classes).join(" "),T={children:[],attributes:P(P({},d.attributes),{},{"data-prefix":r,"data-icon":i,class:D,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(g)})},V=E&&!~d.classes.indexOf("fa-fw")?{width:"".concat(y/g*16*.0625,"em")}:{};p&&(T.attributes[Sr]=""),c&&(T.children.push({tag:"title",attributes:{id:T.attributes["aria-labelledby"]||"title-".concat(u||v0())},children:[c]}),delete T.attributes.title);let G=P(P({},T),{},{prefix:r,iconName:i,main:e,mask:n,maskId:l,transform:s,symbol:o,styles:P(P({},V),d.styles)}),{children:K,attributes:Le}=n.found&&e.found?I1("generateAbstractMask",G)||{children:[],attributes:{}}:I1("generateAbstractIcon",G)||{children:[],attributes:{}};return G.children=K,G.attributes=Le,o?VB(G):FB(G)}function YL(t){let{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:c=!1}=t,l=P(P(P({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(l[Sr]="");let u=P({},o.styles);Gd(i)&&(u.transform=hB({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);let d=Na(u);d.length>0&&(l.style=d);let p=[];return p.push({tag:"span",attributes:l,children:[e]}),s&&p.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),p}function BB(t){let{content:e,title:n,extra:r}=t,i=P(P(P({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=Na(r.styles);s.length>0&&(i.style=s);let o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var{styles:Ld}=nn;function Pd(t){let e=t[0],n=t[1],[r]=t.slice(4),i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(W.cssPrefix,"-").concat(Cd.GROUP)},children:[{tag:"path",attributes:{class:"".concat(W.cssPrefix,"-").concat(Cd.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(W.cssPrefix,"-").concat(Cd.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}var jB={found:!1,width:512,height:512};function UB(t,e){!Mw&&!W.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Od(t,e){let n=e;return e==="fa"&&W.styleDefault!==null&&(e=E1()),new Promise((r,i)=>{if(n==="fa"){let s=Rw(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&Ld[e]&&Ld[e][t]){let s=Ld[e][t];return r(Pd(s))}UB(t,e),r(P(P({},jB),{},{icon:W.showMissingIcons&&t?I1("missingIconAbstract")||{}:{}}))})}var ZL=()=>{},Fd=W.measurePerformance&&Ia&&Ia.mark&&Ia.measure?Ia:{mark:ZL,measure:ZL},m0='FA "6.7.2"',HB=t=>(Fd.mark("".concat(m0," ").concat(t," begins")),()=>Fw(t)),Fw=t=>{Fd.mark("".concat(m0," ").concat(t," ends")),Fd.measure("".concat(m0," ").concat(t),"".concat(m0," ").concat(t," begins"),"".concat(m0," ").concat(t," ends"))},Yd={begin:HB,end:Fw},Sa=()=>{};function XL(t){return typeof(t.getAttribute?t.getAttribute(Sr):null)=="string"}function $B(t){let e=t.getAttribute?t.getAttribute(Ud):null,n=t.getAttribute?t.getAttribute(Hd):null;return e&&n}function qB(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(W.replacementClass)}function GB(){return W.autoReplaceSvg===!0?Da.replace:Da[W.autoReplaceSvg]||Da.replace}function WB(t){return Pe.createElementNS("http://www.w3.org/2000/svg",t)}function KB(t){return Pe.createElement(t)}function Vw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:n=t.tag==="svg"?WB:KB}=e;if(typeof t=="string")return Pe.createTextNode(t);let r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(Vw(s,{ceFn:n}))}),r}function QB(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var Da={replace:function(t){let e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(Vw(n),e)}),e.getAttribute(Sr)===null&&W.keepOriginalSource){let n=Pe.createComment(QB(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){let e=t[0],n=t[1];if(~qd(e).indexOf(W.replacementClass))return Da.replace(t);let r=new RegExp("".concat(W.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){let s=n[0].attributes.class.split(" ").reduce((o,c)=>(c===W.replacementClass||c.match(r)?o.toSvg.push(c):o.toNode.push(c),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}let i=n.map(s=>_0(s)).join(`
`);e.setAttribute(Sr,""),e.innerHTML=i}};function JL(t){t()}function Bw(t,e){let n=typeof e=="function"?e:Sa;if(t.length===0)n();else{let r=JL;W.mutateApproach===XV&&(r=b1.requestAnimationFrame||JL),r(()=>{let i=GB(),s=Yd.begin("mutate");t.map(i),s(),n()})}}var Zd=!1;function jw(){Zd=!0}function Vd(){Zd=!1}var Aa=null;function ew(t){if(!BL||!W.observeMutations)return;let{treeCallback:e=Sa,nodeCallback:n=Sa,pseudoElementsCallback:r=Sa,observeMutationsRoot:i=Pe}=t;Aa=new BL(s=>{if(Zd)return;let o=E1();os(s).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!XL(c.addedNodes[0])&&(W.searchPseudoElements&&r(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&W.searchPseudoElements&&r(c.target.parentNode),c.type==="attributes"&&XL(c.target)&&~iB.indexOf(c.attributeName))if(c.attributeName==="class"&&$B(c.target)){let{prefix:l,iconName:u}=Ra(qd(c.target));c.target.setAttribute(Ud,l||o),u&&c.target.setAttribute(Hd,u)}else qB(c.target)&&n(c.target)})}),Vn&&Aa.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function YB(){Aa&&Aa.disconnect()}function ZB(t){let e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce((r,i)=>{let s=i.split(":"),o=s[0],c=s.slice(1);return o&&c.length>0&&(r[o]=c.join(":").trim()),r},{})),n}function XB(t){let e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=Ra(qd(t));return i.prefix||(i.prefix=E1()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=bB(i.prefix,t.innerText)||Kd(i.prefix,Ad(t.innerText))),!i.iconName&&W.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function JB(t){let e=os(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return W.autoA11y&&(n?e["aria-labelledby"]="".concat(W.replacementClass,"-title-").concat(r||v0()):(e["aria-hidden"]="true",e.focusable="false")),e}function ej(){return{iconName:null,title:null,titleId:null,prefix:null,transform:tn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function tw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:n,prefix:r,rest:i}=XB(t),s=JB(t),o=kd("parseNodeAttributes",{},t),c=e.styleParser?ZB(t):[];return P({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:tn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:s}},o)}var{styles:tj}=nn;function Uw(t){let e=W.autoReplaceSvg==="nest"?tw(t,{styleParser:!1}):tw(t);return~e.extra.classes.indexOf(Lw)?I1("generateLayersText",t,e):I1("generateSvgReplacementMutation",t,e)}function nj(){return[...PV,...Ed]}function nw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Vn)return Promise.resolve();let n=Pe.documentElement.classList,r=d=>n.add("".concat(HL,"-").concat(d)),i=d=>n.remove("".concat(HL,"-").concat(d)),s=W.autoFetchSvg?nj():mw.concat(Object.keys(tj));s.includes("fa")||s.push("fa");let o=[".".concat(Lw,":not([").concat(Sr,"])")].concat(s.map(d=>".".concat(d,":not([").concat(Sr,"])"))).join(", ");if(o.length===0)return Promise.resolve();let c=[];try{c=os(t.querySelectorAll(o))}catch{}if(c.length>0)r("pending"),i("complete");else return Promise.resolve();let l=Yd.begin("onTree"),u=c.reduce((d,p)=>{try{let y=Uw(p);y&&d.push(y)}catch(y){Mw||y.name==="MissingIcon"&&console.error(y)}return d},[]);return new Promise((d,p)=>{Promise.all(u).then(y=>{Bw(y,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),d()})}).catch(y=>{l(),p(y)})})}function rj(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Uw(t).then(n=>{n&&Bw([n],e)})}function ij(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:Rd(e||{}),{mask:i}=n;return i&&(i=(i||{}).icon?i:Rd(i||{})),t(r,P(P({},n),{},{mask:i}))}}var sj=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=tn,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:c=null,classes:l=[],attributes:u={},styles:d={}}=e;if(!t)return;let{prefix:p,iconName:y,icon:g}=t;return Pa(P({type:"icon"},t),()=>(Dr("beforeDOMElementCreation",{iconDefinition:t,params:e}),W.autoA11y&&(o?u["aria-labelledby"]="".concat(W.replacementClass,"-title-").concat(c||v0()):(u["aria-hidden"]="true",u.focusable="false")),Qd({icons:{main:Pd(g),mask:i?Pd(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:p,iconName:y,transform:P(P({},tn),n),symbol:r,title:o,maskId:s,titleId:c,extra:{attributes:u,styles:d,classes:l}})))},oj={mixout(){return{icon:ij(sj)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=nw,t.nodeCallback=rj,t}}},provides(t){t.i2svg=function(e){let{node:n=Pe,callback:r=()=>{}}=e;return nw(n,r)},t.generateSvgReplacementMutation=function(e,n){let{iconName:r,title:i,titleId:s,prefix:o,transform:c,symbol:l,mask:u,maskId:d,extra:p}=n;return new Promise((y,g)=>{Promise.all([Od(r,o),u.iconName?Od(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(E=>{let[D,T]=E;y([e,Qd({icons:{main:D,mask:T},prefix:o,iconName:r,transform:c,symbol:l,maskId:d,title:i,titleId:s,extra:p,watchable:!0})])}).catch(g)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e,c=Na(o);c.length>0&&(r.style=c);let l;return Gd(s)&&(l=I1("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(l||i.icon),{children:n,attributes:r}}}},cj={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:n=[]}=e;return Pa({type:"layer"},()=>{Dr("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(W.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},aj={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return Pa({type:"counter",content:t},()=>(Dr("beforeDOMElementCreation",{content:t,params:e}),BB({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(W.cssPrefix,"-layers-counter"),...r]}})))}}}},lj={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=tn,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return Pa({type:"text",content:t},()=>(Dr("beforeDOMElementCreation",{content:t,params:e}),YL({content:t,transform:P(P({},tn),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(W.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){let{title:r,transform:i,extra:s}=n,o=null,c=null;if(hw){let l=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/l,c=u.height/l}return W.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,YL({content:e.innerHTML,width:o,height:c,transform:i,title:r,extra:s,watchable:!0})])}}},uj=new RegExp('"',"ug"),rw=[1105920,1112319],iw=P(P(P(P({},{FontAwesome:{normal:"fas",400:"fas"}}),NV),YV),HV),Bd=Object.keys(iw).reduce((t,e)=>(t[e.toLowerCase()]=iw[e],t),{}),fj=Object.keys(Bd).reduce((t,e)=>{let n=Bd[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function dj(t){let e=t.replace(uj,""),n=CB(e,0),r=n>=rw[0]&&n<=rw[1],i=e.length===2?e[0]===e[1]:!1;return{value:Ad(i?e[0]:e),isSecondary:r||i}}function hj(t,e){let n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(Bd[n]||{})[i]||fj[n]}function sw(t,e){let n="".concat(ZV).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();let o=os(t.children).filter(y=>y.getAttribute(zd)===e)[0],c=b1.getComputedStyle(t,e),l=c.getPropertyValue("font-family"),u=l.match(nB),d=c.getPropertyValue("font-weight"),p=c.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&p!=="none"&&p!==""){let y=c.getPropertyValue("content"),g=hj(l,d),{value:E,isSecondary:D}=dj(y),T=u[0].startsWith("FontAwesome"),V=Kd(g,E),G=V;if(T){let K=EB(E);K.iconName&&K.prefix&&(V=K.iconName,g=K.prefix)}if(V&&!D&&(!o||o.getAttribute(Ud)!==g||o.getAttribute(Hd)!==G)){t.setAttribute(n,G),o&&t.removeChild(o);let K=ej(),{extra:Le}=K;Le.attributes[zd]=e,Od(V,g).then(He=>{let be=Qd(P(P({},K),{},{icons:{main:He,mask:Pw()},prefix:g,iconName:G,extra:Le,watchable:!0})),L=Pe.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(L,t.firstChild):t.appendChild(L),L.outerHTML=be.map(v=>_0(v)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function pj(t){return Promise.all([sw(t,"::before"),sw(t,"::after")])}function mj(t){return t.parentNode!==document.head&&!~JV.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(zd)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function ow(t){if(Vn)return new Promise((e,n)=>{let r=os(t.querySelectorAll("*")).filter(mj).map(pj),i=Yd.begin("searchPseudoElements");jw(),Promise.all(r).then(()=>{i(),Vd(),e()}).catch(()=>{i(),Vd(),n()})})}var gj={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=ow,t}}},provides(t){t.pseudoElements2svg=function(e){let{node:n=Pe}=e;W.searchPseudoElements&&ow(n)}}},cw=!1,yj={mixout(){return{dom:{unwatch(){jw(),cw=!0}}}},hooks(){return{bootstrap(){ew(kd("mutationObserverCallbacks",{}))},noAuto(){YB()},watch(t){let{observeMutationsRoot:e}=t;cw?Vd():ew(kd("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},aw=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{let i=r.toLowerCase().split("-"),s=i[0],o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)},vj={mixout(){return{parse:{transform:t=>aw(t)}}},hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-transform");return n&&(t.transform=aw(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e,o={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(r.x*32,", ").concat(r.y*32,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(c," ").concat(l," ").concat(u)},p={transform:"translate(".concat(s/2*-1," -256)")},y={outer:o,inner:d,path:p};return{tag:"g",attributes:P({},y.outer),children:[{tag:"g",attributes:P({},y.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:P(P({},n.icon.attributes),y.path)}]}]}}}},wd={x:0,y:0,width:"100%",height:"100%"};function lw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Cj(t){return t.tag==="g"?t.children:[t]}var Mj={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-mask"),r=n?Ra(n.split(" ").map(i=>i.trim())):Pw();return r.prefix||(r.prefix=E1()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:c}=e,{width:l,icon:u}=i,{width:d,icon:p}=s,y=dB({transform:c,containerWidth:d,iconWidth:l}),g={tag:"rect",attributes:P(P({},wd),{},{fill:"white"})},E=u.children?{children:u.children.map(lw)}:{},D={tag:"g",attributes:P({},y.inner),children:[lw(P({tag:u.tag,attributes:P(P({},u.attributes),y.path)},E))]},T={tag:"g",attributes:P({},y.outer),children:[D]},V="mask-".concat(o||v0()),G="clip-".concat(o||v0()),K={tag:"mask",attributes:P(P({},wd),{},{id:V,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,T]},Le={tag:"defs",children:[{tag:"clipPath",attributes:{id:G},children:Cj(p)},K]};return n.push(Le,{tag:"rect",attributes:P({fill:"currentColor","clip-path":"url(#".concat(G,")"),mask:"url(#".concat(V,")")},wd)}),{children:n,attributes:r}}}},_j={provides(t){let e=!1;b1.matchMedia&&(e=b1.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:P(P({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let s=P(P({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:P(P({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:P(P({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:P(P({},s),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:P(P({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:P(P({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:P(P({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:P(P({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},Lj={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},wj=[mB,oj,cj,aj,lj,gj,yj,vj,Mj,_j,Lj];NB(wj,{mixoutsTo:n2});var Kee=n2.noAuto,Hw=n2.config,Qee=n2.library,$w=n2.dom,qw=n2.parse,Yee=n2.findIconDefinition,Zee=n2.toHtml,Gw=n2.icon,Xee=n2.layer,bj=n2.text,Ej=n2.counter;var Ij=["*"],zj=t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)},Sj=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},Kw=t=>t!=null&&(t===90||t===180||t===270||t==="90"||t==="180"||t==="270"),Dj=t=>{let e=Kw(t.rotate),n={[`fa-${t.animation}`]:t.animation!=null&&!t.animation.startsWith("spin"),"fa-spin":t.animation==="spin"||t.animation==="spin-reverse","fa-spin-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-spin-reverse":t.animation==="spin-reverse"||t.animation==="spin-pulse-reverse","fa-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both",[`fa-${t.size}`]:t.size!==null,[`fa-rotate-${t.rotate}`]:e,"fa-rotate-by":t.rotate!=null&&!e,[`fa-pull-${t.pull}`]:t.pull!==null,[`fa-stack-${t.stackItemSize}`]:t.stackItemSize!=null};return Object.keys(n).map(r=>n[r]?r:null).filter(r=>r)},Xd=new WeakSet,Ww="fa-auto-css";function Tj(t,e){if(!e.autoAddCss||Xd.has(t))return;if(t.getElementById(Ww)!=null){e.autoAddCss=!1,Xd.add(t);return}let n=t.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("id",Ww),n.innerHTML=$w.css();let r=t.head.childNodes,i=null;for(let s=r.length-1;s>-1;s--){let o=r[s],c=o.nodeName.toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(i=o)}t.head.insertBefore(n,i),e.autoAddCss=!1,Xd.add(t)}var Aj=t=>t.prefix!==void 0&&t.iconName!==void 0,xj=(t,e)=>Aj(t)?t:Array.isArray(t)&&t.length===2?{prefix:t[0],iconName:t[1]}:{prefix:e,iconName:t},Nj=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(n){Hw.autoAddCss=n,this._autoAddCss=n}get autoAddCss(){return this._autoAddCss}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kj=(()=>{class t{constructor(){this.definitions={}}addIcons(...n){for(let r of n){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(let i of r.icon[2])typeof i=="string"&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...n){for(let r of n){let i=Object.keys(r).map(s=>r[s]);this.addIcons(...i)}}getIconDefinition(n,r){return n in this.definitions&&r in this.definitions[n]?this.definitions[n][r]:null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Rj=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(n){if("size"in n)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ne({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[z2]})}}return t})(),Pj=(()=>{class t{constructor(n,r){this.renderer=n,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(n){"size"in n&&(n.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${n.size.currentValue}`),n.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${n.size.previousValue}`))}static{this.\u0275fac=function(r){return new(r||t)(Y(l2),Y(Kt))}}static{this.\u0275cmp=Ae({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[z2],ngContentSelectors:Ij,decls:1,vars:0,template:function(r,i){r&1&&(_y(),Ly(0))},encapsulation:2})}}return t})(),Qw=(()=>{class t{constructor(n,r,i,s,o){this.sanitizer=n,this.config=r,this.iconLibrary=i,this.stackItem=s,this.document=A(Tt),o!=null&&s==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(n){if(this.icon==null&&this.config.fallbackIcon==null){Sj();return}if(n){let r=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(r!=null){let i=this.buildParams();Tj(this.document,this.config);let s=Gw(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(n){let r=xj(n,this.config.defaultPrefix);if("icon"in r)return r;let i=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return i??(zj(r),null)}buildParams(){let n={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},r=typeof this.transform=="string"?qw.transform(this.transform):this.transform,i={};return n.rotate!=null&&!Kw(n.rotate)&&(i["--fa-rotate-angle"]=`${n.rotate}`),{title:this.title,transform:r,classes:Dj(n),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole},styles:i}}static{this.\u0275fac=function(r){return new(r||t)(Y(Eu),Y(Nj),Y(kj),Y(Rj,8),Y(Pj,8))}}static{this.\u0275cmp=Ae({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){r&2&&(ru("innerHTML",i.renderedIconHTML,Mg),c1("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[z2],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return t})();function Oj(t,e){if(t&1&&Ve(0,"fa-icon",3),t&2){let n=Re();J("icon",n.icon)}}var z1=class t{label="";icon=null;btnClicked=new Ge;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ae({type:t,selectors:[["app-primary-button"]],inputs:{label:"label",icon:"icon"},outputs:{btnClicked:"btnClicked"},decls:4,vars:2,consts:[[1,"bg-blue-950","text-white","w-full","border","px-5","py-2","rounded-xl","shadow-md","hover:opacity-90",3,"click"],["class","mr-2",3,"icon",4,"ngIf"],[1,"text-md"],[1,"mr-2",3,"icon"]],template:function(n,r){n&1&&(N(0,"button",0),de("click",function(s){return r.btnClicked.emit(s)}),je(1,Oj,1,1,"fa-icon",1),N(2,"span",2),j(3),R()()),n&2&&(B(),J("ngIf",r.icon),B(2),We(r.label))},dependencies:[At,vi,Qw],encapsulation:2})};var Yw={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]};var cs={prefix:"fas",iconName:"cart-plus",icon:[576,512,[],"f217","M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM252 160c0 11 9 20 20 20l44 0 0 44c0 11 9 20 20 20s20-9 20-20l0-44 44 0c11 0 20-9 20-20s-9-20-20-20l-44 0 0-44c0-11-9-20-20-20s-20 9-20 20l0 44-44 0c-11 0-20 9-20 20z"]};var Zw={prefix:"fas",iconName:"cart-shopping",icon:[576,512,[128722,"shopping-cart"],"f07a","M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]};var Fj={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]};var Xw=Fj;var Jw={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]};var Vj=t=>["/detail",t],Oa=class t{cartService=A(v2);faCartPlus=cs;faCheck=Jw;product=di.required();isAddedToCart=!1;addToCart(e){e.stopPropagation(),this.cartService.addToCart(this.product()),this.isAddedToCart=!0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ae({type:t,selectors:[["app-product-card"]],inputs:{product:[1,"product"]},decls:11,vars:11,consts:[[1,"bg-white","shadow-md","border","rounded-xl","p-4","flex","flex-col","gap-4","relative","cursor-pointer","w-full","max-w-[280px]","mx-auto",3,"routerLink"],[1,"w-full","h-[300px]","flex","justify-center","items-center","overflow-hidden"],[1,"w-full","h-full","object-cover","rounded-lg",2,"object-fit","cover","object-position","top",3,"src"],[1,"flex","flex-col"],[1,"text-md","font-bold","text-center"],[1,"text-sm","text-center"],[3,"btnClicked","label","icon"],[1,"absolute","top-2","right-3","text-xs","font-bold","bg-white","shadow-md","border","rounded-xl","p-1"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"div",1),Ve(2,"img",2),R(),N(3,"div",3)(4,"span",4),j(5),R(),N(6,"span",5),j(7),R(),N(8,"app-primary-button",6),de("btnClicked",function(s){return r.addToCart(s)}),R()(),N(9,"span",7),j(10),R()()),n&2&&(J("routerLink",A4(9,Vj,r.product().id)),B(2),J("src",r.product().images[0],q2),B(3),We(r.product().title),B(2),We(r.product().price+" DA "),B(),J("label",r.isAddedToCart?"Ajout\xE9":"Ajouter au panier")("icon",r.isAddedToCart?r.faCheck:r.faCartPlus),B(),my(r.product().stock?"text-green-700":"text-red-700"),B(),u2(" ",r.product().stock?r.product().stock+" left":"Out of stock"," "))},dependencies:[z1,e3],encapsulation:2})};var S1=class t{constructor(e){this.firestore=e}productsCollection="products";selectedSubCategory=Mt(null);products=[];getProducts(e,n,r){this.products=[];let i=kL(Ir(this.firestore,this.productsCollection),RL("category","==",n),NL(10));return console.log("Firestore query:",i),new le(s=>{Ea(i).then(o=>{console.log("Fetched documents:",o.docs),o.empty&&console.log("No products found for the query"),this.products=o.docs.map(c=>O({id:c.id},c.data())),console.log("Updated products list:"),console.log("Total products:",this.products.length),this.products.forEach(c=>console.log("Product ID:",c.id)),s.next(this.products),s.complete()}).catch(o=>{console.error("Error fetching products:",o),s.error(o)}),console.log("Total products:",this.products.length),this.products.forEach(o=>console.log("Product ID:",o.id))})}getSubCategories(e){let n=Ir(this.firestore,e);return DL(n,{idField:"id"})}setSelectedSubCategory(e){this.selectedSubCategory.set(e)}getSelectedSubCategory(){return this.selectedSubCategory()}addCategories(e,n){return I(this,null,function*(){let r=Ir(this.firestore,e);try{yield ba(r,{name:n}),console.log("Categories added successfully")}catch(i){throw console.error("Error adding categories:",i),i}})}getProductById(e){return console.log("Fetching product by ID:",e),console.log("Total products:",this.products.length),this.products.forEach(n=>console.log("Product ID:",n.id)),this.products.find(n=>n.id===e)}static \u0275fac=function(n){return new(n||t)(ce(Pn))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};function Bj(t,e){if(t&1&&(mi(0),Ve(1,"app-product-card",2),gi()),t&2){let n=e.$implicit;B(),J("product",n)}}var Fa=class t{constructor(e){this.ngZone=e;x4(()=>{let n=this.productsService.selectedSubCategory();n!==null&&this.ngZone.run(()=>{this.fetchProducts(n)})})}productsService=A(S1);products=Mt([]);lastDoc=null;isLoading=!1;selectedCategory="categoriesH";selectedSubcategory=null;fetchProducts(e){this.selectedCategory&&(this.products.set([]),this.lastDoc=null,this.loadProducts(e))}loadProducts(e){this.isLoading||(this.isLoading=!0,this.productsService.getProducts(this.selectedCategory,e,this.lastDoc).subscribe({next:n=>{n.length>0&&(this.products.set([...this.products(),...n]),this.lastDoc=n[n.length-1]),this.isLoading=!1},error:n=>{console.error("Error fetching products:",n),this.isLoading=!1}}))}trackById(e,n){return n.id}static \u0275fac=function(n){return new(n||t)(Y(De))};static \u0275cmp=Ae({type:t,selectors:[["app-products-list"]],inputs:{selectedCategory:"selectedCategory",selectedSubcategory:"selectedSubcategory"},decls:2,vars:2,consts:[[1,"p-8","grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"w-full",3,"product"]],template:function(n,r){n&1&&(N(0,"div",0),je(1,Bj,2,1,"ng-container",1),R()),n&2&&(B(),J("ngForOf",r.products())("ngForTrackBy",r.trackById))},dependencies:[Oa,At,p2],encapsulation:2,changeDetection:0})};var eb={prefix:"far",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M170.5 51.6L151.5 80l145 0-19-28.4c-1.5-2.2-4-3.6-6.7-3.6l-93.7 0c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80 368 80l48 0 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-8 0 0 304c0 44.2-35.8 80-80 80l-224 0c-44.2 0-80-35.8-80-80l0-304-8 0c-13.3 0-24-10.7-24-24S10.7 80 24 80l8 0 48 0 13.8 0 36.7-55.1C140.9 9.4 158.4 0 177.1 0l93.7 0c18.7 0 36.2 9.4 46.6 24.9zM80 128l0 304c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-304L80 128zm80 64l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16z"]};var ub=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Y(l2),Y(Kt))};static \u0275dir=Ne({type:t})}return t})(),Ga=(()=>{class t extends ub{static \u0275fac=(()=>{let n;return function(i){return(n||(n=S2(t)))(i||t)}})();static \u0275dir=Ne({type:t,features:[Ht]})}return t})(),S0=new Q("");var jj={provide:S0,useExisting:I2(()=>ds),multi:!0};function Uj(){let t=Ln()?Ln().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Hj=new Q(""),ds=(()=>{class t extends ub{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Uj())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Y(l2),Y(Kt),Y(Hj,8))};static \u0275dir=Ne({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&de("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[Mn([jj]),Ht]})}return t})();function $j(t){return t==null||qj(t)===0}function qj(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Wa=new Q(""),fb=new Q("");function Gj(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Wj(t){return $j(t.value)?{required:!0}:null}function tb(t){return null}function db(t){return t!=null}function hb(t){return o1(t)?Oe(t):t}function pb(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function mb(t,e){return e.map(n=>n(t))}function Kj(t){return!t.validate}function gb(t){return t.map(e=>Kj(e)?e:n=>e.validate(n))}function Qj(t){if(!t)return null;let e=t.filter(db);return e.length==0?null:function(n){return pb(mb(n,e))}}function e9(t){return t!=null?Qj(gb(t)):null}function Yj(t){if(!t)return null;let e=t.filter(db);return e.length==0?null:function(n){let r=mb(n,e).map(hb);return Y6(r).pipe(oe(pb))}}function t9(t){return t!=null?Yj(gb(t)):null}function nb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Zj(t){return t._rawValidators}function Xj(t){return t._rawAsyncValidators}function Jd(t){return t?Array.isArray(t)?t:[t]:[]}function Ba(t,e){return Array.isArray(t)?t.includes(e):t===e}function rb(t,e){let n=Jd(e);return Jd(t).forEach(i=>{Ba(n,i)||n.push(i)}),n}function ib(t,e){return Jd(e).filter(n=>!Ba(t,n))}var ja=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=e9(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=t9(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},us=class extends ja{name;get formDirective(){return null}get path(){return null}},z0=class extends ja{_parent=null;name=null;valueAccessor=null},Ua=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Jj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},c2e=ee(O({},Jj),{"[class.ng-submitted]":"isSubmitted"}),hs=(()=>{class t extends Ua{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Y(z0,2))};static \u0275dir=Ne({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&fo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ht]})}return t})(),yb=(()=>{class t extends Ua{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Y(us,10))};static \u0275dir=Ne({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&fo("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Ht]})}return t})();var L0="VALID",Va="INVALID",as="PENDING",w0="DISABLED",fs=class{},Ha=class extends fs{value;source;constructor(e,n){super(),this.value=e,this.source=n}},E0=class extends fs{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},I0=class extends fs{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ls=class extends fs{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function vb(t){return(Ka(t)?t.validators:t)||null}function eU(t){return Array.isArray(t)?e9(t):t||null}function Cb(t,e){return(Ka(e)?e.asyncValidators:t)||null}function tU(t){return Array.isArray(t)?t9(t):t||null}function Ka(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function nU(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function rU(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var $a=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return d2(this.statusReactive)}set status(e){d2(()=>this.statusReactive.set(e))}_status=h2(()=>this.statusReactive());statusReactive=Mt(void 0);get valid(){return this.status===L0}get invalid(){return this.status===Va}get pending(){return this.status==as}get disabled(){return this.status===w0}get enabled(){return this.status!==w0}errors;get pristine(){return d2(this.pristineReactive)}set pristine(e){d2(()=>this.pristineReactive.set(e))}_pristine=h2(()=>this.pristineReactive());pristineReactive=Mt(!0);get dirty(){return!this.pristine}get touched(){return d2(this.touchedReactive)}set touched(e){d2(()=>this.touchedReactive.set(e))}_touched=h2(()=>this.touchedReactive());touchedReactive=Mt(!1);get untouched(){return!this.touched}_events=new rt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ib(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ib(e,this._rawAsyncValidators))}hasValidator(e){return Ba(this._rawValidators,e)}hasAsyncValidator(e){return Ba(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new I0(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new I0(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new E0(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new E0(!0,r))}markAsPending(e={}){this.status=as;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ls(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=w0,this.errors=null,this._forEachChild(i=>{i.disable(ee(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ha(this.value,r)),this._events.next(new ls(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=L0,this._forEachChild(r=>{r.enable(ee(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===L0||this.status===as)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ha(this.value,n)),this._events.next(new ls(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?w0:L0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=as,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=hb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ls(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?w0:this.errors?Va:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(as)?as:this._anyControlsHaveStatus(Va)?Va:L0}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new E0(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new I0(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ka(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=eU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=tU(this._rawAsyncValidators)}},qa=class extends $a{constructor(e,n,r){super(vb(n),Cb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){rU(this,!0,e),Object.keys(e).forEach(r=>{nU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var n9=new Q("",{providedIn:"root",factory:()=>r9}),r9="always";function iU(t,e){return[...e.path,t]}function Mb(t,e,n=r9){_b(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),oU(t,e),aU(t,e),cU(t,e),sU(t,e)}function sb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function sU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function _b(t,e){let n=Zj(t);e.validator!==null?t.setValidators(nb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Xj(t);e.asyncValidator!==null?t.setAsyncValidators(nb(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();sb(e._rawValidators,i),sb(e._rawAsyncValidators,i)}function oU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Lb(t,e)})}function cU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Lb(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Lb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function aU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function lU(t,e){t==null,_b(t,e)}function uU(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function fU(t){return Object.getPrototypeOf(t.constructor)===Ga}function dU(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===ds?n=s:fU(s)?r=s:i=s}),i||r||n||null}var pU={provide:us,useExisting:I2(()=>i9)},b0=Promise.resolve(),i9=(()=>{class t extends us{callSetDisabledState;get submitted(){return d2(this.submittedReactive)}_submitted=h2(()=>this.submittedReactive());submittedReactive=Mt(!1);_directives=new Set;form;ngSubmit=new Ge;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new qa({},e9(n),t9(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){b0.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Mb(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){b0.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){b0.then(()=>{let r=this._findContainer(n.path),i=new qa({});lU(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){b0.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){b0.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),dU(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(Y(Wa,10),Y(fb,10),Y(n9,8))};static \u0275dir=Ne({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&de("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Mn([pU]),Ht]})}return t})();function ob(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function cb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var mU=class extends $a{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(vb(n),Cb(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ka(n)&&(n.nonNullable||n.initialValueIsDefault)&&(cb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ob(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ob(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){cb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gU={provide:z0,useExisting:I2(()=>Tr)},ab=Promise.resolve(),Tr=(()=>{class t extends z0{_changeDetectorRef;callSetDisabledState;control=new mU;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ge;constructor(n,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=hU(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),uU(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Mb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){ab.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&a1(r);ab.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?iU(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Y(us,9),Y(Wa,10),Y(fb,10),Y(S0,10),Y(_n,8),Y(n9,8))};static \u0275dir=Ne({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Mn([gU]),Ht,z2]})}return t})();var wb=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ne({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),yU={provide:S0,useExisting:I2(()=>s9),multi:!0},s9=(()=>{class t extends Ga{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=S2(t)))(i||t)}})();static \u0275dir=Ne({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&de("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Mn([yU]),Ht]})}return t})();var vU={provide:S0,useExisting:I2(()=>ps),multi:!0};function bb(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function CU(t){return t.split(":")[0]}var ps=(()=>{class t extends Ga{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=bb(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=CU(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=S2(t)))(i||t)}})();static \u0275dir=Ne({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&de("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Mn([vU]),Ht]})}return t})(),Qa=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(bb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(Y(Kt),Y(l2),Y(ps,9))};static \u0275dir=Ne({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),MU={provide:S0,useExisting:I2(()=>Eb),multi:!0};function lb(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function _U(t){return t.split(":")[0]}var Eb=(()=>{class t extends Ga{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let l=o[c],u=this._getOptionValue(l.value);i.push(u)}}else{let o=r.options;for(let c=0;c<o.length;c++){let l=o[c];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=_U(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=S2(t)))(i||t)}})();static \u0275dir=Ne({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&de("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Mn([MU]),Ht]})}return t})(),Ya=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(lb(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(lb(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(Y(Kt),Y(l2),Y(Eb,9))};static \u0275dir=Ne({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function LU(t){return typeof t=="number"?t:parseFloat(t)}var Ib=(()=>{class t{_validator=tb;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):tb,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ne({type:t,features:[z2]})}return t})();var wU={provide:Wa,useExisting:I2(()=>o9),multi:!0},o9=(()=>{class t extends Ib{min;inputName="min";normalizeInput=n=>LU(n);createValidator=n=>Gj(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=S2(t)))(i||t)}})();static \u0275dir=Ne({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&c1("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Mn([wU]),Ht]})}return t})(),bU={provide:Wa,useExisting:I2(()=>D0),multi:!0};var D0=(()=>{class t extends Ib{required;inputName="required";normalizeInput=a1;createValidator=n=>Wj;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=S2(t)))(i||t)}})();static \u0275dir=Ne({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&c1("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Mn([bU]),Ht]})}return t})();var EU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=s1({type:t});static \u0275inj=t1({})}return t})();var ms=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:n9,useValue:n.callSetDisabledState??r9}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=s1({type:t});static \u0275inj=t1({imports:[EU]})}return t})();var Za=class t{item=di.required();faTrashCan=eb;cartService=A(v2);increaseQuantity(e){e.quantity=(e.quantity||1)+1,this.cartService.updateCart()}decreaseQuantity(e){e.quantity>1&&(e.quantity--,this.cartService.updateCart())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ae({type:t,selectors:[["app-cart-item"]],inputs:{item:[1,"item"]},decls:28,vars:7,consts:[[1,"bg-white","shadow-md","border","rounded-xl","p-2","flex","items-center","gap-x-4","justify-between"],[1,"h-[100px]","border","rounded-xl",3,"src"],[1,"flex","flex-1","flex-col","items-start","min-w-0"],[1,"text-md","font-bold","truncate"],[1,"text-sm"],[1,"flex","flex-row","items-center","mt-2","space-x-4"],[1,"flex","items-center","gap-2"],[1,"bg-white","shadow-md","border","px-2","py-1","rounded-lg","hover:bg-gray-300","text-lg","font-bold",3,"click"],[1,"text-m","font-bold"],[1,"flex","flex-row","items-center","space-x-2"],["id","size","name","size","required","",1,"border","p-1","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["value","S"],["value","M"],["value","L"],["value","XL"],["label","Enlever",1,"shrink-0","w-fit","ml-3",3,"btnClicked","icon"]],template:function(n,r){n&1&&(N(0,"div",0),Ve(1,"img",1),N(2,"div",2)(3,"span",3),j(4),R(),N(5,"span",4),j(6),R(),N(7,"div",5)(8,"div",6)(9,"button",7),de("click",function(){return r.decreaseQuantity(r.item())}),j(10," - "),R(),N(11,"span",8),j(12),R(),N(13,"button",7),de("click",function(){return r.increaseQuantity(r.item())}),j(14," + "),R()(),N(15,"div",9)(16,"span",8),j(17),R(),N(18,"select",10),Yt("ngModelChange",function(s){return f2(r.item().size,s)||(r.item().size=s),s}),N(19,"option",11),j(20,"Petit"),R(),N(21,"option",12),j(22,"Moyenne"),R(),N(23,"option",13),j(24,"Grande"),R(),N(25,"option",14),j(26,"Tr\xE8s grande"),R()()()()(),N(27,"app-primary-button",15),de("btnClicked",function(){return r.cartService.removeFromCart(r.item())}),R()()),n&2&&(B(),J("src",r.item().images[0],q2),B(3),We(r.item().title),B(2),We(r.item().price+" DA"),B(6),We(r.item().quantity),B(5),We(r.item().size),B(),Qt("ngModel",r.item().size),B(9),J("icon",r.faTrashCan))},dependencies:[ms,Qa,Ya,ps,hs,D0,Tr,z1],encapsulation:2})};var Xa=class t{cartService=A(v2);faCartPlus=cs;total=h2(()=>{let e=0;for(let n of this.cartService.cart())e+=n.price*n.quantity;return e});static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ae({type:t,selectors:[["app-order-summary"]],decls:9,vars:1,consts:[[1,"bg-slate-100","p-6","rounded-xl","shadow-xl","border"],[1,"text-2xl"],[1,"flex","flex-col","gap-4"],[1,"flex","gap-4"],[1,"text-lg"],[1,"text-xl","text-green-600","font-bold"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"h2",1),j(2,"Votre Commande:"),R(),N(3,"div",2)(4,"div",3)(5,"span",4),j(6,"Total"),R(),N(7,"span",5),j(8),R()()()()),n&2&&(B(8),We(r.total()+" DA"))},encapsulation:2})};var Ja={Wilaya:{Adrar:["Adrar","Tamest","Charouine","Reggane","In Zghmir","Tit","Ksar Kaddour","Tsabit","Timimoun","Ouled Said","Zaouiet Kounta","Aoulef","Timekten","Tamantit","Fenoughil","Tinerkouk","Deldoul","Sali","Akabli","Metarfa","Ouled Ahmed Timmi","Bouda","Aougrout","Talmine","Bordj Badji Mokhtar","Sebaa","Ouled Aissa","Timiaouine"],Alger:["Alger-Centre","Sidi M'Hamed","El Madania","Belouizdad","Bab El Oued","Bologhine","Casbah","Oued Koriche","Bir Mourad Ra\xEFs","El Biar","Bouzareah","Birkhadem","El Harrach","Baraki","Oued Smar","Bachdjerrah","Hussein Dey","Kouba","Bourouba","Dar El Be\xEFda","Bab Ezzouar","Ben Aknoun","Dely Ibrahim","El Hammamet","Ra\xEFs Hamidou","Djasr KasentinaNote 1","El Mouradia","Hydra","Mohammadia","Bordj El Kiffan","El Magharia","Beni Messous","Les Eucalyptus","Birtouta","Tessala El Merdja","Ouled Chebel","Sidi Moussa","A\xEFn Taya","Bordj El Bahri","Marsa","H'raoua","Rou\xEFba","Regha\xEFa","A\xEFn Benian","Staoueli","Z\xE9ralda","Mahelma","Rahmania","Souidania","Ch\xE9raga","Ouled Fayet","El Achour","Draria","Douera","Baba Hassen","Khraicia","Saoula"],Annaba:["Annaba","Berrahal","El Hadjar","Eulma","El Bouni","Oued El Aneb","Cheurfa","Sera\xEFdi","A\xEFn Berda","Cheta\xEFbi","Sidi Amar","Treat"],"A\xEFn Defla":["A\xEFn Benian","A\xEFn Bouyahia","A\xEFn Defla","A\xEFn Lechiekh","A\xEFn Soltane","A\xEFn Torki","Arib","Bathia","Belaas","Ben Allal","Birbouche","Bir Ould Khelifa","Bordj Emir Khaled","Boumedfaa","Bourached","Djelida","Djemaa Ouled Cheikh","Djendel","El Abadia","El Amra","El Attaf","El Hassania","El Maine","Hammam Righa","Hoceinia","Khemis Miliana","Mekhatria","Miliana","Oued Chorfa","Oued Djemaa","Rouina","Sidi Lakhdar","Tacheta Zougagha","Tarik Ibn Ziad","Tiberkanine","Zeddine"],"A\xEFn T\xE9mouchent":["Aghlal","A\xEFn El Arbaa","A\xEFn Kihal","A\xEFn T\xE9mouchent","A\xEFn Tolba","Aoubellil","Beni Saf","Bouzedjar","Chaabat El Leham","Chentouf","El Amria","El Emir Abdelkader","El Malah","El Messaid","Hammam Bouhadjar","Hassasna","Hassi El Ghella","Oued Berkeche","Oued Sabah","Ouled Boudjemaa","Ouled Kihal","Oulha\xE7a El Gheraba","Sidi Ben Adda","Sidi Boumedienne","Sidi Ouriache","Sidi Safi","Tamzoura","Terga"],Batna:["Batna","Ghassira","Maafa","Merouana","Seriana","Menaa","El Madher","Tazoult","N'Gaous","Guigba","Inoughissen","Ouyoun El Assafir","Djerma","Bitam","Abdelkader Azil","Arris","Kimmel","Tilatou","A\xEFn Djasser","Ouled Sellam","Tigherghar","A\xEFn Yagout","Sefiane","Fesdis","Rahbat","Tighanimine","Lemsane","Ksar Bellezma","Seggana","Ichmoul","Foum Toub","Ben Foudhala El Hakania","Oued El Ma","Talkhamt","Bouzina","Chemora","Oued Chaaba","Taxlent","Gosbat","Ouled Aouf","Boumagueur","Barika","Djezar","T'Kout","A\xEFn Touta","Hidoussa","Teniet El Abed","Oued Taga","Ouled Fadel","Timgad","Ras El Aioun","Chir","Ouled Si Slimane","Zanat El Beida","M'doukel","Ouled Ammar","El Hassi","Lazrou","Boumia (Batna)","Boulhilat","Larba\xE2"],Bejaia:["B\xE9ja\xEFa","Amizour","Ferraoun","Taourirt Ighil","Chellata","Tamokra","Timezrit","Souk El T\xE9nine","M'cisna","Tinabdher","Tichy","Semaoun","Kendira","Tifra","Ighram","Amalou","Ighil Ali","Fena\xEFa Ilmaten","Toudja","Darguina","Sidi-Ayad","Aokas","Ait Djellil","Adekar","Akbou","Seddouk","Tazmalt","A\xEFt-R'zine","Chemini","Souk-Oufella","Taskriout","Tibane","Tala Hamza","Barbacha","A\xEFt Ksila","Ouzellaguen","Bouhamza","Beni Mellikeche","Sidi-A\xEFch","El Kseur","Melbou","Akfadou","Leflaye","Kherrata","Dra\xE2 El-Ka\xEFd","Tamridjet","A\xEFt-Smail","Boukhelifa","Tizi N'Berber","A\xEFt Maouche","Oued Ghir","Boudjellil"],Biskra:["A\xEFn Naga","A\xEFn Zaatout","Biskra","Bordj Ben Azzouz","Bouchagroune","Branis","Chetma","Djemorah","El Feidh","El Ghrous","El Hadjeb","El Haouch","El Kantara","El Mizaraa","El Outaya","Foughala","Khenguet Sidi Nadji","Lichana","Lioua","M'Chouneche","Mekhadma","M'Lili","Oumache","Ourlal","Sidi Okba","Tolga","Zeribet El Oued"],Blida:["Blida","Chebli","Bouinan","Oued Alleug","Ouled Ya\xEFch","Chr\xE9a","El Affroun","Chiffa","Hammam Melouane","Benkhelil","Soumaa","Mouzaia","Souhane","Meftah","Ouled Slama","Boufarik","Larbaa","Oued Djer","Beni Tamou","Bouarfa","Beni Mered","Bougara","Guerouaou","A\xEFn Romana","Djebabra"],"Bordj Badji Mokhtar":["Bordj Badji Mokhtar","Timiaouine"],"Bordj Bou Arreridj":["A\xEFn Taghrout","A\xEFn Tesra","Belimour","Ben Daoud","Bir Kasdali","Bordj Bou Arreridj","Bordj Ghedir","Bordj Zemoura","Colla","Djaafra","El Ach","El Achir","El Anseur","El Hamadia","El Main","El M'hir","Ghilassa","Haraza","Hasnaoua","Khelil","Ksour","Mansoura","Medjana","Ouled Brahem","Ouled Dahmane","Ouled Sidi Brahim","Rabta","Ras El Oued","Sidi Embarek","Tefreg","Taglait","Teniet En Nasr","Tassameurt","Tixter"],Bouira:["A\xEFn Bessem","Hanif","Aghbalou","A\xEFn El Hadjar","Ahl El Ksar","A\xEFn Laloui","Ath Mansour","Aomar","A\xEFn El Turc","A\xEFt Laziz","Bouderbala","Bechloul","Bir Ghbalou","Boukram","Bordj Okhriss","Bouira","Chorfa","Dechmia","Dirrah","Djebahia","El Hakimia","El Hachimia","El Adjiba","El Khabouzia","El Mokrani","El Asnam","Guerrouma","Haizer","Hadjera Zerga","Kadiria","Lakhdaria","M'Chedallah","Mezdour","Maala","Maamora","Oued El Berdi","Ouled Rached","Raouraoua","Ridane","Saharidj","Sour El Ghouzlane","Souk El Khemis","Taguedit","Taghzout","Zbarbar"],Boumerd\u00E8s:["Afir","Ammal","Baghlia","Ben Choud","Beni Amrane","Bordj Mena\xEFel","Boudouaou","Boudouaou-El-Bahri","Boumerdes","Bouzegza Keddara","Chabet el Ameur","Corso","Dellys","Djinet","El Kharrouba","Hammedi","Issers","Khemis El-Khechna","Larbatache","Leghata","Naciria","Ouled A\xEFssa","Ouled Hedadj","Ouled Moussa","Si Mustapha","Sidi Daoud","Souk El Had","Taourga","Thenia","Tidjelabine","Timezrit","Zemmouri"],B\u00E9char:["B\xE9char","Erg Ferradj","Ouled Khoudir","Meridja","Timoudi","Lahmar","Beni Abb\xE8s","Beni Ikhlef","Mechraa Houari Boumedienne","Kenadsa","Igli","Tabelbala","Taghit","El Ouata","Boukais","Mougheul","Abadla","Kerzaz","Ksabi","Tamtert","Beni Ounif"],"B\xE9ni Abb\xE8s":["Beni Abb\xE8s","Beni Ikhlef","El Ouata","Igli","Kerzaz","Ksabi","Oulad khodeir","Tabelbala","Tamtert","Timoudi"],Chlef:["Chlef","Tenes","Benairia","El Karimia","Tadjena","Taougrit","Beni Haoua","Sobha","Harchoun","Ouled Fares","Sidi Akkacha","Boukadir","Beni Rached","Talassa","Herenfa","Oued Goussine","Dahra","Ouled Abbes","Sendjas","Zeboudja","Oued Sly","Abou El Hassane","El Marsa","Chettia","Sidi Abderrahmane","Moussadek","El Hadjadj","Labiod Medjadja","Oued Fodda","Ouled Ben Abdelkader","Bouzeghaia","Ain Merane","Oum Drou","Breira","Beni Bouattab"],Constantine:["Ouled Rahmoune","A\xEFn Abid","El Khroub","Ibn Badis","A\xEFn Smara","Constantine","Ibn Ziad","Hamma Bouziane","Didouche Mourad","Messaoud Boudjriou","Beni Hamiden","Zighoud Youcef"],Djanet:["Djanet","Bordj El Haouas"],Djelfa:["A\xEFn Chouhada","A\xEFn El Ibel","A\xEFn Feka","A\xEFn Maabed","A\xEFn Oussara","Amourah","Benhar","Beni Yagoub","Birine","Bouira Lahdab","Charef","Dar Chioukh","Deldoul","Djelfa","Douis","El Guedid","El Idrissia","El Khemis","Faidh El Botma","Guernini","Guettara","Had-Sahary","Hassi Bahbah","Hassi El Euch","Hassi Fedoul","Messaad","M'Liliha","Moudjebara","Oum Laadham","Sed Rahal","Selmana","Sidi Baizid","Sidi Ladjel","Tadmit","Zaafrane","Zaccar"],"El Bayadh":["El Bayadh","Rogassa","Stitten","Brezina","Ghassoul","Boualem","El Abiodh Sidi Cheikh","A\xEFn El Orak","Arbaouat","Bougtoub","El Kheiter","Kef El Ahmar","Boussemghoun","Chellala","Kraakda","El Bnoud","Cheguig","Sidi Ameur","El Mehara","Tousmouline","Sidi Slimane","Sidi Tifour"],"El M'Ghair":["Djamaa","El M'Ghair","Merara","Oum Touyour","Sidi Amrane","Sidi Khellil","Still","Tendla"],"El Meniaa":["El Menia","Hassi Fehal","Hassi Gara"],"El Oued":["El Oued","Robbah","Oued El Alenda","Bayadha","Nakhla","Guemar","Kouinine","Reguiba","Hamraia","Taghzout","Debila","Hassani Abdelkrim","Hassi Khalifa","Taleb Larbi","Douar El Ma","Sidi Aoun","Trifaoui","Magrane","Beni Guecha","Ourmas","El Ogla","Mih Ouansa"],"El Tarf":["A\xEFn El Assel","A\xEFn Kerma","Asfour","Ben Mehidi","Berrihane","Besbes","Bougous","Bouhadjar","Bouteldja","Chebaita Mokhtar","Chefia","Chihani","Dr\xE9an","Echatt","El Aioun","El Kala","El Tarf","Hammam Beni Salah","Lac des Oiseaux","Oued Zitoun","Raml Souk","Souarekh","Zerizer","Zitouna"],Gharda\u00EFa:["Berriane","Bounoura","Dhayet Bendhahoua","El Atteuf","El Guerrara","Gharda\xEFa","Mansoura","Metlili","Sebseb","Zelfana"],Guelma:["A\xEFn Ben Beida","A\xEFn Larbi","A\xEFn Makhlouf","A\xEFn Reggada","A\xEFn Sandel","Belkheir","Ben Djerrah","Beni Mezline","Bordj Sabath","Bouhachana","Bouhamdane","Bouati Mahmoud","Bouchegouf","Boumahra Ahmed","Dahouara","Djeballah Khemissi","El Fedjoudj","Guellat Bou Sbaa","Guelma","Hammam Debagh","Hammam N'Bail","H\xE9liopolis","Houari Boum\xE9di\xE8ne","Khezarra","Medjez Amar","Medjez Sfa","Nechmaya","Oued Cheham","Oued Fragha","Oued Zenati","Ras El Agba","Roknia","Sellaoua Announa","Tamlouka"],Illizi:["Illizi","Debdeb","Bordj Omar Driss","In Amenas"],"In Guezzam":["In Guezzam","Tin Zaouatine"],"In Salah":["Foggaret Ezzaouia","In Ghar","In Salah"],Jijel:["Bordj Tahar","Boucif Ouled Askeur","Boudriaa Ben Yadjis","Bouraoui Belhadef","Chahna","Chekfa","Djemaa Beni Habibi","Djimla","El Ancer","El Aouana","El Kennar Nouchfi","El Milia","Emir Abdelkader","Eraguene","Ghebala","Jijel","Kaous","Khe\xEFri Oued Adjoul","Ouadjana","Ouled Rabah","Ouled Yahia Khedrouche","Selma Benziada","Settara","Sidi Abdelaziz","Sidi Maarouf","Taher","Texenna","Ziama Mansouriah"],Khenchela:["A\xEFn Touila","Babar","Baghai","Bouhmama","Chechar","Chelia","Djellal","El Hamma","El Mahmal","El Oueldja","Ensigha","Kais","Khenchela","Khirane","M'Sara","M'Toussa","Ouled Rechache","Remila","Tamza","Taouzient","Yabous"],Laghouat:["Laghouat","Ksar El Hirane","Bennasser Benchohra","Sidi Makhlouf","Hassi Delaa","Hassi R'Mel","A\xEFn Madhi","Tadjemout","Kheneg","Gueltat Sidi Saad","A\xEFn Sidi Ali","Beidha","Brida","El Ghicha","Hadj Mechri","Sebgag","Taouiala","Tadjrouna","Aflou","El Assafia","Oued Morra","Oued M'Zi","El Houaita","Sidi Bouzid"],"M'Sila":["A\xEFn El Hadjel","A\xEFn El Melh","A\xEFn Errich","A\xEFn Fares","A\xEFn Khadra","Belaiba","Ben Srour","Beni Ilmane","Benzouh","Berhoum","Bir Foda","Bou Sa\xE2da","Bouti Sayah","Chellal","Dehahna","Djebel Messaad","El Hamel","El Houamed","Hammam Dhalaa","Khettouti Sed El Djir","Khoubana","Maadid","Maarif","Magra","M'Cif","Medjedel","M'Sila","M'Tarfa","Ouanougha","Ouled Addi Guebala","Ouled Atia","Mohammed Boudiaf","Ouled Derradj","Ouled Madhi","Ouled Mansour","Ouled Sidi Brahim","Ouled Slimane","Oultem","Sidi A\xEFssa","Sidi Ameur","Sidi Hadjeres","Sidi M'Hamed","Slim","Souamaa","Tamsa","Tarmount","Zarzour"],Mascara:["A\xEFn Fares","A\xEFn Fekan","A\xEFn Ferah","A\xEFn Fras","Ala\xEFmia","Aouf","Beniane","Bou Hanifia","Bou Henni","Chorfa","El Bordj","El Gaada","El Ghomri","El Guettana","El Keurt","El Menaouer","Ferraguig","Froha","Gharrous","Guerdjoum","Ghriss","Hachem","Hacine","Khalouia","Makdha","Mamounia","Maoussa","Mascara","Matemore","Mocta Douz","Mohammadia","Nesmoth","Oggaz","Oued El Abtal","Oued Taria","Ras El A\xEFn Amirouche","Sedjerara","Sehailia","Sidi Abdeldjebar","Sidi Abdelmoumen","Sidi Kada","Sidi Boussaid","Sig","Tighennif","Tizi","Zahana","Zelmata"],Mila:["Ahmed Rachedi","A\xEFn Beida Harriche","A\xEFn Mellouk","A\xEFn Tine","Amira Arr\xE8s","Benyahia Abderrahmane","Bouhatem","Chelghoum Laid","Chigara","Derradji Bousselah","El Mechira","Elayadi Barbes","Ferdjioua","Grarem Gouga","Hamala","Mila","Minar Zarza","Oued Athmania","Oued Endja","Oued Seguen","Ouled Khalouf","Rouached","Sidi Khelifa","Sidi Merouane","Tadjenanet","Tassadane Haddada","Teleghma","Terrai Bainen","Tessala Lemta\xEF","Tiberguent","Yahia Beni Guecha","Zeghaia"],Mostaganem:["Abdelmalek Ramdane","Achaacha","A\xEFn Boudinar","A\xEFn Nouissy","A\xEFn Sidi Cherif","A\xEFn Tedles","Blad Touahria","Bouguirat","El Hassiane","Fornaka","Hadjadj","Hassi Mameche","Khadra","Kheireddine","Mansourah","Mesra","Mazagran","Mostaganem","Nekmaria","Oued El Kheir","Ouled Boughalem","Ouled Maallah","Safsaf","Sayada","Sidi Ali","Sidi Belattar","Sidi Lakhdar","Sirat","Souaflia","Sour","Stidia","Tazgait"],M\u00E9d\u00E9a:["A\xEFn Boucif","A\xEFn Ouksir","Aissaouia","Aziz","Baata","Benchicao","Beni Slimane","Berrouaghia","Bir Ben Laabed","Boghar","Bou Aiche","Bouaichoune","Bouchrahil","Boughezoul","Bouskene","Chahbounia","Chellalet El Adhaoura","Cheniguel","Derrag","Deux Bassins","Djouab","Draa Essamar","El Azizia","El Guelb El Kebir","El Hamdania","El Omaria","El Ouinet","Hannacha","Kef Lakhdar","Khams Djouamaa","Ksar Boukhari","Meghraoua","M\xE9d\xE9a","Moudjbar","Meftaha","Mezerana","Mihoub","Ouamri","Oued Harbil","Ouled Antar","Ouled Bouachra","Ouled Brahim","Ouled Deide","Ouled Hellal","Ouled Maaref","Oum El Djalil","Ouzera","Rebaia","Saneg","Sedraia","Seghouane","Si Mahdjoub","Sidi Damed","Sidi Errabia","Sidi Naamane","Sidi Zahar","Sidi Ziane","Souagui","Tablat","Tafraout","Tamesguida","Tizi Mahdi","Tlatet Eddouar","Zoubiria"],Na\u00E2ma:["Na\xE2ma","Mecheria","A\xEFn Sefra","Tiout","Sfissifa","Moghrar","Assela","Djeniene Bourezg","A\xEFn Ben Khelil","Makman Ben Amer","Kasdir","El Biod"],Oran:["Oran","Gdyel","Bir El Djir","Hassi Bounif","Es Senia","Arzew","Bethioua","Marsat El Hadjadj","A\xEFn El Turk","El An\xE7or","Oued Tlelat","Tafraoui","Sidi Chami","Boufatis","Mers El K\xE9bir","Bousfer","El Kerma","El Braya","Hassi Ben Okba","Ben Freha","Hassi Mefsoukh","Sidi Benyebka","Misserghin","Boutlelis","A\xEFn El Kerma","A\xEFn El Bia"],Ouargla:["Benaceur","Blidet Amor","El Allia","El Borma","El Hadjira","Megarine","M'Naguer","Nezla","Sidi Slimane","Taibet","Tamacine","Tebesbest","Touggourt","Zaouia El Abidia"],"Ouled Djellal":["Besbes","Ech Cha\xEFba","Doucen","Ouled Djellal","Sidi Khaled","Ras El Miaad"],"Oum el Bouaghi":["Oum el Bouaghi","A\xEFn Be\xEFda","A\xEFn M'lila","Behir Chergui","El Amiria","Sigus","El Belala","A\xEFn Babouche","Berriche","Ouled Hamla","Dhalaa","A\xEFn Kercha","Hanchir Toumghani","El Djazia","A\xEFn Diss","Fkirina","Souk Naamane","Zorg","El Fedjoudj Boughrara Saoudi","Ouled Zoua\xEF","Bir Chouhada","Ksar Sbahi","Oued Nini","Meskiana","A\xEFn Fakroun","Rahia","A\xEFn Zitoun","Ouled Gacem","El Harmilia"],Relizane:["A\xEFn Rahma","A\xEFn Tarek","\u2018Aarch Meknassa","Ammi Moussa","Belassel Bouzegza","Bendaoud","Beni Dergoun","Beni Zentis","Dar Ben Abdellah","Djidioua","El Guettar","El Hamadna","El Hassi","El Matmar","El Ouldja","Had Echkalla","Hamri","Kalaa","Lahlef","Mazouna","Mediouna","Mendes","Merdja Sidi Abed","Ouarizane","Oued Essalem","Oued Rhiou","Ouled Aiche","Oued El Djemaa","Ouled Sidi Mihoub","Ramka","Relizane","Sidi Khettab","Sidi Lazreg","Sidi M'Hamed Ben Ali","Sidi M'Hamed Benaouda","Sidi Saada","Souk El Had","Yellel","Zemmora"],Sa\u00EFda:["A\xEFn El Hadjar","A\xEFn Sekhouna","A\xEFn Soltane","Doui Thabet","El Hassasna","Hounet","Maamora","Moulay Larbi","Ouled Brahim","Ouled Khaled","Sa\xEFda","Sidi Ahmed","Sidi Amar","Sidi Boubekeur","Tircine","Youb"],"Sidi Bel Abb\xE8s":["A\xEFn Adden","A\xEFn El Berd","A\xEFn Kada","A\xEFn Thrid","A\xEFn Tindamine","Amarnas","Badredine El Mokrani","Belarbi","Ben Badis","Benachiba Chelia","Bir El Hammam","Boudjebaa El Bordj","Boukhanafis","Chettouane Belaila","Dhaya","El Ha\xE7aiba","Hassi Dahou","Hassi Zehana","Lamtar","M'Cid","Makedra","Marhoum","Merine","Mezaourou","Mostefa Ben Brahim","Moulay Slissen","Oued Sebaa","Oued Sefioun","Oued Taourira","Ras El Ma","Redjem Demouche","Sehala Thaoura","Sfisef","Sidi Ali Benyoub","Sidi Ali Boussidi","Sidi Bel Abbes","Sidi Brahim","Sidi Chaib","Sidi Daho des Zairs","Sidi Hamadouche","Sidi Khaled","Sidi Lahcene","Sidi Yacoub","Tabia","Tafissour","Taoudmout","Teghalimet","Telagh","Tenira","Tessala","Tilmouni","Zerouala"],Skikda:["A\xEFn Bouziane","A\xEFn Charchar","A\xEFn Kechra","A\xEFn Zouit","Azzaba","Bekkouche Lakhdar","Bin El Ouiden","Ben Azzouz","Beni Bechir","Beni Oulbane","Beni Zid","Bouchtata","Cheraia","Collo","Djendel Saadi Mohamed","El Ghedir","El Hadaiek","El Harrouch","El Marsa","Emdjez Edchich","Es Sebt","Filfila","Hamadi Krouma","Kanoua","Kerkera","Kheneg Mayoum","Oued Zehour","Ouldja Boulballout","Ouled Attia","Ouled Hbaba","Oum Toub","Ramdane Djamel","Salah Bouchaour","Sidi Mezghiche","Skikda","Tamalous","Zerdaza","Zitouna"],"Souk Ahras":["Souk Ahras","Sedrata","Hanancha","Mechroha","Ouled Driss","Tiffech","Zaarouria","Taoura","Dr\xE9a","Heddada","Khedara","Merahna","Ouled Moumene","Bir Bou Haouch","M'daourouch","Oum El Adhaim","A\xEFn Zana","A\xEFn Soltane","Ouillen","Sidi Fredj","Safel El Ouiden","Ragouba","Khemissa","Oued Keberit","Terraguelt","Zouabi"],S\u00E9tif:["A\xEFn Abessa","A\xEFn Arnat","A\xEFn Azel","A\xEFn El Kebira","A\xEFn Lahdjar","A\xEFn Legradj","A\xEFn Oulmene","A\xEFn Roua","A\xEFn Sebt","A\xEFt Naoual Mezada","A\xEFt Tizi","Beni Ouartilene","Amoucha","Babor","Bazer Sakhra","Beidha Bordj","Belaa","Beni Aziz","Beni Chebana","Beni Fouda","Beni Hocine","Beni Mouhli","Bir El Arch","Bir Haddada","Bouandas","Bougaa","Bousselam","Boutaleb","Dehamcha","Djemila","Draa Kebila","El Eulma, site arch\xE9ologique de Tarlist","El Ouldja","El Ouricia","Guellal","Guelta Zerka, sites arch\xE9ologiques de A\xEFn El Ahnech et A\xEFn Boucherit","Guenzet","Guidjel","Hamma","Hammam Guergour","Hammam Soukhna","Harbil","Ksar El Abtal","Maaouia","Maoklane","Mezloug","Oued El Barad","Ouled Addouane","Ouled Sabor","Ouled Si Ahmed","Ouled Tebben","Rasfa","Salah Bey","Serdj El Ghoul","S\xE9tif","Tachouda","Talaifacene","Taya","Tella","Tizi N'Bechar"],Tamanrasset:["Tamanrasset","Abalessa","Idles","Tazrouk","In Amguel"],Tebessa:["T\xE9bessa","Bir el-Ater","Cheria","Stah Guentis","El Aouinet","El Houidjbet","Safsaf El Ouesra","Hammamet","Negrine","Bir Mokkadem","El Kouif","Morsott","El Ogla","Bir Dheb","Ogla Melha","Guorriguer","Bekkaria","Boukhadra","Ouenza","El Ma Labiodh","Oum Ali","Tlidjene","A\xEFn Zerga","El Meridj","Boulhaf Dir","Bedjene","El Mezeraa","Ferkane"],Tiaret:["A\xEFn Bouchekif","A\xEFn Deheb","A\xEFn El Hadid","A\xEFn Kermes","A\xEFn Dzarit","Bougara","Chehaima","Dahmouni","Djebilet Rosfa","Djillali Ben Amar","Faidja","Frenda","Guertoufa","Hamadia","Ksar Chellala","Madna","Mahdia","Mechraa Safa","Medrissa","Medroussa","Meghila","Mellakou","Nadorah","Naima","Oued Lilli","Rahouia","Recha\xEFga","Seba\xEFne","Sebt","Serghine","Si Abdelghani","Sidi Abderahmane","Sidi Ali Mellal","Sidi Bakhti","Sidi Hosni","Sougueur","Tagdemt","Takhemaret","Tiaret","Tidda","Tousnina","Zmalet El Emir Abdelkader"],Timimoun:["Aougrout","Charouine","Deldoul","Ksar Kaddour","Metarfa","Ouled A\xEFssa","Ouled Sa\xEFd","Talmine","Timimoun"],Tindouf:["Oum el Assel","Tindouf"],Tipaza:["Tipaza","Menaceur","Larhat","Douaouda","Bourkika","Khemisti","Aghbal","Hadjout","Sidi Amar","Gouraya","Nador","Chaiba","A\xEFn Tagourait","Cherchell","Damous","Merad","Fouka","Bou Isma\xEFl","Ahmar El A\xEFn","Bouharoun","Sidi Ghiles","Messelmoun","Sidi Rached","Kol\xE9a","Attatba","Sidi Semiane","Beni Milleuk","Hadjeret Ennous"],Tissemsilt:["Ammari","Beni Chaib","Beni Lahcene","Boucaid","Bordj Bou Naama","Bordj El Emir Abdelkader","Khemisti","Larbaa","Lardjem","Layoune","Lazharia","Maacem","Melaab","Ouled Bessem","Sidi Abed","Sidi Boutouchent","Sidi Lantri","Sidi Slimane","Tamalaht","Theniet El Had","Tissemsilt","Youssoufia"],"Tizi Ouzou":["Tizi Ouzou","Ain El Hammam","Akbil","Freha","Souama\xE2","Mechtras","Irdjen","Timizart","Makouda","Dra\xE2 El Mizan","Tizi Gheniff","Bounouh","A\xEFt Chaf\xE2a","Frikat","Beni A\xEFssi","A\xEFt Zmenzer","Iferhoun\xE8ne","Azazga","Illoula Oumalou","Yakouren","Larba\xE2 Nath Irathen","Tizi Rached","Zekri","Ouaguenoun","A\xEFn Zaouia","Imkiren","A\xEFt Yahia","A\xEFt Mahmoud","M\xE2atkas","A\xEFt Boumahdi","Abi Youcef","Beni Douala","Illilten","Bouzegu\xE8ne","A\xEFt Aggouacha","Ouadhia","Azeffoun","Tigzirt","A\xEFt A\xEFssa Mimoun","Boghni","Ifigha","A\xEFt Oumalou","Tirmitine","Akerrou","Yatafen","Ath Zikki","Dra\xE2 Ben Khedda","A\xEFt Ouacif","Idjeur","Mekla","Tizi N'Tleta","A\xEFt Yenni","Aghribs","Iflissen","Boudjima","A\xEFt Yahia Moussa","Souk El Thenine","A\xEFt Khellili","Sidi Namane","Iboudraren","Agouni Gueghrane","Mizrana","Imsouhel","Tadma\xEFt","A\xEFt Bouaddou","Assi Youcef","A\xEFt Toudert"],Tlemcen:["Tlemcen","Beni Mester","A\xEFn Tallout","Remchi","El Fehoul","Sabra","Ghazaouet","Souani","Djebala","El Gor","Oued Lakhdar","A\xEFn Fezza","Ouled Mimoun","Amieur","A\xEFn Youcef","Zenata","Beni Snous","Bab El Assa","Dar Yaghmouracene","Fellaoucene","Azails","Sebaa Chioukh","Terny Beni Hdiel","Bensekrane","A\xEFn Nehala","Hennaya","Maghnia","Hammam Boughrara","Souahlia","MSirda Fouaga","A\xEFn Fetah","El Aricha","Souk Tlata","Sidi Abdelli","Sebdou","Beni Ouarsous","Sidi Medjahed","Beni Boussaid","Marsa Ben M'Hidi","Nedroma","Sidi Djillali","Beni Bahdel","El Bouihi","Hona\xEFne","Tienet","Ouled Riyah","Bouhlou","Beni Khellad","A\xEFn Ghoraba","Chetouane","Mansourah","Beni Semiel","A\xEFn Kebira"],Touggourt:["Benaceur","Blidet Amor","El Allia","El Hadjira","Megarine","M'Naguer","Nezla","Sidi Slimane","Taibet","Temacine","Tebesbest","Touggourt","Zaouia El Abidia"]}};function zU(t,e){if(t&1&&(N(0,"option",25),j(1),R()),t&2){let n=e.$implicit;J("value",n),B(),u2(" ",n," ")}}function SU(t,e){if(t&1&&(N(0,"option",25),j(1),R()),t&2){let n=e.$implicit;J("value",n),B(),We(n)}}function DU(t,e){if(t&1){let n=$t();N(0,"div",10)(1,"label",26),j(2,"Quantit\xE9 :"),R(),N(3,"input",27),Yt("ngModelChange",function(i){ft(n);let s=Re();return f2(s.orderData.quantity,i)||(s.orderData.quantity=i),dt(i)}),R()()}if(t&2){let n=Re();B(3),Qt("ngModel",n.orderData.quantity)}}var gs=class t{showQuantity=!1;orderSubmitted=new Ge;wilayas=Object.keys(Ja.Wilaya);selectedWilaya="Alger";communes=Ja.Wilaya.Alger||[];orderData={name:"",phone:"",email:"",wilaya:"Alger",commune:"",address:"",size:"",quantity:""};onWilayaChange(e){let n=e.target.value;this.communes=Ja.Wilaya[n]||[],this.orderData.commune=""}submitOrder(e){e.preventDefault(),console.log("Commande soumise :",this.orderData),this.orderSubmitted.emit(this.orderData)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ae({type:t,selectors:[["app-order-form"]],inputs:{showQuantity:"showQuantity"},outputs:{orderSubmitted:"orderSubmitted"},decls:42,vars:9,consts:[[1,"bg-white","shadow-md","border","rounded-xl","p-6","flex","flex-col","gap-4","w-[350px]"],[1,"text-xl","font-semibold","text-center","bg-blue-950","text-white","py-3","rounded-lg","shadow-md"],[3,"submit"],[1,"flex","items-center","mt-2","ml-1","gap-2"],["for","name",1,"text-sm","font-semibold"],["id","name","type","text","placeholder","Entrez votre nom","name","name","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["for","phone",1,"text-sm","font-semibold"],["id","phone","type","text","placeholder","Entrez votre num\xE9ro de t\xE9l\xE9phone","name","phone","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["for","email",1,"text-sm","font-semibold"],["id","email","type","email","placeholder","Entrez votre email","name","email",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],[1,"flex","flex-row","items-center","mt-2","space-x-2"],["for","wilaya",1,"text-sm","ml-1","font-semibold"],["id","wilaya","name","wilaya","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","commune",1,"text-sm","ml-1","font-semibold"],["id","commune","name","commune","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["class","flex flex-row items-center mt-2 space-x-2",4,"ngIf"],["for","size",1,"text-sm","font-semibold","ml-1","whitespace-nowrap"],["id","size","name","size","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["value","S"],["value","M"],["value","L"],["value","XL"],[1,"mt-4"],["type","submit",1,"w-full","bg-green-600","text-white","p-2","rounded-lg","hover:bg-green-700"],[3,"value"],["for","quantity",1,"text-sm","font-semibold","ml-1","whitespace-nowrap"],["id","quantity","type","number","name","quantity","min","1","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"h3",1),j(2," D\xE9tails de la commande \u{1F4DD} "),R(),N(3,"form",2),de("submit",function(s){return r.submitOrder(s)}),N(4,"div",3)(5,"label",4),j(6,"Nom :"),R(),N(7,"input",5),Yt("ngModelChange",function(s){return f2(r.orderData.name,s)||(r.orderData.name=s),s}),R()(),N(8,"div",3)(9,"label",6),j(10,"Tel :"),R(),N(11,"input",7),Yt("ngModelChange",function(s){return f2(r.orderData.phone,s)||(r.orderData.phone=s),s}),R()(),N(12,"div",3)(13,"label",8),j(14,"Email :"),R(),N(15,"input",9),Yt("ngModelChange",function(s){return f2(r.orderData.email,s)||(r.orderData.email=s),s}),R()(),N(16,"div",10)(17,"label",11),j(18,"Wilaya :"),R(),N(19,"select",12),Yt("ngModelChange",function(s){return f2(r.orderData.wilaya,s)||(r.orderData.wilaya=s),s}),de("change",function(s){return r.onWilayaChange(s)}),je(20,zU,2,2,"option",13),R()(),N(21,"div",10)(22,"label",14),j(23,"Commune :"),R(),N(24,"select",15),Yt("ngModelChange",function(s){return f2(r.orderData.commune,s)||(r.orderData.commune=s),s}),je(25,SU,2,2,"option",13),R()(),je(26,DU,4,1,"div",16),N(27,"div",10)(28,"label",17),j(29,"Taille :"),R(),N(30,"select",18),Yt("ngModelChange",function(s){return f2(r.orderData.size,s)||(r.orderData.size=s),s}),N(31,"option",19),j(32,"Petit"),R(),N(33,"option",20),j(34,"Moyenne"),R(),N(35,"option",21),j(36,"Grande"),R(),N(37,"option",22),j(38,"Tr\xE8s grande"),R()()(),N(39,"div",23)(40,"button",24),j(41," Passer la commande \u2714\uFE0F "),R()()()()),n&2&&(B(7),Qt("ngModel",r.orderData.name),B(4),Qt("ngModel",r.orderData.phone),B(4),Qt("ngModel",r.orderData.email),B(4),Qt("ngModel",r.orderData.wilaya),B(),J("ngForOf",r.wilayas),B(4),Qt("ngModel",r.orderData.commune),B(),J("ngForOf",r.communes),B(),J("ngIf",r.showQuantity),B(4),Qt("ngModel",r.orderData.size))},dependencies:[At,p2,vi,ms,wb,Qa,Ya,ds,s9,ps,hs,yb,D0,o9,Tr,i9],encapsulation:2})};var D1=class t{constructor(e){this.firestore=e}placeOrder(e){let n=Ir(this.firestore,"orders");return ba(n,e).then(()=>console.log("Order placed successfully")).catch(r=>console.error("Error placing order:",r))}getAllOrders(){let e=Ir(this.firestore,"orders"),n=Ea(e);return Oe(n).pipe(oe(r=>r.docs.map(i=>{let s=i.data();return ee(O({},s),{id:i.id})})))}deleteOrder(e){let n=AL(this.firestore,"orders",e);return TL(n)}static \u0275fac=function(n){return new(n||t)(ce(Pn))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};function TU(t,e){if(t&1&&(N(0,"div",7),Ve(1,"app-cart-item",8),R()),t&2){let n=e.$implicit;B(),J("item",n)}}var e6=class t{route=A(A2);router=A(En);cartService=A(v2);firebaseService=A(D1);trackById(e,n){return n.id}updateQuantity(e){e.quantity>e.stock&&(e.quantity=e.stock)}handleOrderSubmit(e){let n=this.cartService.cart();if(!n||n.length===0)return;let r={products:n.map(i=>({productId:i.id,productName:i.title,price:i.price,quantity:i.quantity,size:i.size})),total:this.cartService.total(),name:e.name,phone:e.phone,email:e.email,wilaya:e.wilaya,commune:e.commune,address:e.address};this.firebaseService.placeOrder(r).then(()=>{this.cartService.clearCart(),window.alert("\u2705 Votre commande a \xE9t\xE9 enregistr\xE9e avec succ\xE8s !"),this.router.navigate(["/"])}).catch(i=>{console.error("Error placing order:",i),window.alert("\u274C Une erreur est survenue lors de l\u2019enregistrement de votre commande.")})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ae({type:t,selectors:[["app-cart"]],decls:9,vars:3,consts:[[1,"p-6","flex","flex-col","gap-4"],[1,"text-xl","bg-slate-100","font-bold","mt-1","px-4","py-3","shadow-md","flex","justify-between","items-center"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex-1","flex","flex-col","gap-4"],["class","flex justify-between items-center w-full",4,"ngFor","ngForOf","ngForTrackBy"],[1,"md:w-[350px]","w-full"],[3,"orderSubmitted","showQuantity"],[1,"flex","justify-between","items-center","w-full"],[1,"w-full",3,"item"]],template:function(n,r){n&1&&(N(0,"div",0)(1,"h2",1),j(2," PANIER D'ACHAT "),R(),N(3,"div",2)(4,"div",3),Ve(5,"app-order-summary"),je(6,TU,2,1,"div",4),R(),N(7,"div",5)(8,"app-order-form",6),de("orderSubmitted",function(s){return r.handleOrderSubmit(s)}),R()()()()),n&2&&(B(6),J("ngForOf",r.cartService.cart())("ngForTrackBy",r.trackById),B(2),J("showQuantity",!1))},dependencies:[Za,Xa,gs,At,p2],encapsulation:2})};function AU(t,e){if(t&1){let n=$t();N(0,"img",11),de("click",function(){let i=ft(n).$implicit,s=Re();return dt(s.selectedImage=i)}),R()}if(t&2){let n=e.$implicit;J("src",n,q2)}}var t6=class t{route=A(A2);router=A(En);productsService=A(S1);firebaseService=A(D1);productId=String(this.route.snapshot.paramMap.get("id"));product;selectedImage;constructor(){this.loadProduct()}loadProduct(){let e=this.productsService.getProductById(this.productId);e?(this.product=e,console.log("Product found:",e)):console.log("Product not found."),this.selectedImage=e?.images?.[0]}handleOrderSubmit(e){if(!this.product)return;let n={products:[{productId:this.product.id,productName:this.product.title,price:this.product.price,quantity:e.quantity,size:e.size}],total:this.product.price*e.quantity,name:e.name,phone:e.phone,email:e.email,wilaya:e.wilaya,commune:e.commune,address:e.address};this.firebaseService.placeOrder(n).then(()=>{window.alert("\u2705 Votre commande a \xE9t\xE9 enregistr\xE9e avec succ\xE8s !"),this.router.navigate(["/"])}).catch(r=>{console.error("Error placing order:",r),window.alert("\u274C Une erreur est survenue lors de l\u2019enregistrement de votre commande.")})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ae({type:t,selectors:[["app-product-detail"]],decls:13,vars:5,consts:[[1,"p-2","text-center"],[1,"flex","flex-col","md:flex-row","gap-4","mt-4","mx-auto"],[1,"flex","flex-row","gap-4","relative"],[1,"flex","flex-col","gap-2","w-[50px]"],["class","w-16 h-16 object-cover rounded-lg border cursor-pointer hover:border-green-500",3,"src","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-1","relative"],[1,"w-full","object-contain","rounded-lg",3,"src"],[1,"bg-white","shadow-md","border","rounded-xl","p-4","mt-4","md:mt-0","flex","flex-col","items-center","w-fit"],[1,"text-2xl","font-bold"],[1,"text-xl","text-green-600","font-bold"],[3,"orderSubmitted","showQuantity"],[1,"w-16","h-16","object-cover","rounded-lg","border","cursor-pointer","hover:border-green-500",3,"click","src"]],template:function(n,r){if(n&1&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),je(4,AU,1,1,"img",4),R(),N(5,"div",5),Ve(6,"img",6),N(7,"div",7)(8,"span",8),j(9),R(),N(10,"span",9),j(11),R()()()(),N(12,"app-order-form",10),de("orderSubmitted",function(s){return r.handleOrderSubmit(s)}),R()()()),n&2){let i;B(4),J("ngForOf",r.product==null?null:r.product.images),B(2),J("src",(i=r.selectedImage)!==null&&i!==void 0?i:"images/default-image.jpg",q2),B(3),We(r.product==null?null:r.product.title),B(2),We((r.product==null?null:r.product.price)+" DA"),B(),J("showQuantity",!0)}},dependencies:[At,p2,gs],encapsulation:2})};function xU(t,e){if(t&1&&(N(0,"li"),j(1),R()),t&2){let n=e.$implicit;B(),T4(" ",n.productName," (",n.quantity,"x, ",n.size,") ")}}function NU(t,e){if(t&1){let n=$t();N(0,"tr")(1,"td",5),j(2),R(),N(3,"td",5),j(4),R(),N(5,"td",5),j(6),R(),N(7,"td",5),j(8),R(),N(9,"td",5)(10,"ul"),je(11,xU,2,3,"li",4),R()(),N(12,"td",5),j(13),R(),N(14,"td",6)(15,"app-primary-button",7),de("btnClicked",function(){let i=ft(n).$implicit,s=Re();return dt(s.deleteOrder(i.id))}),R()()()}if(t&2){let n=e.$implicit,r=Re();B(2),We(n.name),B(2),We(n.phone),B(2),We(n.email),B(2),T4(" ",n.address,", ",n.commune,", ",n.wilaya," "),B(3),J("ngForOf",n.products),B(2),u2("",n.total," DA"),B(2),J("icon",r.faTrashCan)}}var n6=class t{firebaseService=A(D1);orders=[];faTrashCan;constructor(){}ngOnInit(){this.firebaseService.getAllOrders().subscribe(e=>{this.orders=e})}deleteOrder(e){confirm("\u2757 Voulez-vous vraiment supprimer cette commande ?")&&this.firebaseService.deleteOrder(e).then(()=>{alert("\u2705 Commande supprim\xE9e avec succ\xE8s !"),this.orders=this.orders.filter(n=>n.id!==e)}).catch(n=>console.error("\u274C Erreur lors de la suppression :",n))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ae({type:t,selectors:[["app-order"]],decls:21,vars:1,consts:[[1,"text-xl","font-bold","mb-4"],[1,"min-w-full","border-collapse","border","border-gray-300"],[1,"bg-gray-100"],[1,"border","p-2"],[4,"ngFor","ngForOf"],[1,"border","p-2","text-center"],[1,"border","p-2","flex","text-center","justify-center"],["label","Enlever",1,"shrink-0",3,"btnClicked","icon"]],template:function(n,r){n&1&&(N(0,"h2",0),j(1,"\u{1F4E6} Liste des commandes"),R(),N(2,"table",1)(3,"thead")(4,"tr",2)(5,"th",3),j(6,"Nom"),R(),N(7,"th",3),j(8,"T\xE9l\xE9phone"),R(),N(9,"th",3),j(10,"Email"),R(),N(11,"th",3),j(12,"Addresse"),R(),N(13,"th",3),j(14,"Produits"),R(),N(15,"th",3),j(16,"Total"),R(),N(17,"th",3),j(18,"Action"),R()()(),N(19,"tbody"),je(20,NU,16,9,"tr",4),R()()),n&2&&(B(20),J("ngForOf",r.orders))},dependencies:[At,p2,z1],encapsulation:2})};var zb=[{path:"",pathMatch:"full",component:Fa},{path:"cart",component:e6},{path:"detail/:id",component:t6},{path:"orders",component:n6}];var Sb={production:!1,firebase:{apiKey:"AIzaSyDCI_H5TXTnUR88_Jc2dnhIatqc2jGcVrk",authDomain:"saradino.firebaseapp.com",databaseURL:"https://saradino-default-rtdb.europe-west1.firebasedatabase.app",projectId:"saradino",storageBucket:"saradino.firebasestorage.app",messagingSenderId:"19368648245",appId:"1:19368648245:web:6a67622c7ab48dcdd91b7c"}};function kU(){try{return MC(Sb.firebase)}catch(t){throw console.error("\u{1F525} Firebase initialization error:",t),t}}function RU(){try{return xL()}catch(t){throw console.error("\u{1F525} Firestore initialization error:",t),t}}var Db={providers:[Dy({eventCoalescing:!0}),jv(zb),CC(()=>kU()),SL(()=>RU())]};var PU=(t,e)=>({"font-bold":t,"font-normal":e}),OU=(t,e)=>({"-translate-x-full":t,"translate-x-0":e}),FU=t=>({"bg-blue-950 text-white font-bold":t});function VU(t,e){t&1&&Ve(0,"div",14)}function BU(t,e){if(t&1){let n=$t();mi(0),N(1,"button",11),de("click",function(){let i=ft(n).$implicit,s=Re();return dt(s.selectCategory(i.key))}),Ve(2,"img",12),j(3),R(),je(4,VU,1,0,"div",13),gi()}if(t&2){let n=e.$implicit,r=e.last,i=Re();B(),J("ngClass",su(6,PU,n.key===i.selectedCategoryKey(),n.key!==i.selectedCategoryKey())),B(),iu("alt","",n.name," icon"),J("src","icons/"+n.name.toLowerCase()+".png",q2),B(),u2(" ",n.name," "),B(),J("ngIf",!r)}}function jU(t,e){if(t&1){let n=$t();mi(0),N(1,"button",27),de("click",function(){let i=ft(n).$implicit,s=Re(2);return dt(s.selectSubCategory(i.id))}),j(2),R(),gi()}if(t&2){let n=e.$implicit,r=Re(2);B(),J("ngClass",A4(2,FU,n.id===r.selectedSubCategory)),B(),u2(" ",n.name," ")}}function UU(t,e){if(t&1){let n=$t();N(0,"button",28),de("click",function(){ft(n);let i=Re(2);return dt(i.showInput=!0)}),j(1," \u2719 "),R()}}function HU(t,e){if(t&1){let n=$t();N(0,"div",17)(1,"input",29),Yt("ngModelChange",function(i){ft(n);let s=Re(2);return f2(s.newSubCategoryName,i)||(s.newSubCategoryName=i),dt(i)}),R(),N(2,"button",30),de("click",function(){ft(n);let i=Re(2);return dt(i.addNewSubCategory())}),j(3," \u2714\uFE0F "),R(),N(4,"button",31),de("click",function(){ft(n);let i=Re(2);return dt(i.showInput=!1)}),j(5," \u274C "),R()()}if(t&2){let n=Re(2);B(),Qt("ngModel",n.newSubCategoryName)}}function $U(t,e){if(t&1){let n=$t();N(0,"div",32),de("click",function(){ft(n);let i=Re(2);return dt(i.toggleMenu())}),R()}}function qU(t,e){if(t&1){let n=$t();N(0,"div",32),de("click",function(){ft(n);let i=Re(2);return dt(i.toggleMenu())}),R()}}function GU(t,e){if(t&1){let n=$t();N(0,"div",15)(1,"div",16),je(2,jU,3,4,"ng-container",7),ou(3,"async"),N(4,"div",17),je(5,UU,2,0,"button",18)(6,HU,6,1,"div",19),R(),je(7,$U,1,0,"div",20)(8,qU,1,0,"div",20),N(9,"div",21)(10,"div",22)(11,"h2",23),j(12,"Menu"),R(),N(13,"button",24),de("click",function(){ft(n);let i=Re();return dt(i.toggleMenu())}),j(14,"\u2716"),R()(),N(15,"nav",25)(16,"a",26),de("click",function(i){ft(n);let s=Re();return dt(s.onCommandesClick(i))}),j(17,"\u{1F4E6} Commandes"),R()()()()()}if(t&2){let n=Re();B(2),J("ngForOf",cu(3,6,n.subCategoryList$)),B(3),J("ngIf",!n.showInput),B(),J("ngIf",n.showInput),B(),J("ngIf",n.menuOpen()),B(),J("ngIf",n.menuOpen()),B(),J("ngClass",su(8,OU,!n.menuOpen(),n.menuOpen()))}}var r6=class t{productsService=A(S1);cartService=A(v2);menuOpen=Mt(!1);router=A(En);faBars=Yw;faTimes=Xw;faCartShopping=Zw;newSubCategoryName="";showInput=!1;categories=Mt([{name:"HOMME",key:"categoriesH"},{name:"FEMME",key:"categoriesF"},{name:"ENFANT",key:"categoriesE"}]);selectedCategoryKey=Mt("categoriesH");subCategoryList$=this.productsService.getSubCategories(this.selectedCategoryKey());selectedSubCategory=null;constructor(){this.selectCategory(this.selectedCategoryKey())}addNewSubCategory(){return I(this,null,function*(){if(this.newSubCategoryName){console.log("Adding subcategory:",this.newSubCategoryName);try{yield this.addSubCategoryToFirebase(),this.showInput=!1,this.newSubCategoryName=""}catch(e){console.error("Failed to add subcategory:",e)}}})}addSubCategoryToFirebase(){return I(this,null,function*(){yield this.productsService.addCategories(this.selectedCategoryKey(),this.newSubCategoryName),console.log("Subcategory added to Firebase:",this.newSubCategoryName)})}selectCategory(e){this.selectedCategoryKey.set(e),this.subCategoryList$=this.productsService.getSubCategories(e),this.subCategoryList$.subscribe(n=>{n.length>0&&this.selectedSubCategory!==n[0].id?(this.selectedSubCategory=n[0].id,this.productsService.setSelectedSubCategory(this.selectedSubCategory)):this.selectedSubCategory=null})}selectSubCategory(e){this.selectedSubCategory=e,this.productsService.setSelectedSubCategory(e)}cartLabel=h2(()=>`${this.cartService.cart().length}`);toggleMenu(){this.menuOpen.update(e=>!e)}onCommandesClick(e){e.stopPropagation(),this.toggleMenu(),this.router.navigate(["/"]),this.router.navigate(["/orders"])}logout(){console.log("Logging out..."),this.toggleMenu(),this.menuOpen.set(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ae({type:t,selectors:[["app-header"]],decls:14,vars:5,consts:[[1,"bg-slate-100","mt-1","px-2","py-3","shadow-md","flex","justify-between","items-center"],[1,"flex","items-center","gap-1","overflow-hidden"],[1,"text-2xl","font-extrabold","uppercase","tracking-wider","whitespace-nowrap","mr-1",3,"click"],["src","icons/menu.png",1,"w-5","h-5","mr-2"],["routerLink","/",1,"text-2xl","font-extrabold","uppercase","tracking-wider","whitespace-nowrap","mr-1"],[1,"h-6","w-[1px]","bg-gray-400"],["routerLink","/",1,"flex","items-center","gap-1","overflow-x-auto","whitespace-nowrap","flex-nowrap","min-w-0","scrollbar-hide"],[4,"ngFor","ngForOf"],["routerLink","/cart",1,"px-2","py-1","flex-shrink-0","bg-blue-950","shadow-lg","hover:shadow-2xl","rounded-lg","text-white","flex","items-center","transition-all","duration-300"],["src","icons/cart.png",1,"w-5","h-5","mr-2"],["class","w-full px-2 py-1","routerLink","/",4,"ngIf"],[1,"px-1","py-1","rounded-xl","font-normal","flex","items-center","gap-1","transition-all","duration-300","flex-shrink-0","text-sm",3,"click","ngClass"],[1,"w-5","h-5",3,"src","alt"],["class","h-6 w-[1px] bg-gray-400 flex-shrink-0",4,"ngIf"],[1,"h-6","w-[1px]","bg-gray-400","flex-shrink-0"],["routerLink","/",1,"w-full","px-2","py-1"],[1,"flex","gap-2","overflow-x-auto","scrollbar-hide","w-full","flex-wrap"],[1,"flex","items-center","gap-2"],["class","px-2 py-1 rounded-lg bg-blue-950 text-white font-bold",3,"click",4,"ngIf"],["class","flex items-center gap-2",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 z-40",3,"click",4,"ngIf"],[1,"fixed","top-0","left-0","w-64","h-full","bg-white","shadow-lg","z-50","transform","transition-transform",3,"ngClass"],[1,"flex","justify-between","items-center","px-4","py-3","border-b"],[1,"text-lg","font-bold"],[1,"text-xl",3,"click"],[1,"flex","flex-col","p-4"],[1,"py-2","px-4","hover:bg-gray-200","rounded",3,"click"],[1,"px-2","py-1","rounded-xl","transition-all","uppercase","flex-shrink-0","text-sm",3,"click","ngClass"],[1,"px-2","py-1","rounded-lg","bg-blue-950","text-white","font-bold",3,"click"],["type","text","placeholder","Entrer le Nom",1,"px-2","py-1","rounded-lg","border","border-gray-300",3,"ngModelChange","ngModel"],[1,"px-2","py-1","rounded-lg","bg-green-100","font-bold",3,"click"],[1,"px-2","py-1","rounded-lg","bg-red-100","text-white","font-bold",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","z-40",3,"click"]],template:function(n,r){if(n&1&&(N(0,"div",0)(1,"div",1)(2,"button",2),de("click",function(){return r.toggleMenu()}),Ve(3,"img",3),R(),N(4,"button",4),j(5," ANIS STORE "),R(),Ve(6,"div",5),N(7,"div",6),je(8,BU,5,9,"ng-container",7),R()(),N(9,"button",8),Ve(10,"img",9),j(11),R()(),je(12,GU,18,11,"div",10),ou(13,"async")),n&2){let i;B(8),J("ngForOf",r.categories()),B(3),u2(" ",r.cartLabel()," "),B(),J("ngIf",(i=cu(13,3,r.subCategoryList$))==null?null:i.length)}},dependencies:[e3,At,qy,p2,vi,Gy,ms,ds,hs,Tr],styles:[".font-bold[_ngcontent-%COMP%]{font-weight:700}"]})};var i6=class t{faCartPlus=cs;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ae({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&Ve(0,"app-header")(1,"router-outlet")},dependencies:[s5,r6],encapsulation:2})};rv(i6,Db).catch(t=>console.error(t));

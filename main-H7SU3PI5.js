var NI=Object.defineProperty,RI=Object.defineProperties;var kI=Object.getOwnPropertyDescriptors;var v0=Object.getOwnPropertySymbols;var rp=Object.prototype.hasOwnProperty,ip=Object.prototype.propertyIsEnumerable;var np=(t,e,n)=>e in t?NI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})rp.call(e,n)&&np(t,n,e[n]);if(v0)for(var n of v0(e))ip.call(e,n)&&np(t,n,e[n]);return t},ie=(t,e)=>RI(t,kI(e));var fl=(t,e)=>{var n={};for(var r in t)rp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&v0)for(var r of v0(t))e.indexOf(r)<0&&ip.call(t,r)&&(n[r]=t[r]);return n};var I=(t,e,n)=>new Promise((r,i)=>{var s=a=>{try{c(n.next(a))}catch(u){i(u)}},o=a=>{try{c(n.throw(a))}catch(u){i(u)}},c=a=>a.done?r(a.value):Promise.resolve(a.value).then(s,o);c((n=n.apply(t,e)).next())});function op(t,e){return Object.is(t,e)}var at=null,eo=!1,gl=1,qt=Symbol("SIGNAL");function _e(t){let e=at;return at=t,e}function cp(){return at}function PI(){return eo}var er={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function M0(t){if(eo)throw new Error("");if(at===null)return;at.consumerOnSignalRead(t);let e=at.nextProducerIndex++;if(w0(at),e<at.producerNode.length&&at.producerNode[e]!==t&&to(at)){let n=at.producerNode[e];_0(n,at.producerIndexOfThis[e])}at.producerNode[e]!==t&&(at.producerNode[e]=t,at.producerIndexOfThis[e]=to(at)?fp(t,at,e):0),at.producerLastReadVersion[e]=t.version}function OI(){gl++}function ap(t){if(!(to(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===gl)){if(!t.producerMustRecompute(t)&&!ro(t)){sp(t);return}t.producerRecomputeValue(t),sp(t)}}function lp(t){if(t.liveConsumerNode===void 0)return;let e=eo;eo=!0;try{for(let n of t.liveConsumerNode)n.dirty||dp(n)}finally{eo=e}}function up(){return at?.consumerAllowSignalWrites!==!1}function dp(t){t.dirty=!0,lp(t),t.consumerMarkedDirty?.(t)}function sp(t){t.dirty=!1,t.lastCleanEpoch=gl}function Jr(t){return t&&(t.nextProducerIndex=0),_e(t)}function no(t,e){if(_e(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(to(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_0(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ro(t){w0(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ap(n),r!==n.version))return!0}return!1}function ei(t){if(w0(t),to(t))for(let e=0;e<t.producerNode.length;e++)_0(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function fp(t,e,n){if(hp(t),t.liveConsumerNode.length===0&&pp(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=fp(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function _0(t,e){if(hp(t),t.liveConsumerNode.length===1&&pp(t))for(let r=0;r<t.producerNode.length;r++)_0(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];w0(i),i.producerIndexOfThis[r]=e}}function to(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function w0(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function hp(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function pp(t){return t.producerNode!==void 0}function mp(t){let e=Object.create(FI);e.computation=t;let n=()=>{if(ap(e),M0(e),e.value===C0)throw e.error;return e.value};return n[qt]=e,n}var hl=Symbol("UNSET"),pl=Symbol("COMPUTING"),C0=Symbol("ERRORED"),FI=ie(V({},er),{value:hl,dirty:!0,error:null,equal:op,kind:"computed",producerMustRecompute(t){return t.value===hl||t.value===pl},producerRecomputeValue(t){if(t.value===pl)throw new Error("Detected cycle in computations.");let e=t.value;t.value=pl;let n=Jr(t),r,i=!1;try{r=t.computation(),_e(null),i=e!==hl&&e!==C0&&r!==C0&&t.equal(e,r)}catch(s){r=C0,t.error=s}finally{no(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function VI(){throw new Error}var gp=VI;function yp(t){gp(t)}function vp(t){gp=t}var BI=null;function Cp(t){let e=Object.create(yl);e.value=t;let n=()=>(M0(e),e.value);return n[qt]=e,n}function L0(t,e){up()||yp(t),t.equal(t.value,e)||(t.value=e,jI(t))}function Mp(t,e){up()||yp(t),L0(t,e(t.value))}var yl=ie(V({},er),{equal:op,value:void 0,kind:"signal"});function jI(t){t.version++,OI(),lp(t),BI?.()}function _p(t,e,n){let r=Object.create(UI);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=a=>{r.cleanupFn=a};function s(a){return a.fn===null&&a.schedule===null}function o(a){s(a)||(ei(a),a.cleanupFn(),a.fn=null,a.schedule=null,a.cleanupFn=ml)}let c=()=>{if(r.fn===null)return;if(PI())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!ro(r))return;r.hasRun=!0;let a=Jr(r);try{r.cleanupFn(),r.cleanupFn=ml,r.fn(i)}finally{no(r,a)}};return r.ref={notify:()=>dp(r),run:c,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[qt]:r},r.ref}var ml=()=>{},UI=ie(V({},er),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:ml});var vl;function wp(){return vl}function Lp(t){let e=vl;return vl=t,e}function ce(t){return typeof t=="function"}function ti(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var b0=ti(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function tr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(s){e=s instanceof b0?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{bp(s)}catch(o){e=e??[],o instanceof b0?e=[...e,...o.errors]:e.push(o)}}if(e)throw new b0(e)}}add(e){var n;if(e&&e!==this)if(this.closed)bp(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&tr(n,e)}remove(e){let{_finalizers:n}=this;n&&tr(n,e),e instanceof t&&e._removeParent(this)}};Ge.EMPTY=(()=>{let t=new Ge;return t.closed=!0,t})();var Cl=Ge.EMPTY;function E0(t){return t instanceof Ge||t&&"closed"in t&&ce(t.remove)&&ce(t.add)&&ce(t.unsubscribe)}function bp(t){ce(t)?t():t.unsubscribe()}var zn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ni={setTimeout(t,e,...n){let{delegate:r}=ni;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ni;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function I0(t){ni.setTimeout(()=>{let{onUnhandledError:e}=zn;if(e)e(t);else throw t})}function io(){}var Ep=Ml("C",void 0,void 0);function Ip(t){return Ml("E",void 0,t)}function Sp(t){return Ml("N",t,void 0)}function Ml(t,e,n){return{kind:t,value:e,error:n}}var nr=null;function ri(t){if(zn.useDeprecatedSynchronousErrorHandling){let e=!nr;if(e&&(nr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=nr;if(nr=null,n)throw r}}else t()}function Tp(t){zn.useDeprecatedSynchronousErrorHandling&&nr&&(nr.errorThrown=!0,nr.error=t)}var rr=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,E0(e)&&e.add(this)):this.destination=GI}static create(e,n,r){return new ii(e,n,r)}next(e){this.isStopped?wl(Sp(e),this):this._next(e)}error(e){this.isStopped?wl(Ip(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wl(Ep,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$I=Function.prototype.bind;function _l(t,e){return $I.call(t,e)}var Ll=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){S0(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){S0(r)}else S0(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){S0(n)}}},ii=class extends rr{constructor(e,n,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&zn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_l(e.next,s),error:e.error&&_l(e.error,s),complete:e.complete&&_l(e.complete,s)}):i=e}this.destination=new Ll(i)}};function S0(t){zn.useDeprecatedSynchronousErrorHandling?Tp(t):I0(t)}function qI(t){throw t}function wl(t,e){let{onStoppedNotification:n}=zn;n&&ni.setTimeout(()=>n(t,e))}var GI={closed:!0,next:io,error:qI,complete:io};var si=typeof Symbol=="function"&&Symbol.observable||"@@observable";function sn(t){return t}function T0(...t){return bl(t)}function bl(t){return t.length===0?sn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=KI(n)?n:new ii(n,r,i);return ri(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=zp(r),new r((i,s)=>{let o=new ii({next:c=>{try{n(c)}catch(a){s(a),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[si](){return this}pipe(...n){return bl(n)(this)}toPromise(n){return n=zp(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function zp(t){var e;return(e=t??zn.Promise)!==null&&e!==void 0?e:Promise}function WI(t){return t&&ce(t.next)&&ce(t.error)&&ce(t.complete)}function KI(t){return t&&t instanceof rr||WI(t)&&E0(t)}function El(t){return ce(t?.lift)}function we(t){return e=>{if(El(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,n,r,i){return new Il(t,e,n,r,i)}var Il=class extends rr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(a){e.error(a)}}:super._next,this._error=i?function(c){try{i(c)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function oi(){return we((t,e)=>{let n=null;t._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ci=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,El(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let n=this.getSubject();e.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return oi()(this)}};var Dp=ti(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var lt=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new z0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Dp}next(n){ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Cl:(this.currentObservers=null,s.push(n),new Ge(()=>{this.currentObservers=null,tr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new z0(e,n),t})(),z0=class extends lt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Cl}};var vt=class extends lt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Sl={now(){return(Sl.delegate||Date).now()},delegate:void 0};var D0=class extends Ge{constructor(e,n){super()}schedule(e,n=0){return this}};var so={setInterval(t,e,...n){let{delegate:r}=so;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=so;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ai=class extends D0{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return so.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&so.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,tr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var li=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};li.now=Sl.now;var ui=class extends li{constructor(e,n=li.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Tl=new ui(ai);var A0=class extends ai{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var x0=class extends ui{};var zl=new x0(A0);var Gt=new ae(t=>t.complete());function Ap(t){return t&&ce(t.schedule)}function xp(t){return t[t.length-1]}function N0(t){return ce(xp(t))?t.pop():void 0}function a1(t){return Ap(xp(t))?t.pop():void 0}function Dl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Rp(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{u(r.next(f))}catch(p){o(p)}}function a(f){try{u(r.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(c,a)}u((r=r.apply(t,e||[])).next())})}function Np(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ir(t){return this instanceof ir?(this.v=t,this):new ir(t)}function kp(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(L){return Promise.resolve(L).then(y,p)}}function c(y,L){r[y]&&(i[y]=function(T){return new Promise(function(z,F){s.push([y,T,z,F])>1||a(y,T)})},L&&(i[y]=L(i[y])))}function a(y,L){try{u(r[y](L))}catch(T){g(s[0][3],T)}}function u(y){y.value instanceof ir?Promise.resolve(y.value.v).then(f,p):g(s[0][2],y)}function f(y){a("next",y)}function p(y){a("throw",y)}function g(y,L){y(L),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Pp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Np=="function"?Np(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,a){o=t[s](o),i(c,a,o.done,o.value)})}}function i(s,o,c,a){Promise.resolve(a).then(function(u){s({value:u,done:c})},o)}}var R0=t=>t&&typeof t.length=="number"&&typeof t!="function";function k0(t){return ce(t?.then)}function P0(t){return ce(t[si])}function O0(t){return Symbol.asyncIterator&&ce(t?.[Symbol.asyncIterator])}function F0(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function QI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var V0=QI();function B0(t){return ce(t?.[V0])}function j0(t){return kp(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ir(n.read());if(i)return yield ir(void 0);yield yield ir(r)}}finally{n.releaseLock()}})}function U0(t){return ce(t?.getReader)}function tt(t){if(t instanceof ae)return t;if(t!=null){if(P0(t))return YI(t);if(R0(t))return ZI(t);if(k0(t))return XI(t);if(O0(t))return Op(t);if(B0(t))return JI(t);if(U0(t))return eS(t)}throw F0(t)}function YI(t){return new ae(e=>{let n=t[si]();if(ce(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZI(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function XI(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,I0)})}function JI(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Op(t){return new ae(e=>{tS(t,e).catch(n=>e.error(n))})}function eS(t){return Op(j0(t))}function tS(t,e){var n,r,i,s;return Rp(this,void 0,void 0,function*(){try{for(n=Pp(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Wt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function l1(t,e=0){return we((n,r)=>{n.subscribe(ge(r,i=>Wt(r,t,()=>r.next(i),e),()=>Wt(r,t,()=>r.complete(),e),i=>Wt(r,t,()=>r.error(i),e)))})}function u1(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Fp(t,e){return tt(t).pipe(u1(e),l1(e))}function Vp(t,e){return tt(t).pipe(u1(e),l1(e))}function Bp(t,e){return new ae(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function jp(t,e){return new ae(n=>{let r;return Wt(n,e,()=>{r=t[V0](),Wt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function H0(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{Wt(n,e,()=>{let r=t[Symbol.asyncIterator]();Wt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Up(t,e){return H0(j0(t),e)}function Hp(t,e){if(t!=null){if(P0(t))return Fp(t,e);if(R0(t))return Bp(t,e);if(k0(t))return Vp(t,e);if(O0(t))return H0(t,e);if(B0(t))return jp(t,e);if(U0(t))return Up(t,e)}throw F0(t)}function Pe(t,e){return e?Hp(t,e):tt(t)}function re(...t){let e=a1(t);return Pe(t,e)}function di(t,e){let n=ce(t)?t:()=>t,r=i=>i.error(n());return new ae(e?i=>e.schedule(r,0,i):r)}function Al(t){return!!t&&(t instanceof ae||ce(t.lift)&&ce(t.subscribe))}var M2=ti(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ne(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:nS}=Array;function rS(t,e){return nS(e)?t(...e):t(e)}function $0(t){return ne(e=>rS(t,e))}var{isArray:iS}=Array,{getPrototypeOf:sS,prototype:oS,keys:cS}=Object;function q0(t){if(t.length===1){let e=t[0];if(iS(e))return{args:e,keys:null};if(aS(e)){let n=cS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function aS(t){return t&&typeof t=="object"&&sS(t)===oS}function G0(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function W0(...t){let e=a1(t),n=N0(t),{args:r,keys:i}=q0(t);if(r.length===0)return Pe([],e);let s=new ae(lS(r,e,i?o=>G0(i,o):sn));return n?s.pipe($0(n)):s}function lS(t,e,n=sn){return r=>{$p(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let a=0;a<i;a++)$p(e,()=>{let u=Pe(t[a],e),f=!1;u.subscribe(ge(r,p=>{s[a]=p,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function $p(t,e,n){t?Wt(n,t,e):e()}function qp(t,e,n,r,i,s,o,c){let a=[],u=0,f=0,p=!1,g=()=>{p&&!a.length&&!u&&e.complete()},y=T=>u<r?L(T):a.push(T),L=T=>{s&&e.next(T),u++;let z=!1;tt(n(T,f++)).subscribe(ge(e,F=>{i?.(F),s?y(F):e.next(F)},()=>{z=!0},void 0,()=>{if(z)try{for(u--;a.length&&u<r;){let F=a.shift();o?Wt(e,o,()=>L(F)):L(F)}g()}catch(F){e.error(F)}}))};return t.subscribe(ge(e,y,()=>{p=!0,g()})),()=>{c?.()}}function ut(t,e,n=1/0){return ce(e)?ut((r,i)=>ne((s,o)=>e(r,s,i,o))(tt(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>qp(r,i,t,n)))}function xl(t=1/0){return ut(sn,t)}function Gp(){return xl(1)}function fi(...t){return Gp()(Pe(t,a1(t)))}function K0(t){return new ae(e=>{tt(t()).subscribe(e)})}function Nl(...t){let e=N0(t),{args:n,keys:r}=q0(t),i=new ae(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),a=o,u=o;for(let f=0;f<o;f++){let p=!1;tt(n[f]).subscribe(ge(s,g=>{p||(p=!0,u--),c[f]=g},()=>a--,void 0,()=>{(!a||!p)&&(u||s.next(r?G0(r,c):c),s.complete())}))}});return e?i.pipe($0(e)):i}function Kt(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,s=>t.call(e,s,i++)&&r.next(s)))})}function d1(t){return we((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ge(n,void 0,void 0,o=>{s=tt(t(o,d1(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Wp(t,e,n,r,i){return(s,o)=>{let c=n,a=e,u=0;s.subscribe(ge(o,f=>{let p=u++;a=c?t(a,f,p):(c=!0,f),r&&o.next(a)},i&&(()=>{c&&o.next(a),o.complete()})))}}function f1(t,e){return ce(e)?ut(t,e,1):ut(t,1)}function h1(t){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function _2(t){return t<=0?()=>Gt:we((e,n)=>{let r=0;e.subscribe(ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Q0(t=uS){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function uS(){return new M2}function sr(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function w2(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kt((i,s)=>t(i,s,r)):sn,_2(1),n?h1(e):Q0(()=>new M2))}function hi(t){return t<=0?()=>Gt:we((e,n)=>{let r=[];e.subscribe(ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Rl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kt((i,s)=>t(i,s,r)):sn,hi(1),n?h1(e):Q0(()=>new M2))}function Y0(t,e){return we(Wp(t,e,arguments.length>=2,!0))}function Z0(...t){let e=a1(t);return we((n,r)=>{(e?fi(t,n,e):fi(t,n)).subscribe(r)})}function on(t,e){return we((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(ge(r,a=>{i?.unsubscribe();let u=0,f=s++;tt(t(a,f)).subscribe(i=ge(r,p=>r.next(e?e(a,p,f,u++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function kl(t){return we((e,n)=>{tt(t).subscribe(ge(n,()=>n.complete(),io)),!n.closed&&e.subscribe(n)})}function dt(t,e,n){let r=ce(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ge(s,a=>{var u;(u=r.next)===null||u===void 0||u.call(r,a),s.next(a)},()=>{var a;c=!1,(a=r.complete)===null||a===void 0||a.call(r),s.complete()},a=>{var u;c=!1,(u=r.error)===null||u===void 0||u.call(r,a),s.error(a)},()=>{var a,u;c&&((a=r.unsubscribe)===null||a===void 0||a.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):sn}var Rm="https://g.co/ng/security#xss",H=class extends Error{code;constructor(e,n){super(k4(e,n)),this.code=e}};function k4(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var km=Symbol("InputSignalNode#UNSET"),dS=ie(V({},yl),{transformFn:void 0,applyValueToInputSignal(t,e){L0(t,e)}});function Pm(t,e){let n=Object.create(dS);n.value=t,n.transformFn=e?.transform;function r(){if(M0(n),n.value===km)throw new H(-950,!1);return n.value}return r[qt]=n,r}function _o(t){return{toString:t}.toString()}var X0="__parameters__";function fS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Om(t,e,n){return _o(()=>{let r=fS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(a,u,f){let p=a.hasOwnProperty(X0)?a[X0]:Object.defineProperty(a,X0,{value:[]})[X0];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),a}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var uo=globalThis;function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function hS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Nt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Nt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Ql(t,e){return t?e?`${t} ${e}`:t:e||""}var pS=Re({__forward_ref__:Re});function Rn(t){return t.__forward_ref__=Rn,t.toString=function(){return Nt(this())},t}function Bt(t){return Fm(t)?t():t}function Fm(t){return typeof t=="function"&&t.hasOwnProperty(pS)&&t.__forward_ref__===Rn}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function z2(t){return{providers:t.providers||[],imports:t.imports||[]}}function P4(t){return Kp(t,Bm)||Kp(t,jm)}function Vm(t){return P4(t)!==null}function Kp(t,e){return t.hasOwnProperty(e)?t[e]:null}function mS(t){let e=t&&(t[Bm]||t[jm]);return e||null}function Qp(t){return t&&(t.hasOwnProperty(Yp)||t.hasOwnProperty(gS))?t[Yp]:null}var Bm=Re({\u0275prov:Re}),Yp=Re({\u0275inj:Re}),jm=Re({ngInjectableDef:Re}),gS=Re({ngInjectorDef:Re}),K=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Um(t){return t&&!!t.\u0275providers}var yS=Re({\u0275cmp:Re}),vS=Re({\u0275dir:Re}),CS=Re({\u0275pipe:Re}),MS=Re({\u0275mod:Re}),u4=Re({\u0275fac:Re}),lo=Re({__NG_ELEMENT_ID__:Re}),Zp=Re({__NG_ENV_ID__:Re});function m1(t){return typeof t=="string"?t:t==null?"":String(t)}function _S(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():m1(t)}function Hm(t,e){throw new H(-200,t)}function Q8(t,e){throw new H(-201,!1)}var fe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fe||{}),Yl;function $m(){return Yl}function Qt(t){let e=Yl;return Yl=t,e}function qm(t,e,n){let r=P4(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&fe.Optional)return null;if(e!==void 0)return e;Q8(t,"Injector")}var wS={},fo=wS;function r4(){return wp()}function p1(t){return Lp(t)}var Zl="__NG_DI_FLAG__",d4="ngTempTokenPath",LS="ngTokenPath",bS=/\n/gm,ES="\u0275",Xp="__source";function IS(t,e=fe.Default){if(r4()===void 0)throw new H(-203,!1);return r4()===null?qm(t,void 0,e):r4().get(t,e&fe.Optional?null:void 0,e)}function J(t,e=fe.Default){return($m()||IS)(Bt(t),e)}function N(t,e=fe.Default){return J(t,O4(e))}function O4(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xl(t){let e=[];for(let n=0;n<t.length;n++){let r=Bt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,s=fe.Default;for(let o=0;o<r.length;o++){let c=r[o],a=SS(c);typeof a=="number"?a===-1?i=c.token:s|=a:i=c}e.push(J(i,s))}else e.push(J(r))}return e}function Gm(t,e){return t[Zl]=e,t.prototype[Zl]=e,t}function SS(t){return t[Zl]}function TS(t,e,n,r){let i=t[d4];throw e[Xp]&&i.unshift(e[Xp]),t.message=zS(`
`+t.message,i,n,r),t[LS]=i,t[d4]=null,t}function zS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ES?t.slice(2):t;let i=Nt(e);if(Array.isArray(e))i=e.map(Nt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):Nt(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(bS,`
  `)}`}var Ut=Gm(Om("Optional"),8);var DS=Gm(Om("SkipSelf"),4);function cr(t,e){let n=t.hasOwnProperty(u4);return n?t[u4]:null}function Y8(t,e){t.forEach(n=>Array.isArray(n)?Y8(n,e):e(n))}function Wm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function f4(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function AS(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function xS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Z8(t,e,n){let r=wo(t,e);return r>=0?t[r|1]=n:(r=~r,xS(t,r,e,n)),r}function Pl(t,e){let n=wo(t,e);if(n>=0)return t[n|1]}function wo(t,e){return NS(t,e,1)}function NS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ar={},Yt=[],vi=new K(""),Km=new K("",-1),Qm=new K(""),h4=class{get(e,n=fo){if(n===fo){let r=new Error(`NullInjectorError: No provider for ${Nt(e)}!`);throw r.name="NullInjectorError",r}return n}};function Ym(t,e){let n=t[MS]||null;if(!n&&e===!0)throw new Error(`Type ${Nt(t)} does not have '\u0275mod' property.`);return n}function lr(t){return t[yS]||null}function Zm(t){return t[vS]||null}function Xm(t){return t[CS]||null}function Jm(t){let e=lr(t)||Zm(t)||Xm(t);return e!==null&&e.standalone}function Cn(t){return{\u0275providers:t}}function RS(...t){return{\u0275providers:eg(!0,t),\u0275fromNgModule:!0}}function eg(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Y8(e,o=>{let c=o;Jl(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&tg(i,s),n}function tg(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];X8(i,s=>{e(s,r)})}}function Jl(t,e,n,r){if(t=Bt(t),!t)return!1;let i=null,s=Qp(t),o=!s&&lr(t);if(!s&&!o){let a=t.ngModule;if(s=Qp(a),s)i=a;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let a=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of a)Jl(u,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let u;try{Y8(s.imports,f=>{Jl(f,e,n,r)&&(u||=[],u.push(f))})}finally{}u!==void 0&&tg(u,e)}if(!c){let u=cr(i)||(()=>new i);e({provide:i,useFactory:u,deps:Yt},i),e({provide:Qm,useValue:i,multi:!0},i),e({provide:vi,useValue:()=>J(i),multi:!0},i)}let a=s.providers;if(a!=null&&!c){let u=t;X8(a,f=>{e(f,u)})}}else return!1;return i!==t&&t.providers!==void 0}function X8(t,e){for(let n of t)Um(n)&&(n=n.\u0275providers),Array.isArray(n)?X8(n,e):e(n)}var kS=Re({provide:String,useValue:Re});function ng(t){return t!==null&&typeof t=="object"&&kS in t}function PS(t){return!!(t&&t.useExisting)}function OS(t){return!!(t&&t.useFactory)}function Ci(t){return typeof t=="function"}function FS(t){return!!t.useClass}var F4=new K(""),i4={},Jp={},Ol;function J8(){return Ol===void 0&&(Ol=new h4),Ol}var Rt=class{},ho=class extends Rt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,t8(e,o=>this.processProvider(o)),this.records.set(Km,pi(void 0,this)),i.has("environment")&&this.records.set(Rt,pi(void 0,this));let s=this.records.get(F4);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Qm,Yt,fe.Self))}destroy(){co(this),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return co(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){co(this);let n=p1(this),r=Qt(void 0),i;try{return e()}finally{p1(n),Qt(r)}}get(e,n=fo,r=fe.Default){if(co(this),e.hasOwnProperty(Zp))return e[Zp](this);r=O4(r);let i,s=p1(this),o=Qt(void 0);try{if(!(r&fe.SkipSelf)){let a=this.records.get(e);if(a===void 0){let u=HS(e)&&P4(e);u&&this.injectableDefInScope(u)?a=pi(e8(e),i4):a=null,this.records.set(e,a)}if(a!=null)return this.hydrate(e,a)}let c=r&fe.Self?J8():this.parent;return n=r&fe.Optional&&n===fo?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[d4]=c[d4]||[]).unshift(Nt(e)),s)throw c;return TS(c,e,"R3InjectorError",this.source)}else throw c}finally{Qt(o),p1(s)}}resolveInjectorInitializers(){let e=_e(null),n=p1(this),r=Qt(void 0),i;try{let s=this.get(vi,Yt,fe.Self);for(let o of s)o()}finally{p1(n),Qt(r),_e(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Nt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Bt(e);let n=Ci(e)?e:Bt(e&&e.provide),r=BS(e);if(!Ci(e)&&e.multi===!0){let i=this.records.get(n);i||(i=pi(void 0,i4,!0),i.factory=()=>Xl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=_e(null);try{return n.value===Jp?Hm(Nt(e)):n.value===i4&&(n.value=Jp,n.value=n.factory()),typeof n.value=="object"&&n.value&&US(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Bt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function e8(t){let e=P4(t),n=e!==null?e.factory:cr(t);if(n!==null)return n;if(t instanceof K)throw new H(204,!1);if(t instanceof Function)return VS(t);throw new H(204,!1)}function VS(t){if(t.length>0)throw new H(204,!1);let n=mS(t);return n!==null?()=>n.factory(t):()=>new t}function BS(t){if(ng(t))return pi(void 0,t.useValue);{let e=rg(t);return pi(e,i4)}}function rg(t,e,n){let r;if(Ci(t)){let i=Bt(t);return cr(i)||e8(i)}else if(ng(t))r=()=>Bt(t.useValue);else if(OS(t))r=()=>t.useFactory(...Xl(t.deps||[]));else if(PS(t))r=()=>J(Bt(t.useExisting));else{let i=Bt(t&&(t.useClass||t.provide));if(jS(t))r=()=>new i(...Xl(t.deps));else return cr(i)||e8(i)}return r}function co(t){if(t.destroyed)throw new H(205,!1)}function pi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jS(t){return!!t.deps}function US(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function HS(t){return typeof t=="function"||typeof t=="object"&&t instanceof K}function t8(t,e){for(let n of t)Array.isArray(n)?t8(n,e):n&&Um(n)?t8(n.\u0275providers,e):e(n)}function Ct(t,e){t instanceof ho&&co(t);let n,r=p1(t),i=Qt(void 0);try{return e()}finally{p1(r),Qt(i)}}function ig(){return $m()!==void 0||r4()!=null}function Lo(t){if(!ig())throw new H(-203,!1)}function $S(t){return typeof t=="function"}var D2=0,Le=1,se=2,jt=3,xn=4,Jt=5,po=6,p4=7,Zt=8,mo=9,L2=10,Ue=11,go=12,em=13,Si=14,vn=15,Mi=16,mi=17,_i=18,V4=19,sg=20,g1=21,s4=22,ur=23,gn=24,Fl=25,Xt=26,og=1;var dr=7,m4=8,g4=9,yn=10;function y1(t){return Array.isArray(t)&&typeof t[og]=="object"}function A2(t){return Array.isArray(t)&&t[og]===!0}function eu(t){return(t.flags&4)!==0}function Ti(t){return t.componentOffset>-1}function B4(t){return(t.flags&1)===1}function Zn(t){return!!t.template}function y4(t){return(t[se]&512)!==0}function bo(t){return(t[se]&256)===256}var n8=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cg(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var kn=(()=>{let t=()=>ag;return t.ngInherit=!0,t})();function ag(t){return t.type.prototype.ngOnChanges&&(t.setInput=GS),qS}function qS(){let t=ug(this),e=t?.current;if(e){let n=t.previous;if(n===ar)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function GS(t,e,n,r,i){let s=this.declaredInputs[r],o=ug(t)||WS(t,{previous:ar,current:null}),c=o.current||(o.current={}),a=o.previous,u=a[s];c[s]=new n8(u&&u.currentValue,n,a===ar),cg(t,e,i,n)}var lg="__ngSimpleChanges__";function ug(t){return t[lg]||null}function WS(t,e){return t[lg]=e}var tm=null;var Oe=function(t,e=null,n){tm?.(t,e,n)},KS="svg",QS="math";function Xn(t){for(;Array.isArray(t);)t=t[D2];return t}function dg(t,e){return Xn(e[t])}function t2(t,e){return Xn(e[t.index])}function fg(t,e){return t.data[e]}function YS(t,e){return t[e]}function Jn(t,e){let n=e[t];return y1(n)?n:n[D2]}function tu(t){return(t[se]&128)===128}function ZS(t){return A2(t[jt])}function wi(t,e){return e==null?null:t[e]}function hg(t){t[mi]=0}function pg(t){t[se]&1024||(t[se]|=1024,tu(t)&&Eo(t))}function XS(t,e){for(;t>0;)e=e[Si],t--;return e}function j4(t){return!!(t[se]&9216||t[gn]?.dirty)}function r8(t){t[L2].changeDetectionScheduler?.notify(8),t[se]&64&&(t[se]|=1024),j4(t)&&Eo(t)}function Eo(t){t[L2].changeDetectionScheduler?.notify(0);let e=fr(t);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!tu(e)));)e=fr(e)}function mg(t,e){if(bo(t))throw new H(911,!1);t[g1]===null&&(t[g1]=[]),t[g1].push(e)}function JS(t,e){if(t[g1]===null)return;let n=t[g1].indexOf(e);n!==-1&&t[g1].splice(n,1)}function fr(t){let e=t[jt];return A2(e)?e[jt]:e}function eT(t){return t[p4]??=[]}function tT(t){return t.cleanup??=[]}var he={lFrame:wg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var i8=!1;function nT(){return he.lFrame.elementDepthCount}function rT(){he.lFrame.elementDepthCount++}function iT(){he.lFrame.elementDepthCount--}function nu(){return he.bindingsEnabled}function gg(){return he.skipHydrationRootTNode!==null}function sT(t){return he.skipHydrationRootTNode===t}function oT(){he.skipHydrationRootTNode=null}function ye(){return he.lFrame.lView}function nt(){return he.lFrame.tView}function Ze(t){return he.lFrame.contextLView=t,t[Zt]}function Xe(t){return he.lFrame.contextLView=null,t}function Ht(){let t=yg();for(;t!==null&&t.type===64;)t=t.parent;return t}function yg(){return he.lFrame.currentTNode}function cT(){let t=he.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function vr(t,e){let n=he.lFrame;n.currentTNode=t,n.isParent=e}function ru(){return he.lFrame.isParent}function iu(){he.lFrame.isParent=!1}function vg(){return i8}function v4(t){let e=i8;return i8=t,e}function su(){let t=he.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function aT(){return he.lFrame.bindingIndex}function lT(t){return he.lFrame.bindingIndex=t}function Io(){return he.lFrame.bindingIndex++}function ou(t){let e=he.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function uT(){return he.lFrame.inI18n}function dT(t,e){let n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,s8(e)}function fT(){return he.lFrame.currentDirectiveIndex}function s8(t){he.lFrame.currentDirectiveIndex=t}function hT(t){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Cg(t){he.lFrame.currentQueryIndex=t}function pT(t){let e=t[Le];return e.type===2?e.declTNode:e.type===1?t[Jt]:null}function Mg(t,e,n){if(n&fe.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&fe.Host);)if(i=pT(s),i===null||(s=s[Si],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=he.lFrame=_g();return r.currentTNode=e,r.lView=t,!0}function cu(t){let e=_g(),n=t[Le];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _g(){let t=he.lFrame,e=t===null?null:t.child;return e===null?wg(t):e}function wg(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Lg(){let t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var bg=Lg;function au(){let t=Lg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mT(t){return(he.lFrame.contextLView=XS(t,he.lFrame.contextLView))[Zt]}function C1(){return he.lFrame.selectedIndex}function hr(t){he.lFrame.selectedIndex=t}function So(){let t=he.lFrame;return fg(t.tView,t.selectedIndex)}function gT(){return he.lFrame.currentNamespace}var Eg=!0;function U4(){return Eg}function H4(t){Eg=t}function yT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=ag(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function lu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:a,ngAfterViewChecked:u,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),a&&(t.viewHooks??=[]).push(-n,a),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function o4(t,e,n){Ig(t,e,3,n)}function c4(t,e,n,r){(t[se]&3)===n&&Ig(t,e,n,r)}function Vl(t,e){let n=t[se];(n&3)===e&&(n&=16383,n+=1,t[se]=n)}function Ig(t,e,n,r){let i=r!==void 0?t[mi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let a=i;a<o;a++)if(typeof e[a+1]=="number"){if(c=e[a],r!=null&&c>=r)break}else e[a]<0&&(t[mi]+=65536),(c<s||s==-1)&&(vT(t,n,e,a),t[mi]=(t[mi]&4294901760)+a+2),a++}function nm(t,e){Oe(4,t,e);let n=_e(null);try{e.call(t)}finally{_e(n),Oe(5,t,e)}}function vT(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[se]>>14<t[mi]>>16&&(t[se]&3)===e&&(t[se]+=16384,nm(c,s)):nm(c,s)}var yi=-1,pr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function CT(t){return(t.flags&8)!==0}function MT(t){return(t.flags&16)!==0}function _T(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];wT(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Sg(t){return t===3||t===4||t===6}function wT(t){return t.charCodeAt(0)===64}function Li(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?rm(t,n,i,null,e[++r]):rm(t,n,i,null,null))}}return t}function rm(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Bl={},o8=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=O4(r);let i=this.injector.get(e,Bl,r);return i!==Bl||n===Bl?i:this.parentInjector.get(e,n,r)}};function Tg(t){return t!==yi}function C4(t){return t&32767}function LT(t){return t>>16}function M4(t,e){let n=LT(t),r=e;for(;n>0;)r=r[Si],n--;return r}var c8=!0;function _4(t){let e=c8;return c8=t,e}var bT=256,zg=bT-1,Dg=5,ET=0,Yn={};function IT(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(lo)&&(r=n[lo]),r==null&&(r=n[lo]=ET++);let i=r&zg,s=1<<i;e.data[t+(i>>Dg)]|=s}function w4(t,e){let n=Ag(t,e);if(n!==-1)return n;let r=e[Le];r.firstCreatePass&&(t.injectorIndex=e.length,jl(r.data,t),jl(e,null),jl(r.blueprint,null));let i=uu(t,e),s=t.injectorIndex;if(Tg(i)){let o=C4(i),c=M4(i,e),a=c[Le].data;for(let u=0;u<8;u++)e[s+u]=c[o+u]|a[o+u]}return e[s+8]=i,s}function jl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ag(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function uu(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Pg(i),r===null)return yi;if(n++,i=i[Si],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return yi}function a8(t,e,n){IT(t,e,n)}function ST(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Sg(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function xg(t,e,n){if(n&fe.Optional||t!==void 0)return t;Q8(e,"NodeInjector")}function Ng(t,e,n,r){if(n&fe.Optional&&r===void 0&&(r=null),(n&(fe.Self|fe.Host))===0){let i=t[mo],s=Qt(void 0);try{return i?i.get(e,r,n&fe.Optional):qm(e,r,n&fe.Optional)}finally{Qt(s)}}return xg(r,e,n)}function Rg(t,e,n,r=fe.Default,i){if(t!==null){if(e[se]&2048&&!(r&fe.Self)){let o=xT(t,e,n,r,Yn);if(o!==Yn)return o}let s=kg(t,e,n,r,Yn);if(s!==Yn)return s}return Ng(e,n,r,i)}function kg(t,e,n,r,i){let s=DT(n);if(typeof s=="function"){if(!Mg(e,t,r))return r&fe.Host?xg(i,n,r):Ng(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&fe.Optional))Q8(n);else return o}finally{bg()}}else if(typeof s=="number"){let o=null,c=Ag(t,e),a=yi,u=r&fe.Host?e[vn][Jt]:null;for((c===-1||r&fe.SkipSelf)&&(a=c===-1?uu(t,e):e[c+8],a===yi||!sm(r,!1)?c=-1:(o=e[Le],c=C4(a),e=M4(a,e)));c!==-1;){let f=e[Le];if(im(s,c,f.data)){let p=TT(c,e,n,o,r,u);if(p!==Yn)return p}a=e[c+8],a!==yi&&sm(r,e[Le].data[c+8]===u)&&im(s,c,e)?(o=f,c=C4(a),e=M4(a,e)):c=-1}}return i}function TT(t,e,n,r,i,s){let o=e[Le],c=o.data[t+8],a=r==null?Ti(c)&&c8:r!=o&&(c.type&3)!==0,u=i&fe.Host&&s===c,f=zT(c,o,n,a,u);return f!==null?L4(e,o,f,c):Yn}function zT(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,a=t.directiveStart,u=t.directiveEnd,f=s>>20,p=r?c:c+f,g=i?c+f:u;for(let y=p;y<g;y++){let L=o[y];if(y<a&&n===L||y>=a&&L.type===n)return y}if(i){let y=o[a];if(y&&Zn(y)&&y.type===n)return a}return null}function L4(t,e,n,r){let i=t[n],s=e.data;if(i instanceof pr){let o=i;o.resolving&&Hm(_S(s[n]));let c=_4(o.canSeeViewProviders);o.resolving=!0;let a,u=o.injectImpl?Qt(o.injectImpl):null,f=Mg(t,r,fe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&yT(n,s[n],e)}finally{u!==null&&Qt(u),_4(c),o.resolving=!1,bg()}}return i}function DT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(lo)?t[lo]:void 0;return typeof e=="number"?e>=0?e&zg:AT:e}function im(t,e,n){let r=1<<t;return!!(n[e+(t>>Dg)]&r)}function sm(t,e){return!(t&fe.Self)&&!(t&fe.Host&&e)}var or=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Rg(this._tNode,this._lView,e,O4(r),n)}};function AT(){return new or(Ht(),ye())}function Pn(t){return _o(()=>{let e=t.prototype.constructor,n=e[u4]||l8(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[u4]||l8(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function l8(t){return Fm(t)?()=>{let e=l8(Bt(t));return e&&e()}:cr(t)}function xT(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[se]&2048&&!y4(o);){let c=kg(s,o,n,r|fe.Self,Yn);if(c!==Yn)return c;let a=s.parent;if(!a){let u=o[sg];if(u){let f=u.get(n,Yn,r);if(f!==Yn)return f}a=Pg(o),o=o[Si]}s=a}return i}function Pg(t){let e=t[Le],n=e.type;return n===2?e.declTNode:n===1?t[Jt]:null}function du(t){return ST(Ht(),t)}function om(t,e=null,n=null,r){let i=Og(t,e,n,r);return i.resolveInjectorInitializers(),i}function Og(t,e=null,n=null,r,i=new Set){let s=[n||Yt,RS(t)];return r=r||(typeof t=="object"?void 0:Nt(t)),new ho(s,e||J8(),r||null,i)}var Ke=class t{static THROW_IF_NOT_FOUND=fo;static NULL=new h4;static create(e,n){if(Array.isArray(e))return om({name:""},n,e,"");{let r=e.name??"";return om({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:t,providedIn:"any",factory:()=>J(Km)});static __NG_ELEMENT_ID__=-1};var NT=new K("");NT.__NG_ELEMENT_ID__=t=>{let e=Ht();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(t&fe.Optional)return null;throw new H(204,!1)};var Fg=!1,Cr=(()=>{class t{static __NG_ELEMENT_ID__=RT;static __NG_ENV_ID__=n=>n}return t})(),b4=class extends Cr{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return mg(this._lView,e),()=>JS(this._lView,e)}};function RT(){return new b4(ye())}var mr=class{},$4=new K("",{providedIn:"root",factory:()=>!1});var Vg=new K(""),Bg=new K(""),n2=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new vt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})(),q4=(()=>{class t{internalPendingTasks=N(n2);scheduler=N(mr);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return I(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})(),u8=class extends lt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ig()&&(this.destroyRef=N(Cr,{optional:!0})??void 0,this.pendingTasks=N(n2,{optional:!0})??void 0)}emit(e){let n=_e(null);try{super.next(e)}finally{_e(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let a=e;i=a.next?.bind(a),s=a.error?.bind(a),o=a.complete?.bind(a)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ge&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},We=u8;function yo(...t){}function jg(t){let e,n;function r(){t=yo;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function cm(t){return queueMicrotask(()=>t()),()=>{t=yo}}var fu="isAngularZone",E4=fu+"_ID",kT=0,Se=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new We(!1);onMicrotaskEmpty=new We(!1);onStable=new We(!1);onError=new We(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=Fg}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,FT(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fu)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new H(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,PT,yo,yo);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},PT={};function hu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function OT(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){jg(()=>{t.callbackScheduled=!1,d8(t),t.isCheckStableRunning=!0,hu(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),d8(t)}function FT(t){let e=()=>{OT(t)},n=kT++;t._inner=t._inner.fork({name:"angular",properties:{[fu]:!0,[E4]:n,[E4+n]:!0},onInvokeTask:(r,i,s,o,c,a)=>{if(VT(a))return r.invokeTask(s,o,c,a);try{return am(t),r.invokeTask(s,o,c,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),lm(t)}},onInvoke:(r,i,s,o,c,a,u)=>{try{return am(t),r.invoke(s,o,c,a,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!BT(a)&&e(),lm(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,d8(t),hu(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function d8(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function am(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lm(t){t._nesting--,hu(t)}var f8=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new We;onMicrotaskEmpty=new We;onStable=new We;onError=new We;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function VT(t){return Ug(t,"__ignore_ng_zone__")}function BT(t){return Ug(t,"__scheduler_tick__")}function Ug(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var b2=class{_console=console;handleError(e){this._console.error("ERROR",e)}},jT=new K("",{providedIn:"root",factory:()=>{let t=N(Se),e=N(b2);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function um(t,e){return Pm(t,e)}function UT(t){return Pm(km,t)}var zi=(um.required=UT,um);function HT(){return G4(Ht(),ye())}function G4(t,e){return new cn(t2(t,e))}var cn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=HT}return t})();function $T(t){return typeof t=="function"&&t[qt]!==void 0}function ft(t,e){let n=Cp(t),r=n[qt];return e?.equal&&(r.equal=e.equal),n.set=i=>L0(r,i),n.update=i=>Mp(r,i),n.asReadonly=qT.bind(n),n}function qT(){let t=this[qt];if(t.readonlyFn===void 0){let e=()=>this();e[qt]=t,t.readonlyFn=e}return t.readonlyFn}function Hg(t){return $T(t)&&typeof t.set=="function"}function $g(t){return(t.flags&128)===128}var qg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(qg||{}),Gg=new Map,GT=0;function WT(){return GT++}function KT(t){Gg.set(t[V4],t)}function h8(t){Gg.delete(t[V4])}var dm="__ngContext__";function Di(t,e){y1(e)?(t[dm]=e[V4],KT(e)):t[dm]=e}function Wg(t){return Qg(t[go])}function Kg(t){return Qg(t[xn])}function Qg(t){for(;t!==null&&!A2(t);)t=t[xn];return t}var p8;function Yg(t){p8=t}function Zg(){if(p8!==void 0)return p8;if(typeof document<"u")return document;throw new H(210,!1)}var pu=new K("",{providedIn:"root",factory:()=>QT}),QT="ng",mu=new K(""),x2=new K("",{providedIn:"platform",factory:()=>"unknown"});var gu=new K("",{providedIn:"root",factory:()=>Zg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var YT="h",ZT="b";var Xg=!1,XT=new K("",{providedIn:"root",factory:()=>Xg});var Jg=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Jg||{}),W4=new K(""),fm=new Set;function K4(t){fm.has(t)||(fm.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var ey=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=JT}return t})();function JT(){return new ey(ye(),Ht())}var ez=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();var tz=()=>null;function ty(t,e,n=!1){return tz(t,e,n)}function ny(t,e){let n=t.contentQueries;if(n!==null){let r=_e(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];Cg(s),c.contentQueries(2,e[o],o)}}}finally{_e(r)}}}function m8(t,e,n){Cg(0);let r=_e(null);try{e(t,n)}finally{_e(r)}}function yu(t,e,n){if(eu(e)){let r=_e(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let a=n[o];c.contentQueries(1,a,o)}}}finally{_e(r)}}}var e2=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(e2||{}),J0;function nz(){if(J0===void 0&&(J0=null,uo.trustedTypes))try{J0=uo.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return J0}function Q4(t){return nz()?.createHTML(t)||t}var e4;function ry(){if(e4===void 0&&(e4=null,uo.trustedTypes))try{e4=uo.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return e4}function hm(t){return ry()?.createHTML(t)||t}function pm(t){return ry()?.createScriptURL(t)||t}var E2=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rm})`}},g8=class extends E2{getTypeName(){return"HTML"}},y8=class extends E2{getTypeName(){return"Style"}},v8=class extends E2{getTypeName(){return"Script"}},C8=class extends E2{getTypeName(){return"URL"}},M8=class extends E2{getTypeName(){return"ResourceURL"}};function Mn(t){return t instanceof E2?t.changingThisBreaksApplicationSecurity:t}function N2(t,e){let n=rz(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Rm})`)}return n===e}function rz(t){return t instanceof E2&&t.getTypeName()||null}function iy(t){return new g8(t)}function sy(t){return new y8(t)}function oy(t){return new v8(t)}function cy(t){return new C8(t)}function ay(t){return new M8(t)}function iz(t){let e=new w8(t);return sz()?new _8(e):e}var _8=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Q4(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},w8=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Q4(e),n}};function sz(){try{return!!new window.DOMParser().parseFromString(Q4(""),"text/html")}catch{return!1}}var oz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Y4(t){return t=String(t),t.match(oz)?t:"unsafe:"+t}function R2(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function To(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var ly=R2("area,br,col,hr,img,wbr"),uy=R2("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dy=R2("rp,rt"),cz=To(dy,uy),az=To(uy,R2("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lz=To(dy,R2("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mm=To(ly,az,lz,cz),fy=R2("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uz=R2("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dz=R2("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),fz=To(fy,uz,dz),hz=R2("script,style,template"),L8=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=gz(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=mz(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=gm(e).toLowerCase();if(!mm.hasOwnProperty(n))return this.sanitizedSomething=!0,!hz.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,c=o.toLowerCase();if(!fz.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let a=s.value;fy[c]&&(a=Y4(a)),this.buf.push(" ",o,'="',ym(a),'"')}return this.buf.push(">"),!0}endElement(e){let n=gm(e).toLowerCase();mm.hasOwnProperty(n)&&!ly.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(ym(e))}};function pz(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function mz(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw hy(e);return e}function gz(t){let e=t.firstChild;if(e&&pz(t,e))throw hy(e);return e}function gm(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function hy(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var yz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vz=/([^\#-~ |!])/g;function ym(t){return t.replace(/&/g,"&amp;").replace(yz,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(vz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var t4;function vu(t,e){let n=null;try{t4=t4||iz(t);let r=e?String(e):"";n=t4.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=t4.getInertBodyElement(r)}while(r!==s);let c=new L8().sanitizeChildren(vm(n)||n);return Q4(c)}finally{if(n){let r=vm(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function vm(t){return"content"in t&&Cz(t)?t.content:null}function Cz(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var On=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(On||{});function py(t){let e=Cu();return e?hm(e.sanitize(On.HTML,t)||""):N2(t,"HTML")?hm(Mn(t)):vu(Zg(),m1(t))}function _n(t){let e=Cu();return e?e.sanitize(On.URL,t)||"":N2(t,"URL")?Mn(t):Y4(m1(t))}function Mz(t){let e=Cu();if(e)return pm(e.sanitize(On.RESOURCE_URL,t)||"");if(N2(t,"ResourceURL"))return pm(Mn(t));throw new H(904,!1)}function _z(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Mz:_n}function my(t,e,n){return _z(e,n)(t)}function Cu(){let t=ye();return t&&t[L2].sanitizer}var wz=/^>|^->|<!--|-->|--!>|<!-$/g,Lz=/(<|>)/g,bz="\u200B$1\u200B";function Ez(t){return t.replace(wz,e=>e.replace(Lz,bz))}function gy(t){return t instanceof Function?t():t}function Iz(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}var yy="ng-template";function Sz(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Iz(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Mu(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Mu(t){return t.type===4&&t.value!==yy}function Tz(t,e,n){let r=t.type===4&&!n?yy:t.value;return e===r}function zz(t,e,n){let r=4,i=t.attrs,s=i!==null?xz(i):0,o=!1;for(let c=0;c<e.length;c++){let a=e[c];if(typeof a=="number"){if(!o&&!Dn(r)&&!Dn(a))return!1;if(o&&Dn(a))continue;o=!1,r=a|r&1;continue}if(!o)if(r&4){if(r=2|r&1,a!==""&&!Tz(t,a,n)||a===""&&e.length===1){if(Dn(r))return!1;o=!0}}else if(r&8){if(i===null||!Sz(t,i,a,n)){if(Dn(r))return!1;o=!0}}else{let u=e[++c],f=Dz(a,i,Mu(t),n);if(f===-1){if(Dn(r))return!1;o=!0;continue}if(u!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&u!==p){if(Dn(r))return!1;o=!0}}}}return Dn(r)||o}function Dn(t){return(t&1)===0}function Dz(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Nz(e,t)}function vy(t,e,n=!1){for(let r=0;r<e.length;r++)if(zz(t,e[r],n))return!0;return!1}function Az(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function xz(t){for(let e=0;e<t.length;e++){let n=t[e];if(Sg(n))return e}return t.length}function Nz(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Rz(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Cm(t,e){return t?":not("+e.trim()+")":e}function kz(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Dn(o)&&(e+=Cm(s,i),i=""),r=o,s=s||!Dn(r);n++}return i!==""&&(e+=Cm(s,i)),e}function Pz(t){return t.map(kz).join(",")}function Oz(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Dn(i))break;i=s}r++}return n.length&&e.push(1,...n),e}var wn={};function Fz(t,e){return t.createText(e)}function Vz(t,e,n){t.setValue(e,n)}function Bz(t,e){return t.createComment(Ez(e))}function Cy(t,e,n){return t.createElement(e,n)}function I4(t,e,n,r,i){t.insertBefore(e,n,r,i)}function My(t,e,n){t.appendChild(e,n)}function Mm(t,e,n,r,i){r!==null?I4(t,e,n,r,i):My(t,e,n)}function jz(t,e,n){t.removeChild(null,e,n)}function Uz(t,e,n){t.setAttribute(e,"style",n)}function Hz(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _y(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&_T(t,e,r),i!==null&&Hz(t,e,i),s!==null&&Uz(t,e,s)}function _u(t,e,n,r,i,s,o,c,a,u,f){let p=Xt+r,g=p+i,y=$z(p,g),L=typeof u=="function"?u():u;return y[Le]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:a,consts:L,incompleteFirstPass:!1,ssrId:f}}function $z(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:wn);return n}function qz(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=_u(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function wu(t,e,n,r,i,s,o,c,a,u,f){let p=e.blueprint.slice();return p[D2]=i,p[se]=r|4|128|8|64|1024,(u!==null||t&&t[se]&2048)&&(p[se]|=2048),hg(p),p[jt]=p[Si]=t,p[Zt]=n,p[L2]=o||t&&t[L2],p[Ue]=c||t&&t[Ue],p[mo]=a||t&&t[mo]||null,p[Jt]=s,p[V4]=WT(),p[po]=f,p[sg]=u,p[vn]=e.type==2?t[vn]:p,p}function Gz(t,e,n){let r=t2(e,t),i=qz(n),s=t[L2].rendererFactory,o=Lu(t,wu(t,i,null,wy(n),r,e,null,s.createRenderer(r,n),null,null,null));return t[e.index]=o}function wy(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Ly(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Lu(t,e){return t[go]?t[em][xn]=e:t[go]=e,t[em]=e,e}function O(t=1){by(nt(),ye(),C1()+t,!1)}function by(t,e,n,r){if(!r)if((e[se]&3)===3){let s=t.preOrderCheckHooks;s!==null&&o4(e,s,n)}else{let s=t.preOrderHooks;s!==null&&c4(e,s,0,n)}hr(n)}var Z4=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Z4||{});function b8(t,e,n,r){let i=_e(null);try{let[s,o,c]=t.inputs[n],a=null;(o&Z4.SignalBased)!==0&&(a=e[s][qt]),a!==null&&a.transformFn!==void 0?r=a.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,a,r,n,s):cg(e,a,s,r)}finally{_e(i)}}function Ey(t,e,n,r,i){let s=C1(),o=r&2;try{hr(-1),o&&e.length>Xt&&by(t,e,Xt,!1),Oe(o?2:0,i),n(r,i)}finally{hr(s),Oe(o?3:1,i)}}function X4(t,e,n){Xz(t,e,n),(n.flags&64)===64&&Jz(t,e,n)}function bu(t,e,n=t2){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function Wz(t,e,n,r){let s=r.get(XT,Xg)||n===e2.ShadowDom,o=t.selectRootElement(e,s);return Kz(o),o}function Kz(t){Qz(t)}var Qz=()=>null;function Yz(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function J4(t,e,n,r,i,s,o,c){if(!c&&Iu(e,t,n,r,i)){Ti(e)&&Zz(n,e.index);return}if(e.type&3){let a=t2(e,n);r=Yz(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(a,r,i)}else e.type&12}function Zz(t,e){let n=Jn(e,t);n[se]&16||(n[se]|=64)}function Xz(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Ti(n)&&Gz(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||w4(n,e);let s=n.initialInputs;for(let o=r;o<i;o++){let c=t.data[o],a=L4(e,t,o,n);if(Di(a,e),s!==null&&rD(e,o-r,a,c,n,s),Zn(c)){let u=Jn(n.index,e);u[Zt]=L4(e,t,o,n)}}}function Jz(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=fT();try{hr(s);for(let c=r;c<i;c++){let a=t.data[c],u=e[c];s8(c),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&eD(a,u)}}finally{hr(-1),s8(o)}}function eD(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Eu(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];vy(e,s.selectors,!1)&&(r??=[],Zn(s)?r.unshift(s):r.push(s))}return r}function tD(t,e,n,r,i,s){let o=t2(t,e);nD(e[Ue],o,s,t.value,n,r,i)}function nD(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?m1(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function rD(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;c+=2){let a=o[c],u=o[c+1];b8(r,n,a,u)}}function Iy(t,e){let n=t[mo],r=n?n.get(b2,null):null;r&&r.handleError(e)}function Iu(t,e,n,r,i){let s=t.inputs?.[r],o=t.hostDirectiveInputs?.[r],c=!1;if(o)for(let a=0;a<o.length;a+=2){let u=o[a],f=o[a+1],p=e.data[u];b8(p,n[u],f,i),c=!0}if(s)for(let a of s){let u=n[a],f=e.data[a];b8(f,u,r,i),c=!0}return c}function iD(t,e){let n=Jn(e,t),r=n[Le];sD(r,n);let i=n[D2];i!==null&&n[po]===null&&(n[po]=ty(i,n[mo])),Oe(18),Su(r,n,n[Zt]),Oe(19,n[Zt])}function sD(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Su(t,e,n){cu(e);try{let r=t.viewQuery;r!==null&&m8(1,r,n);let i=t.template;i!==null&&Ey(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[_i]?.finishViewCreation(t),t.staticContentQueries&&ny(t,e),t.staticViewQueries&&m8(2,t.viewQuery,n);let s=t.components;s!==null&&oD(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[se]&=-5,au()}}function oD(t,e){for(let n=0;n<e.length;n++)iD(t,e[n])}function Sy(t,e,n,r){let i=_e(null);try{let s=e.tView,c=t[se]&4096?4096:16,a=wu(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];a[Mi]=u;let f=t[_i];return f!==null&&(a[_i]=f.createEmbeddedView(s)),Su(s,a,n),a}finally{_e(i)}}function E8(t,e){return!e||e.firstChild===null||$g(t)}var cD;function Tu(t,e){return cD(t,e)}var I2=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(I2||{});function zu(t){return(t.flags&32)===32}function gi(t,e,n,r,i){if(r!=null){let s,o=!1;A2(r)?s=r:y1(r)&&(o=!0,r=r[D2]);let c=Xn(r);t===0&&n!==null?i==null?My(e,n,c):I4(e,n,c,i||null,!0):t===1&&n!==null?I4(e,n,c,i||null,!0):t===2?jz(e,c,o):t===3&&e.destroyNode(c),s!=null&&yD(e,t,s,n,i)}}function aD(t,e){Ty(t,e),e[D2]=null,e[Jt]=null}function lD(t,e,n,r,i,s){r[D2]=i,r[Jt]=e,ta(t,r,n,1,i,s)}function Ty(t,e){e[L2].changeDetectionScheduler?.notify(9),ta(t,e,e[Ue],2,null,null)}function uD(t){let e=t[go];if(!e)return Ul(t[Le],t);for(;e;){let n=null;if(y1(e))n=e[go];else{let r=e[yn];r&&(n=r)}if(!n){for(;e&&!e[xn]&&e!==t;)y1(e)&&Ul(e[Le],e),e=e[jt];e===null&&(e=t),y1(e)&&Ul(e[Le],e),n=e&&e[xn]}e=n}}function Du(t,e){let n=t[g4],r=n.indexOf(e);n.splice(r,1)}function zy(t,e){if(bo(e))return;let n=e[Ue];n.destroyNode&&ta(t,e,n,3,null,null),uD(e)}function Ul(t,e){if(bo(e))return;let n=_e(null);try{e[se]&=-129,e[se]|=256,e[gn]&&ei(e[gn]),fD(t,e),dD(t,e),e[Le].type===1&&e[Ue].destroy();let r=e[Mi];if(r!==null&&A2(e[jt])){r!==e[jt]&&Du(r,e);let i=e[_i];i!==null&&i.detachView(t)}h8(e)}finally{_e(n)}}function dD(t,e){let n=t.cleanup,r=e[p4];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let c=n[o+3];c>=0?r[c]():r[-c].unsubscribe(),o+=2}else{let c=r[n[o+1]];n[o].call(c)}r!==null&&(e[p4]=null);let i=e[g1];if(i!==null){e[g1]=null;for(let o=0;o<i.length;o++){let c=i[o];c()}}let s=e[ur];if(s!==null){e[ur]=null;for(let o of s)o.destroy()}}function fD(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof pr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],a=s[o+1];Oe(4,c,a);try{a.call(c)}finally{Oe(5,c,a)}}else{Oe(4,i,s);try{s.call(i)}finally{Oe(5,i,s)}}}}}function Dy(t,e,n){return hD(t,e.parent,n)}function hD(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[D2];if(Ti(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===e2.None||i===e2.Emulated)return null}return t2(r,n)}function Ay(t,e,n){return mD(t,e,n)}function pD(t,e,n){return t.type&40?t2(t,n):null}var mD=pD,_m;function ea(t,e,n,r){let i=Dy(t,r,e),s=e[Ue],o=r.parent||e[Jt],c=Ay(o,r,e);if(i!=null)if(Array.isArray(n))for(let a=0;a<n.length;a++)Mm(s,i,n[a],c,!1);else Mm(s,i,n,c,!1);_m!==void 0&&_m(s,r,e,n,i)}function ao(t,e){if(e!==null){let n=e.type;if(n&3)return t2(e,t);if(n&4)return I8(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ao(t,r);{let i=t[e.index];return A2(i)?I8(-1,i):Xn(i)}}else{if(n&128)return ao(t,e.next);if(n&32)return Tu(e,t)()||Xn(t[e.index]);{let r=xy(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fr(t[vn]);return ao(i,r)}else return ao(t,e.next)}}}return null}function xy(t,e){if(e!==null){let r=t[vn][Jt],i=e.projection;return r.projection[i]}return null}function I8(t,e){let n=yn+t+1;if(n<e.length){let r=e[n],i=r[Le].firstChild;if(i!==null)return ao(r,i)}return e[dr]}function Au(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],a=n.type;if(o&&e===0&&(c&&Di(Xn(c),r),n.flags|=2),!zu(n))if(a&8)Au(t,e,n.child,r,i,s,!1),gi(e,t,i,c,s);else if(a&32){let u=Tu(n,r),f;for(;f=u();)gi(e,t,i,f,s);gi(e,t,i,c,s)}else a&16?Ny(t,e,r,n,i,s):gi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function ta(t,e,n,r,i,s){Au(n,r,t.firstChild,e,i,s,!1)}function gD(t,e,n){let r=e[Ue],i=Dy(t,n,e),s=n.parent||e[Jt],o=Ay(s,n,e);Ny(r,0,e,n,i,o)}function Ny(t,e,n,r,i,s){let o=n[vn],a=o[Jt].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++){let f=a[u];gi(e,t,i,f,s)}else{let u=a,f=o[jt];$g(r)&&(u.flags|=128),Au(t,e,u,f,i,s,!0)}}function yD(t,e,n,r,i){let s=n[dr],o=Xn(n);s!==o&&gi(e,t,r,s,i);for(let c=yn;c<n.length;c++){let a=n[c];ta(a[Le],a,t,e,r,s)}}function vD(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:I2.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=I2.Important),t.setStyle(n,r,i,s))}}function S4(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Xn(s)),A2(s)&&CD(s,r);let o=n.type;if(o&8)S4(t,e,n.child,r);else if(o&32){let c=Tu(n,e),a;for(;a=c();)r.push(a)}else if(o&16){let c=xy(e,n);if(Array.isArray(c))r.push(...c);else{let a=fr(e[vn]);S4(a[Le],a,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function CD(t,e){for(let n=yn;n<t.length;n++){let r=t[n],i=r[Le].firstChild;i!==null&&S4(r[Le],r,i,e)}t[dr]!==t[D2]&&e.push(t[dr])}function Ry(t){if(t[Fl]!==null){for(let e of t[Fl])e.impl.addSequence(e);t[Fl].length=0}}var ky=[];function MD(t){return t[gn]??_D(t)}function _D(t){let e=ky.pop()??Object.create(LD);return e.lView=t,e}function wD(t){t.lView[gn]!==t&&(t.lView=null,ky.push(t))}var LD=ie(V({},er),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Eo(t.lView)},consumerOnSignalRead(){this.lView[gn]=this}});function bD(t){let e=t[gn]??Object.create(ED);return e.lView=t,e}var ED=ie(V({},er),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=fr(t.lView);for(;e&&!Py(e[Le]);)e=fr(e);e&&pg(e)},consumerOnSignalRead(){this.lView[gn]=this}});function Py(t){return t.type!==2}function Oy(t){if(t[ur]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[ur])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[se]&8192)}}var ID=100;function Fy(t,e=!0,n=0){let i=t[L2].rendererFactory,s=!1;s||i.begin?.();try{SD(t,n)}catch(o){throw e&&Iy(t,o),o}finally{s||i.end?.()}}function SD(t,e){let n=vg();try{v4(!0),S8(t,e);let r=0;for(;j4(t);){if(r===ID)throw new H(103,!1);r++,S8(t,1)}}finally{v4(n)}}function TD(t,e,n,r){if(bo(e))return;let i=e[se],s=!1,o=!1;cu(e);let c=!0,a=null,u=null;s||(Py(t)?(u=MD(e),a=Jr(u)):cp()===null?(c=!1,u=bD(e),a=Jr(u)):e[gn]&&(ei(e[gn]),e[gn]=null));try{hg(e),lT(t.bindingStartIndex),n!==null&&Ey(t,e,n,2,r);let f=(i&3)===3;if(!s)if(f){let y=t.preOrderCheckHooks;y!==null&&o4(e,y,null)}else{let y=t.preOrderHooks;y!==null&&c4(e,y,0,null),Vl(e,0)}if(o||zD(e),Oy(e),Vy(e,0),t.contentQueries!==null&&ny(t,e),!s)if(f){let y=t.contentCheckHooks;y!==null&&o4(e,y)}else{let y=t.contentHooks;y!==null&&c4(e,y,1),Vl(e,1)}AD(t,e);let p=t.components;p!==null&&jy(e,p,0);let g=t.viewQuery;if(g!==null&&m8(2,g,r),!s)if(f){let y=t.viewCheckHooks;y!==null&&o4(e,y)}else{let y=t.viewHooks;y!==null&&c4(e,y,2),Vl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[s4]){for(let y of e[s4])y();e[s4]=null}s||(Ry(e),e[se]&=-73)}catch(f){throw s||Eo(e),f}finally{u!==null&&(no(u,a),c&&wD(u)),au()}}function Vy(t,e){for(let n=Wg(t);n!==null;n=Kg(n))for(let r=yn;r<n.length;r++){let i=n[r];By(i,e)}}function zD(t){for(let e=Wg(t);e!==null;e=Kg(e)){if(!(e[se]&2))continue;let n=e[g4];for(let r=0;r<n.length;r++){let i=n[r];pg(i)}}}function DD(t,e,n){Oe(18);let r=Jn(e,t);By(r,n),Oe(19,r[Zt])}function By(t,e){tu(t)&&S8(t,e)}function S8(t,e){let r=t[Le],i=t[se],s=t[gn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&ro(s)),o||=!1,s&&(s.dirty=!1),t[se]&=-9217,o)TD(r,t,r.template,t[Zt]);else if(i&8192){Oy(t),Vy(t,1);let c=r.components;c!==null&&jy(t,c,1),Ry(t)}}function jy(t,e,n){for(let r=0;r<e.length;r++)DD(t,e[r],n)}function AD(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hr(~i);else{let s=i,o=n[++r],c=n[++r];dT(o,s);let a=e[s];Oe(24,a),c(2,a),Oe(25,a)}}}finally{hr(-1)}}function xu(t,e){let n=vg()?64:1088;for(t[L2].changeDetectionScheduler?.notify(e);t;){t[se]|=n;let r=fr(t);if(y4(t)&&!r)return t;t=r}return null}function Uy(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Hy(t,e,n,r=!0){let i=e[Le];if(xD(i,e,t,n),r){let o=I8(n,t),c=e[Ue],a=c.parentNode(t[dr]);a!==null&&lD(i,t[Jt],c,e,a,o)}let s=e[po];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function T8(t,e){if(t.length<=yn)return;let n=yn+e,r=t[n];if(r){let i=r[Mi];i!==null&&i!==t&&Du(i,r),e>0&&(t[n-1][xn]=r[xn]);let s=f4(t,yn+e);aD(r[Le],r);let o=s[_i];o!==null&&o.detachView(s[Le]),r[jt]=null,r[xn]=null,r[se]&=-129}return r}function xD(t,e,n,r){let i=yn+r,s=n.length;r>0&&(n[i-1][xn]=e),r<s-yn?(e[xn]=n[i],Wm(n,yn+r,e)):(n.push(e),e[xn]=null),e[jt]=n;let o=e[Mi];o!==null&&n!==o&&$y(o,e);let c=e[_i];c!==null&&c.insertView(t),r8(e),e[se]|=128}function $y(t,e){let n=t[g4],r=e[jt];if(y1(r))t[se]|=2;else{let i=r[jt][vn];e[vn]!==i&&(t[se]|=2)}n===null?t[g4]=[e]:n.push(e)}var gr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[Le];return S4(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Zt]}set context(e){this._lView[Zt]=e}get destroyed(){return bo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[jt];if(A2(e)){let n=e[m4],r=n?n.indexOf(this):-1;r>-1&&(T8(e,r),f4(n,r))}this._attachedToViewContainer=!1}zy(this._lView[Le],this._lView)}onDestroy(e){mg(this._lView,e)}markForCheck(){xu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){r8(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,Fy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=y4(this._lView),n=this._lView[Mi];n!==null&&!e&&Du(n,this._lView),Ty(this._lView[Le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let n=y4(this._lView),r=this._lView[Mi];r!==null&&!n&&$y(r,this._lView),r8(this._lView)}};var na=(()=>{class t{static __NG_ELEMENT_ID__=kD}return t})(),ND=na,RD=class extends ND{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Sy(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new gr(i)}};function kD(){return PD(Ht(),ye())}function PD(t,e){return t.type&4?new RD(e,t,G4(t,e)):null}function zo(t,e,n,r,i){let s=t.data[e];if(s===null)s=OD(t,e,n,r,i),uT()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=cT();s.injectorIndex=o===null?-1:o.injectorIndex}return vr(s,!0),s}function OD(t,e,n,r,i){let s=yg(),o=ru(),c=o?s:s&&s.parent,a=t.data[e]=VD(t,c,n,e,r,i);return FD(t,a,s,o),a}function FD(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function VD(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return gg()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var aX=new RegExp(`^(\\d+)*(${ZT}|${YT})*(.*)`);var BD=()=>null;function z8(t,e){return BD(t,e)}var D8=class{},T4=class{},A8=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Nt(e)}.`)}},bi=class{static NULL=new A8},Ei=class{},Ln=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>jD()}return t})();function jD(){let t=ye(),e=Ht(),n=Jn(e.index,t);return(y1(n)?n:t)[Ue]}var UD=(()=>{class t{static \u0275prov=G({token:t,providedIn:"root",factory:()=>null})}return t})();function x8(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=Ql(i,c);else if(s==2){let a=c,u=e[++o];r=Ql(r,a+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Z(t,e=fe.Default){let n=ye();if(n===null)return J(t,e);let r=Ht();return Rg(r,n,Bt(t),e)}function Nu(t,e,n,r,i){let s=r===null?null:{"":-1},o=i(t,n);if(o!==null){let c,a=null,u=null,f=$D(o);f===null?c=o:[c,a,u]=f,WD(t,e,n,c,s,a,u)}s!==null&&r!==null&&HD(n,r,s)}function HD(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new H(-301,!1);r.push(e[i],s)}}function $D(t){let e=null,n=!1;for(let o=0;o<t.length;o++){let c=t[o];if(o===0&&Zn(c)&&(e=c),c.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,s=null;for(let o of t)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,qD(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,s]):null}function qD(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function GD(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function WD(t,e,n,r,i,s,o){let c=r.length,a=!1;for(let g=0;g<c;g++){let y=r[g];!a&&Zn(y)&&(a=!0,GD(t,n,g)),a8(w4(n,e),t,y.type)}JD(n,t.data.length,c);for(let g=0;g<c;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let u=!1,f=!1,p=Ly(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let g=0;g<c;g++){let y=r[g];if(n.mergedAttrs=Li(n.mergedAttrs,y.hostAttrs),QD(t,n,e,p,y),XD(p,y,i),o!==null&&o.has(y)){let[T,z]=o.get(y);n.directiveToIndex.set(y.type,[p,T+n.directiveStart,z+n.directiveStart])}else(s===null||!s.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let L=y.type.prototype;!u&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!f&&(L.ngOnChanges||L.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}KD(t,n,s)}function KD(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))wm(0,e,i,r),wm(1,e,i,r),bm(e,r,!1);else{let s=n.get(i);Lm(0,e,s,r),Lm(1,e,s,r),bm(e,r,!0)}}}function wm(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;t===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),qy(e,s)}}function Lm(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[o]??=[],c[o].push(r,s),qy(e,o)}}function qy(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function bm(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:s}=t;if(r===null||!n&&i===null||n&&s===null||Mu(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let o=null,c=0;for(;c<r.length;){let a=r[c];if(a===0){c+=4;continue}else if(a===5){c+=2;continue}else if(typeof a=="number")break;if(!n&&i.hasOwnProperty(a)){let u=i[a];for(let f of u)if(f===e){o??=[],o.push(a,r[c+1]);break}}else if(n&&s.hasOwnProperty(a)){let u=s[a];for(let f=0;f<u.length;f+=2)if(u[f]===e){o??=[],o.push(u[f+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(o)}function QD(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=cr(i.type,!0)),o=new pr(s,Zn(i),Z);t.blueprint[r]=o,n[r]=o,YD(t,e,r,Ly(t,n,i.hostVars,wn),i)}function YD(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;ZD(o)!=c&&o.push(c),o.push(n,r,s)}}function ZD(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function XD(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Zn(e)&&(n[""]=t)}}function JD(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Gy(t,e,n,r,i,s,o,c){let a=e.consts,u=wi(a,o),f=zo(e,t,2,r,u);return s&&Nu(e,n,f,wi(a,c),i),f.mergedAttrs=Li(f.mergedAttrs,f.attrs),f.attrs!==null&&x8(f,f.attrs,!1),f.mergedAttrs!==null&&x8(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function Wy(t,e){lu(t,e),eu(e)&&t.queries.elementEnd(e)}var z4=class extends bi{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=lr(e);return new vo(n,this.ngModule)}};function eA(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],s={propName:n,templateName:e,isSignal:(r&Z4.SignalBased)!==0};return i&&(s.transform=i),s})}function tA(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function nA(t,e,n){let r=e instanceof Rt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new o8(n,r):n}function rA(t){let e=t.get(Ei,null);if(e===null)throw new H(407,!1);let n=t.get(UD,null),r=t.get(mr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function iA(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Cy(e,n,n==="svg"?KS:n==="math"?QS:null)}var vo=class extends T4{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=eA(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=tA(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Pz(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){Oe(22);let s=_e(null);try{let o=this.componentDef,c=r?["ng-version","19.2.1"]:Oz(this.componentDef.selectors[0]),a=_u(0,null,null,1,0,null,null,null,null,[c],null),u=nA(o,i||this.ngModule,e),f=rA(u),p=f.rendererFactory.createRenderer(null,o),g=r?Wz(p,r,o.encapsulation,u):iA(o,p),y=wu(null,a,null,512|wy(o),null,null,f,p,u,null,ty(g,u,!0));y[Xt]=g,cu(y);let L=null;try{let T=Gy(Xt,a,y,"#host",()=>[this.componentDef],!0,0);g&&(_y(p,g,T),Di(g,y)),X4(a,y,T),yu(a,T,y),Wy(a,T),n!==void 0&&sA(T,this.ngContentSelectors,n),L=Jn(T.index,y),y[Zt]=L[Zt],Su(a,y,null)}catch(T){throw L!==null&&h8(L),h8(y),T}finally{Oe(23),au()}return new N8(this.componentType,y)}finally{_e(s)}}},N8=class extends D8{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=fg(n[Le],Xt),this.location=G4(this._tNode,n),this.instance=Jn(this._tNode.index,n)[Zt],this.hostView=this.changeDetectorRef=new gr(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,s=Iu(r,i[Le],i,e,n);this.previousInputValues.set(e,n);let o=Jn(r.index,i);xu(o,1)}get injector(){return new or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sA(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Ai=(()=>{class t{static __NG_ELEMENT_ID__=oA}return t})();function oA(){let t=Ht();return aA(t,ye())}var cA=Ai,Ky=class extends cA{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return G4(this._hostTNode,this._hostLView)}get injector(){return new or(this._hostTNode,this._hostLView)}get parentInjector(){let e=uu(this._hostTNode,this._hostLView);if(Tg(e)){let n=M4(e,this._hostLView),r=C4(e),i=n[Le].data[r+8];return new or(i,n)}else return new or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Em(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-yn}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=z8(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,E8(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!$S(e),c;if(o)c=n;else{let L=n||{};c=L.index,r=L.injector,i=L.projectableNodes,s=L.environmentInjector||L.ngModuleRef}let a=o?e:new vo(lr(e)),u=r||this.parentInjector;if(!s&&a.ngModule==null){let T=(o?u:this.parentInjector).get(Rt,null);T&&(s=T)}let f=lr(a.componentType??{}),p=z8(this._lContainer,f?.id??null),g=p?.firstChild??null,y=a.create(u,i,g,s);return this.insertImpl(y.hostView,c,E8(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ZS(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let a=i[jt],u=new Ky(a,a[Jt],a[jt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Hy(o,i,s,r),e.attachToViewContainerRef(),Wm(Hl(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Em(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=T8(this._lContainer,n);r&&(f4(Hl(this._lContainer),n),zy(r[Le],r))}detach(e){let n=this._adjustIndex(e,-1),r=T8(this._lContainer,n);return r&&f4(Hl(this._lContainer),n)!=null?new gr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Em(t){return t[m4]}function Hl(t){return t[m4]||(t[m4]=[])}function aA(t,e){let n,r=e[t.index];return A2(r)?n=r:(n=Uy(r,e,null,t),e[t.index]=n,Lu(e,n)),uA(n,e,t,r),new Ky(n,t,e)}function lA(t,e){let n=t[Ue],r=n.createComment(""),i=t2(e,t),s=n.parentNode(i);return I4(n,s,r,n.nextSibling(i),!1),r}var uA=hA,dA=()=>!1;function fA(t,e,n){return dA(t,e,n)}function hA(t,e,n,r){if(t[dr])return;let i;n.type&8?i=Xn(r):i=lA(e,n),t[dr]=i}var v1=class{},Co=class{};var R8=class extends v1{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new z4(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let s=Ym(e);this._bootstrapComponents=gy(s.bootstrap),this._r3Injector=Og(e,n,[{provide:v1,useValue:this},{provide:bi,useValue:this.componentFactoryResolver},...r],Nt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},k8=class extends Co{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new R8(this.moduleType,e,[])}};var D4=class extends v1{injector;componentFactoryResolver=new z4(this);instance=null;constructor(e){super();let n=new ho([...e.providers,{provide:v1,useValue:this},{provide:bi,useValue:this.componentFactoryResolver}],e.parent||J8(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ru(t,e,n=null){return new D4({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var pA=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=eg(!1,n.type),i=r.length>0?Ru([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(J(Rt))})}return t})();function xe(t){return _o(()=>{let e=Yy(t),n=ie(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===qg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(pA).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||e2.Emulated,styles:t.styles||Yt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&K4("NgStandalone"),Zy(n);let r=t.dependencies;return n.directiveDefs=Im(r,!1),n.pipeDefs=Im(r,!0),n.id=CA(n),n})}function mA(t){return lr(t)||Zm(t)}function gA(t){return t!==null}function k2(t){return _o(()=>({type:t.type,bootstrap:t.bootstrap||Yt,declarations:t.declarations||Yt,imports:t.imports||Yt,exports:t.exports||Yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function yA(t,e){if(t==null)return ar;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c,a;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s,a=i[3]||null):(s=i,o=i,c=Z4.None,a=null),n[s]=[r,c,a],e[s]=o}return n}function vA(t){if(t==null)return ar;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Fe(t){return _o(()=>{let e=Yy(t);return Zy(e),e})}function Qy(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yy(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||ar,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Yt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yA(t.inputs,e),outputs:vA(t.outputs),debugInfo:null}}function Zy(t){t.features?.forEach(e=>e(t))}function Im(t,e){if(!t)return null;let n=e?Xm:mA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(gA)}function CA(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function MA(t){return Object.getPrototypeOf(t.prototype).constructor}function en(t){let e=MA(t.type),n=!0,r=[t];for(;e;){let i;if(Zn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=$l(t.inputs),o.declaredInputs=$l(t.declaredInputs),o.outputs=$l(t.outputs);let c=i.hostBindings;c&&EA(t,c);let a=i.viewQuery,u=i.contentQueries;if(a&&LA(t,a),u&&bA(t,u),_A(t,i),hS(t.outputs,i.outputs),Zn(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===en&&(n=!1)}}e=Object.getPrototypeOf(e)}wA(r)}function _A(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function wA(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Li(i.hostAttrs,n=Li(n,i.hostAttrs))}}function $l(t){return t===ar?{}:t===Yt?[]:t}function LA(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function bA(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function EA(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Xy(t){return SA(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function IA(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function SA(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Jy(t,e,n){return t[e]=n}function Nn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ev(t,e,n,r){let i=Nn(t,e,n);return Nn(t,e+1,r)||i}function TA(t,e,n,r,i){let s=ev(t,e,n,r);return Nn(t,e+2,i)||s}function zA(t,e,n,r,i,s,o,c,a){let u=e.consts,f=zo(e,t,4,o||null,c||null);nu()&&Nu(e,n,f,wi(u,a),Eu),f.mergedAttrs=Li(f.mergedAttrs,f.attrs),lu(e,f);let p=f.tView=_u(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function tv(t,e,n,r,i,s,o,c,a,u){let f=n+Xt,p=e.firstCreatePass?zA(f,e,t,r,i,s,o,c,a):e.data[f];vr(p,!1);let g=DA(e,t,p,n);U4()&&ea(e,t,g,p),Di(g,t);let y=Uy(g,t,g,p);return t[f]=y,Lu(t,y),fA(y,p,t),B4(p)&&X4(e,t,p),a!=null&&bu(t,p,u),p}function Te(t,e,n,r,i,s,o,c){let a=ye(),u=nt(),f=wi(u.consts,s);return tv(a,u,t,e,n,r,i,f,o,c),Te}var DA=AA;function AA(t,e,n,r){return H4(!0),e[Ue].createComment("")}var ku=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var nv=new K("");var rv=(()=>{class t{static \u0275prov=G({token:t,providedIn:"root",factory:()=>new A4})}return t})(),A4=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function M1(t){return!!t&&typeof t.then=="function"}function Pu(t){return!!t&&typeof t.subscribe=="function"}var iv=new K("");var sv=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=N(iv,{optional:!0})??[];injector=N(Ke);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=Ct(this.injector,i);if(M1(s))n.push(s);else if(Pu(s)){let o=new Promise((c,a)=>{s.subscribe({complete:c,error:a})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ra=new K("");function xA(){vp(()=>{throw new H(600,!1)})}function NA(t){return t.isBoundToModule}var RA=10;var S2=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(jT);afterRenderManager=N(ez);zonelessEnabled=N($4);rootEffectScheduler=N(rv);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new lt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=N(n2).hasPendingTasks.pipe(ne(n=>!n));constructor(){N(W4,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=N(Rt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){Oe(10);let i=n instanceof T4;if(!this._injector.get(sv).done){let g=!i&&Jm(n),y=!1;throw new H(405,y)}let o;i?o=n:o=this._injector.get(bi).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=NA(o)?void 0:this._injector.get(v1),a=r||o.selector,u=o.create(Ke.NULL,[],a,c),f=u.location.nativeElement,p=u.injector.get(nv,null);return p?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),a4(this.components,u),p?.unregisterApplication(f)}),this._loadComponent(u),Oe(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Oe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Jg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let n=_e(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,_e(n),this.afterTick.next(),Oe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ei,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<RA;)Oe(14),this.synchronizeOnce(),Oe(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)kA(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>j4(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;a4(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(ra,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>a4(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new H(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function a4(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kA(t,e,n,r){if(!n&&!j4(t))return;Fy(t,e,n&&!r?0:1)}function _1(t,e,n,r){let i=ye(),s=Io();if(Nn(i,s,e)){let o=nt(),c=So();tD(c,i,t,e,n,r)}return _1}function ov(t,e,n,r){return Nn(t,Io(),n)?e+m1(n)+r:wn}function PA(t,e,n,r,i,s,o,c){let a=aT(),u=TA(t,a,n,i,o);return ou(3),u?e+m1(n)+r+m1(i)+s+m1(o)+c:wn}function n4(t,e){return t<<17|e<<2}function yr(t){return t>>17&32767}function OA(t){return(t&2)==2}function FA(t,e){return t&131071|e<<17}function P8(t){return t|2}function Ii(t){return(t&131068)>>2}function ql(t,e){return t&-131069|e<<2}function VA(t){return(t&1)===1}function O8(t){return t|1}function BA(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=yr(o),a=Ii(o);t[r]=n;let u=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||wo(p,f)>0)&&(u=!0)}else f=n;if(i)if(a!==0){let g=yr(t[c+1]);t[r+1]=n4(g,c),g!==0&&(t[g+1]=ql(t[g+1],r)),t[c+1]=FA(t[c+1],r)}else t[r+1]=n4(c,0),c!==0&&(t[c+1]=ql(t[c+1],r)),c=r;else t[r+1]=n4(a,0),c===0?c=r:t[a+1]=ql(t[a+1],r),a=r;u&&(t[r+1]=P8(t[r+1])),Sm(t,f,r,!0),Sm(t,f,r,!1),jA(e,f,t,r,s),o=n4(c,a),s?e.classBindings=o:e.styleBindings=o}function jA(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&wo(s,e)>=0&&(n[r+1]=O8(n[r+1]))}function Sm(t,e,n,r){let i=t[n+1],s=e===null,o=r?yr(i):Ii(i),c=!1;for(;o!==0&&(c===!1||s);){let a=t[o],u=t[o+1];UA(a,e)&&(c=!0,t[o+1]=r?O8(u):P8(u)),o=r?yr(u):Ii(u)}c&&(t[n+1]=r?P8(i):O8(i))}function UA(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?wo(t,e)>=0:!1}var An={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function HA(t){return t.substring(An.key,An.keyEnd)}function $A(t){return qA(t),cv(t,av(t,0,An.textEnd))}function cv(t,e){let n=An.textEnd;return n===e?-1:(e=An.keyEnd=GA(t,An.key=e,n),av(t,e,n))}function qA(t){An.key=0,An.keyEnd=0,An.value=0,An.valueEnd=0,An.textEnd=t.length}function av(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function GA(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Y(t,e,n){let r=ye(),i=Io();if(Nn(r,i,e)){let s=nt(),o=So();J4(s,o,r,t,e,r[Ue],n,!1)}return Y}function F8(t,e,n,r,i){Iu(e,t,n,i?"class":"style",r)}function Do(t,e){return KA(t,e,null,!0),Do}function lv(t){QA(tx,WA,t,!0)}function WA(t,e){for(let n=$A(e);n>=0;n=cv(e,n))Z8(t,HA(e),!0)}function KA(t,e,n,r){let i=ye(),s=nt(),o=ou(2);if(s.firstUpdatePass&&dv(s,t,o,r),e!==wn&&Nn(i,o,e)){let c=s.data[C1()];fv(s,c,i,i[Ue],t,i[o+1]=rx(e,n),r,o)}}function QA(t,e,n,r){let i=nt(),s=ou(2);i.firstUpdatePass&&dv(i,null,s,r);let o=ye();if(n!==wn&&Nn(o,s,n)){let c=i.data[C1()];if(hv(c,r)&&!uv(i,s)){let a=r?c.classesWithoutHost:c.stylesWithoutHost;a!==null&&(n=Ql(a,n||"")),F8(i,c,o,n,r)}else nx(i,c,o,o[Ue],o[s+1],o[s+1]=ex(t,e,n),r,s)}}function uv(t,e){return e>=t.expandoStartIndex}function dv(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[C1()],o=uv(t,n);hv(s,r)&&e===null&&!o&&(e=!1),e=YA(i,s,e,r),BA(i,s,e,n,o,r)}}function YA(t,e,n,r){let i=hT(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Gl(null,t,e,n,r),n=Mo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Gl(i,t,e,n,r),s===null){let a=ZA(t,e,r);a!==void 0&&Array.isArray(a)&&(a=Gl(null,t,e,a[1],r),a=Mo(a,e.attrs,r),XA(t,e,r,a))}else s=JA(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function ZA(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ii(r)!==0)return t[yr(r)]}function XA(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[yr(i)]=r}function JA(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Mo(r,o,n)}return Mo(r,e.attrs,n)}function Gl(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=Mo(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Mo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Z8(t,o,n?!0:e[++s]))}return t===void 0?null:t}function ex(t,e,n){if(n==null||n==="")return Yt;let r=[],i=Mn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function tx(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Z8(t,r,n)}function nx(t,e,n,r,i,s,o,c){i===wn&&(i=Yt);let a=0,u=0,f=0<i.length?i[0]:null,p=0<s.length?s[0]:null;for(;f!==null||p!==null;){let g=a<i.length?i[a+1]:void 0,y=u<s.length?s[u+1]:void 0,L=null,T;f===p?(a+=2,u+=2,g!==y&&(L=p,T=y)):p===null||f!==null&&f<p?(a+=2,L=f):(u+=2,L=p,T=y),L!==null&&fv(t,e,n,r,L,T,o,c),f=a<i.length?i[a]:null,p=u<s.length?s[u]:null}}function fv(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let a=t.data,u=a[c+1],f=VA(u)?Tm(a,e,n,i,Ii(u),o):void 0;if(!x4(f)){x4(s)||OA(u)&&(s=Tm(a,null,n,i,c,o));let p=dg(C1(),n);vD(r,o,p,i,s)}}function Tm(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let a=t[i],u=Array.isArray(a),f=u?a[1]:a,p=f===null,g=n[i+1];g===wn&&(g=p?Yt:void 0);let y=p?Pl(g,r):f===r?g:void 0;if(u&&!x4(y)&&(y=Pl(a,r)),x4(y)&&(c=y,o))return c;let L=t[i+1];i=o?yr(L):Ii(L)}if(e!==null){let a=s?e.residualClasses:e.residualStyles;a!=null&&(c=Pl(a,r))}return c}function x4(t){return t!==void 0}function rx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Nt(Mn(t)))),t}function hv(t,e){return(t.flags&(e?8:16))!==0}function A(t,e,n,r){let i=ye(),s=nt(),o=Xt+t,c=i[Ue],a=s.firstCreatePass?Gy(o,s,i,e,Eu,nu(),n,r):s.data[o],u=ix(s,i,a,c,e,t);i[o]=u;let f=B4(a);return vr(a,!0),_y(c,u,a),!zu(a)&&U4()&&ea(s,i,u,a),(nT()===0||f)&&Di(u,i),rT(),f&&(X4(s,i,a),yu(s,a,i)),r!==null&&bu(i,a),A}function x(){let t=Ht();ru()?iu():(t=t.parent,vr(t,!1));let e=t;sT(e)&&oT(),iT();let n=nt();return n.firstCreatePass&&Wy(n,e),e.classesWithoutHost!=null&&CT(e)&&F8(n,e,ye(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&MT(e)&&F8(n,e,ye(),e.stylesWithoutHost,!1),x}function ke(t,e,n,r){return A(t,e,n,r),x(),ke}var ix=(t,e,n,r,i,s)=>(H4(!0),Cy(r,i,gT()));function sx(t,e,n,r,i){let s=e.consts,o=wi(s,r),c=zo(e,t,8,"ng-container",o);o!==null&&x8(c,o,!0);let a=wi(s,i);return nu()&&Nu(e,n,c,a,Eu),c.mergedAttrs=Li(c.mergedAttrs,c.attrs),e.queries!==null&&e.queries.elementStart(e,c),c}function xi(t,e,n){let r=ye(),i=nt(),s=t+Xt,o=i.firstCreatePass?sx(s,i,r,e,n):i.data[s];vr(o,!0);let c=ox(i,r,o,t);return r[s]=c,U4()&&ea(i,r,c,o),Di(c,r),B4(o)&&(X4(i,r,o),yu(i,o,r)),n!=null&&bu(r,o),xi}function Ni(){let t=Ht(),e=nt();return ru()?iu():(t=t.parent,vr(t,!1)),e.firstCreatePass&&(lu(e,t),eu(t)&&e.queries.elementEnd(t)),Ni}var ox=(t,e,n,r)=>(H4(!0),Bz(e[Ue],""));function Mt(){return ye()}function Ou(t,e,n){let r=ye(),i=Io();if(Nn(r,i,e)){let s=nt(),o=So();J4(s,o,r,t,e,r[Ue],n,!0)}return Ou}var N4="en-US";var cx=N4;function ax(t){typeof t=="string"&&(cx=t.toLowerCase().replace(/_/g,"-"))}var lx=(t,e,n)=>{};function le(t,e,n,r){let i=ye(),s=nt(),o=Ht();return pv(s,i,i[Ue],o,t,e,r),le}function ux(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[p4],a=i[s+2];return c.length>a?c[a]:null}typeof o=="string"&&(s+=2)}return null}function pv(t,e,n,r,i,s,o){let c=B4(r),u=t.firstCreatePass?tT(t):null,f=e[Zt],p=eT(e),g=!0;if(r.type&3||o){let y=t2(r,e),L=o?o(y):y,T=p.length,z=o?W=>o(Xn(W[r.index])):r.index,F=null;if(!o&&c&&(F=ux(t,e,i,r.index)),F!==null){let W=F.__ngLastListenerFn__||F;W.__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,g=!1}else{s=Am(r,e,f,s),lx(L,i,s);let W=n.listen(L,i,s);p.push(s,W),u&&u.push(i,z,T,T+1)}}else s=Am(r,e,f,s);if(g){let y=r.outputs?.[i],L=r.hostDirectiveOutputs?.[i];if(L&&L.length)for(let T=0;T<L.length;T+=2){let z=L[T],F=L[T+1];zm(r,t,e,z,F,i,s,p,u)}if(y&&y.length)for(let T of y)zm(r,t,e,T,i,i,s,p,u)}}function zm(t,e,n,r,i,s,o,c,a){let u=n[r],p=e.data[r].outputs[i],y=u[p].subscribe(o),L=c.length;c.push(o,y),a&&a.push(s,t.index,L,-(L+1))}function Dm(t,e,n,r){let i=_e(null);try{return Oe(6,e,n),n(r)!==!1}catch(s){return Iy(t,s),!1}finally{Oe(7,e,n),_e(i)}}function Am(t,e,n,r){return function i(s){if(s===Function)return r;let o=Ti(t)?Jn(t.index,e):e;xu(o,5);let c=Dm(e,n,r,s),a=i.__ngNextListenerFn__;for(;a;)c=Dm(e,n,a,s)&&c,a=a.__ngNextListenerFn__;return c}}function Ce(t=1){return mT(t)}function dx(t,e){let n=null,r=Az(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?vy(t,s,!0):Rz(r,s))return i}return n}function mv(t){let e=ye()[vn][Jt];if(!e.projection){let n=t?t.length:1,r=e.projection=AS(n,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?dx(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function gv(t,e=0,n,r,i,s){let o=ye(),c=nt(),a=r?t+1:null;a!==null&&tv(o,c,a,r,i,s,null,n);let u=zo(c,Xt+t,16,null,n||null);u.projection===null&&(u.projection=e),iu();let p=!o[po]||gg();o[vn][Jt].projection[u.projection]===null&&a!==null?fx(o,c,a):p&&!zu(u)&&gD(c,o,u)}function fx(t,e,n){let r=Xt+n,i=e.data[r],s=t[r],o=z8(s,i.tView.ssrId),c=Sy(t,i,void 0,{dehydratedView:o});Hy(s,c,0,E8(i,o))}function Fu(t,e,n,r,i){let s=ye(),o=ov(s,e,n,r);if(o!==wn){let c=nt(),a=So();J4(c,a,s,t,o,s[Ue],i,!1)}return Fu}function hx(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function B(t,e=""){let n=ye(),r=nt(),i=t+Xt,s=r.firstCreatePass?zo(r,i,1,e,null):r.data[i],o=px(r,n,s,e,t);n[i]=o,U4()&&ea(r,n,o,s),vr(s,!1)}var px=(t,e,n,r,i)=>(H4(!0),Fz(e[Ue],r));function rt(t){return $t("",t,""),rt}function $t(t,e,n){let r=ye(),i=ov(r,t,e,n);return i!==wn&&yv(r,C1(),i),$t}function ia(t,e,n,r,i,s,o){let c=ye(),a=PA(c,t,e,n,r,i,s,o);return a!==wn&&yv(c,C1(),a),ia}function yv(t,e,n){let r=dg(e,t);Vz(t[Ue],r,n)}function Je(t,e,n){Hg(e)&&(e=e());let r=ye(),i=Io();if(Nn(r,i,e)){let s=nt(),o=So();J4(s,o,r,t,e,r[Ue],n,!1)}return Je}function it(t,e){let n=Hg(t);return n&&t.set(e),n}function et(t,e){let n=ye(),r=nt(),i=Ht();return pv(r,n,n[Ue],i,t,e),et}function mx(t,e,n){let r=nt();if(r.firstCreatePass){let i=Zn(t);V8(n,r.data,r.blueprint,i,!0),V8(e,r.data,r.blueprint,i,!1)}}function V8(t,e,n,r,i){if(t=Bt(t),Array.isArray(t))for(let s=0;s<t.length;s++)V8(t[s],e,n,r,i);else{let s=nt(),o=ye(),c=Ht(),a=Ci(t)?t:Bt(t.provide),u=rg(t),f=c.providerIndexes&1048575,p=c.directiveStart,g=c.providerIndexes>>20;if(Ci(t)||!t.multi){let y=new pr(u,i,Z),L=Kl(a,e,i?f:f+g,p);L===-1?(a8(w4(c,o),s,a),Wl(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(y),o.push(y)):(n[L]=y,o[L]=y)}else{let y=Kl(a,e,f+g,p),L=Kl(a,e,f,f+g),T=y>=0&&n[y],z=L>=0&&n[L];if(i&&!z||!i&&!T){a8(w4(c,o),s,a);let F=vx(i?yx:gx,n.length,i,r,u);!i&&z&&(n[L].providerFactory=F),Wl(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=vv(n[i?L:y],u,!i&&r);Wl(s,t,y>-1?y:L,F)}!i&&r&&z&&n[L].componentProviders++}}}function Wl(t,e,n,r){let i=Ci(e),s=FS(e);if(i||s){let a=(s?Bt(e.useClass):e).prototype.ngOnDestroy;if(a){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=u.indexOf(n);f===-1?u.push(n,[r,a]):u[f+1].push(r,a)}else u.push(n,a)}}}function vv(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Kl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function gx(t,e,n,r){return B8(this.multi,[])}function yx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=L4(n,n[Le],this.providerFactory.index,r);s=c.slice(0,o),B8(i,s);for(let a=o;a<c.length;a++)s.push(c[a])}else s=[],B8(i,s);return s}function B8(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function vx(t,e,n,r,i){let s=new pr(t,n,Z);return s.multi=[],s.index=e,s.componentProviders=0,vv(s,i,r&&!n),s}function Fn(t,e=[]){return n=>{n.providersResolver=(r,i)=>mx(r,i?i(t):t,e)}}function sa(t,e,n,r){return Mv(ye(),su(),t,e,n,r)}function Vu(t,e,n,r,i){return Cx(ye(),su(),t,e,n,r,i)}function Cv(t,e){let n=t[e];return n===wn?void 0:n}function Mv(t,e,n,r,i,s){let o=e+n;return Nn(t,o,i)?Jy(t,o+1,s?r.call(s,i):r(i)):Cv(t,o+1)}function Cx(t,e,n,r,i,s,o){let c=e+n;return ev(t,c,i,s)?Jy(t,c+2,o?r.call(o,i,s):r(i,s)):Cv(t,c+2)}function Bu(t,e){let n=nt(),r,i=t+Xt;n.firstCreatePass?(r=Mx(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=cr(r.type,!0)),o,c=Qt(Z);try{let a=_4(!1),u=s();return _4(a),hx(n,ye(),i,u),u}finally{Qt(c)}}function Mx(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function ju(t,e,n){let r=t+Xt,i=ye(),s=YS(i,r);return _x(i,r)?Mv(i,su(),e,s.transform,n,s):s.transform(n)}function _x(t,e){return t[Le].data[e].pure}var T2=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},_v=new T2("19.2.1"),j8=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Uu=(()=>{class t{compileModuleSync(n){return new k8(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Ym(n),s=gy(i.declarations).reduce((o,c)=>{let a=lr(c);return a&&o.push(new vo(a)),o},[]);return new j8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var wx=(()=>{class t{zone=N(Se);changeDetectionScheduler=N(mr);applicationRef=N(S2);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lx=new K("",{factory:()=>!1});function wv({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Se(ie(V({},bv()),{scheduleInRootZone:n})),[{provide:Se,useFactory:t},{provide:vi,multi:!0,useFactory:()=>{let r=N(wx,{optional:!0});return()=>r.initialize()}},{provide:vi,multi:!0,useFactory:()=>{let r=N(bx);return()=>{r.initialize()}}},e===!0?{provide:Vg,useValue:!0}:[],{provide:Bg,useValue:n??Fg}]}function Lv(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=wv({ngZoneFactory:()=>{let i=bv(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&K4("NgZone_CoalesceEvent"),new Se(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Cn([{provide:Lx,useValue:!0},{provide:$4,useValue:!1},r])}function bv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var bx=(()=>{class t{subscription=new Ge;initialized=!1;zone=N(Se);pendingTasks=N(n2);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ex=(()=>{class t{appRef=N(S2);taskService=N(n2);ngZone=N(Se);zonelessEnabled=N($4);tracing=N(W4,{optional:!0});disableScheduling=N(Vg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ge;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(E4):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Bg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof f8||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?cm:jg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(E4+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cm(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ix(){return typeof $localize<"u"&&$localize.locale||N4}var Hu=new K("",{providedIn:"root",factory:()=>N(Hu,fe.Optional|fe.SkipSelf)||Ix()});var U8=new K(""),Sx=new K("");function oo(t){return!t.moduleRef}function Tx(t){let e=oo(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Se);return n.run(()=>{oo(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(b2,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),oo(t)){let s=()=>e.destroy(),o=t.platformInjector.get(U8);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(U8);o.add(s),t.moduleRef.onDestroy(()=>{a4(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return Dx(r,n,()=>{let s=e.get(sv);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Hu,N4);if(ax(o||N4),!e.get(Sx,!0))return oo(t)?e.get(S2):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(oo(t)){let a=e.get(S2);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return zx(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function zx(t,e){let n=t.injector.get(S2);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new H(-403,!1);e.push(t)}function Dx(t,e,n){try{let r=n();return M1(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var l4=null;function Ax(t=[],e){return Ke.create({name:e,providers:[{provide:F4,useValue:"platform"},{provide:U8,useValue:new Set([()=>l4=null])},...t]})}function xx(t=[]){if(l4)return l4;let e=Ax(t);return l4=e,xA(),Nx(e),e}function Nx(t){let e=t.get(mu,null);Ct(t,()=>{e?.forEach(n=>n())})}function $u(){return!1}var P2=(()=>{class t{static __NG_ELEMENT_ID__=Rx}return t})();function Rx(t){return kx(Ht(),ye(),(t&16)===16)}function kx(t,e,n){if(Ti(t)&&!n){let r=Jn(t.index,e);return new gr(r,r)}else if(t.type&175){let r=e[vn];return new gr(r,e)}return null}var H8=class{constructor(){}supports(e){return Xy(e)}create(e){return new $8(e)}},Px=(t,e)=>e,$8=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Px}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<xm(r,i,s)?n:r,c=xm(o,i,s),a=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=c-i,f=a-i;if(u!=f){for(let g=0;g<u;g++){let y=g<s.length?s[g]:s[g]=0,L=y+g;f<=L&&L<u&&(s[g]=y+1)}let p=o.previousIndex;s[p]=f-u}}c!==a&&e(o,c,a)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Xy(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,IA(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new q8(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new R4),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new R4),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},q8=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},G8=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},R4=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new G8,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function xm(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Nm(){return new qu([new H8])}var qu=(()=>{class t{factories;static \u0275prov=G({token:t,providedIn:"root",factory:Nm});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Nm()),deps:[[t,new DS,new Ut]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new H(901,!1)}}return t})();function Ev(t){Oe(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=xx(r),s=[wv({}),{provide:mr,useExisting:Ex},...n||[]],o=new D4({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Tx({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Oe(9)}}function w1(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function bn(t){let e=_e(null);try{return t()}finally{_e(e)}}function an(t,e){let n=mp(t);return e?.equal&&(n[qt].equal=e.equal),n}var Ox=!1,Fx=(()=>{class t extends A4{pendingTasks=N(n2);taskId=null;schedule(n){super.schedule(n),this.taskId===null&&(this.taskId=this.pendingTasks.add(),queueMicrotask(()=>this.flush()))}flush(){try{super.flush()}finally{this.taskId!==null&&(this.pendingTasks.remove(this.taskId),this.taskId=null)}}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})(),W8=class{scheduler;effectFn;zone;injector;unregisterOnDestroy;watcher;constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.zone=r,this.injector=s,this.watcher=_p(c=>this.runEffect(c),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(b2,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.schedule(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Vx(){}function Iv(t,e){!e?.injector&&Lo(Vx);let n=e?.injector??N(Ke),r=e?.manualCleanup!==!0?n.get(Cr):null,i=new W8(n.get(Fx),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(P2,null,{optional:!0});return!s||!(s._lView[se]&8)?i.watcher.notify():(s._lView[s4]??=[]).push(i.watcher.notify),i}var Bx=Ox;var K8=class{[qt];constructor(e){this[qt]=e}destroy(){this[qt].destroy()}};function oa(t,e){if(Bx)return Iv(t,e);!e?.injector&&Lo(oa);let n=e?.injector??N(Ke),r=e?.manualCleanup!==!0?n.get(Cr):null,i,s=n.get(ey,null,{optional:!0}),o=n.get(mr);return s!==null&&!e?.forceRoot?(i=Hx(s.view,o,t),r instanceof b4&&r._lView===s.view&&(r=null)):i=$x(t,n.get(rv),o),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new K8(i)}var Sv=ie(V({},er),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:yo,run(){if(this.dirty=!1,this.hasRun&&!ro(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),e=Jr(this),n=v4(!1);try{this.maybeCleanup(),this.fn(t)}finally{v4(n),no(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),jx=ie(V({},Sv),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){ei(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),Ux=ie(V({},Sv),{consumerMarkedDirty(){this.view[se]|=8192,Eo(this.view),this.notifier.notify(13)},destroy(){ei(this),this.onDestroyFn(),this.maybeCleanup(),this.view[ur]?.delete(this)}});function Hx(t,e,n){let r=Object.create(Ux);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=n,t[ur]??=new Set,t[ur].add(r),r.consumerMarkedDirty(r),r}function $x(t,e,n){let r=Object.create(jx);return r.fn=t,r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.schedule(r),r.notifier.notify(12),r}var Nv=null;function O2(){return Nv}function Rv(t){Nv??=t}var ca=class{};var _t=new K(""),kv=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>N(qx),providedIn:"platform"})}return t})();var qx=(()=>{class t extends kv{_location;_history;_doc=N(_t);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O2().getBaseHref(this._doc)}onPopState(n){let r=O2().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=O2().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Pv(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Tv(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Mr(t){return t&&t[0]!=="?"?`?${t}`:t}var ki=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>N(Ov),providedIn:"root"})}return t})(),Gx=new K(""),Ov=(()=>{class t extends ki{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(_t).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Pv(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Mr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Mr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Mr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(J(kv),J(Gx,8))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ao=(()=>{class t{_subject=new lt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Qx(Tv(zv(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Mr(r))}normalize(n){return t.stripTrailingSlash(Kx(this._basePath,zv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Mr;static joinWithSlash=Pv;static stripTrailingSlash=Tv;static \u0275fac=function(r){return new(r||t)(J(ki))};static \u0275prov=G({token:t,factory:()=>Wx(),providedIn:"root"})}return t})();function Wx(){return new Ao(J(ki))}function Kx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function zv(t){return t.replace(/\/index.html$/,"")}function Qx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function aa(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Gu=/\s+/,Dv=[],Fv=(()=>{class t{_ngEl;_renderer;initialClasses=Dv;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Gu):Dv}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Gu):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Gu).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Z(cn),Z(Ln))};static \u0275dir=Fe({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Wu=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},tn=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Wu(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),Av(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Av(s,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Z(Ai),Z(na),Z(qu))};static \u0275dir=Fe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Av(t,e){t.context.$implicit=e.item}var L1=(()=>{class t{_viewContainer;_context=new Ku;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){xv("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){xv("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Z(Ai),Z(na))};static \u0275dir=Fe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Ku=class{$implicit=null;ngIf=null};function xv(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Nt(e)}'.`)}function Yx(t,e){return new H(2100,!1)}var Qu=class{createSubscription(e,n){return bn(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){bn(()=>e.unsubscribe())}},Yu=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},Zx=new Yu,Xx=new Qu,Vv=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(M1(n))return Zx;if(Pu(n))return Xx;throw Yx(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(Z(P2,16))};static \u0275pipe=Qy({name:"async",type:t,pure:!1})}return t})();var wt=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=k2({type:t});static \u0275inj=z2({})}return t})(),Bv="browser",Jx="server";function Zu(t){return t===Jx}var Ri=class{};var No=class{},ua=class{},_r=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=n.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ju=class{encodeKey(e){return jv(e)}encodeValue(e){return jv(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function eN(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],a=n.get(o)||[];a.push(c),n.set(o,a)}),n}var tN=/%(\d[a-f0-9])/gi,nN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jv(t){return encodeURIComponent(t).replace(tN,(e,n)=>nN[n]??e)}function la(t){return`${t}`}var b1=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Ju,e.fromString){if(e.fromObject)throw new H(2805,!1);this.map=eN(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(la):[la(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(la(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(la(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var e5=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function rN(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Uv(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Hv(t){return typeof Blob<"u"&&t instanceof Blob}function $v(t){return typeof FormData<"u"&&t instanceof FormData}function iN(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var qv="Content-Type",Gv="Accept",Qv="X-Request-URL",Yv="text/plain",Zv="application/json",sN=`${Zv}, ${Yv}, */*`,xo=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let s;if(rN(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new _r,this.context??=new e5,!this.params)this.params=new b1,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),a=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+a+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Uv(this.body)||Hv(this.body)||$v(this.body)||iN(this.body)?this.body:this.body instanceof b1?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$v(this.body)?null:Hv(this.body)?this.body.type||null:Uv(this.body)?null:typeof this.body=="string"?Yv:this.body instanceof b1?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Zv:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,a=e.reportProgress??this.reportProgress,u=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),f)),new t(n,r,o,{params:f,headers:u,context:p,reportProgress:a,responseType:i,withCredentials:c,transferCache:s})}},F2=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(F2||{}),Ro=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new _r,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},t5=class t extends Ro{constructor(e={}){super(e)}type=F2.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},da=class t extends Ro{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=F2.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},fa=class extends Ro{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},oN=200,cN=204;function Xu(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var n5=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof xo)s=n;else{let a;i.headers instanceof _r?a=i.headers:a=new _r(i.headers);let u;i.params&&(i.params instanceof b1?u=i.params:u=new b1({fromObject:i.params})),s=new xo(n,r,i.body!==void 0?i.body:null,{headers:a,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=re(s).pipe(f1(a=>this.handler.handle(a)));if(n instanceof xo||i.observe==="events")return o;let c=o.pipe(Kt(a=>a instanceof da));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(ne(a=>{if(a.body!==null&&!(a.body instanceof ArrayBuffer))throw new H(2806,!1);return a.body}));case"blob":return c.pipe(ne(a=>{if(a.body!==null&&!(a.body instanceof Blob))throw new H(2807,!1);return a.body}));case"text":return c.pipe(ne(a=>{if(a.body!==null&&typeof a.body!="string")throw new H(2808,!1);return a.body}));case"json":default:return c.pipe(ne(a=>a.body))}case"response":return c;default:throw new H(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new b1().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Xu(i,r))}post(n,r,i={}){return this.request("POST",n,Xu(i,r))}put(n,r,i={}){return this.request("PUT",n,Xu(i,r))}static \u0275fac=function(r){return new(r||t)(J(No))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();var aN=new K("");function lN(t,e){return e(t)}function uN(t,e,n){return(r,i)=>Ct(n,()=>e(r,s=>t(s,i)))}var Xv=new K(""),dN=new K(""),fN=new K("",{providedIn:"root",factory:()=>!0});var Wv=(()=>{class t extends No{backend;injector;chain=null;pendingTasks=N(n2);contributeToStability=N(fN);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Xv),...this.injector.get(dN,[])]));this.chain=r.reduceRight((i,s)=>uN(i,s,this.injector),lN)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(sr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(J(ua),J(Rt))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();var hN=/^\)\]\}',?\n/,pN=RegExp(`^${Qv}:`,"m");function mN(t){return"responseURL"in t&&t.responseURL?t.responseURL:pN.test(t.getAllResponseHeaders())?t.getResponseHeader(Qv):null}var Kv=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new H(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Pe(r.\u0275loadImpl()):re(null)).pipe(on(()=>new ae(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((T,z)=>o.setRequestHeader(T,z.join(","))),n.headers.has(Gv)||o.setRequestHeader(Gv,sN),!n.headers.has(qv)){let T=n.detectContentTypeHeader();T!==null&&o.setRequestHeader(qv,T)}if(n.responseType){let T=n.responseType.toLowerCase();o.responseType=T!=="json"?T:"text"}let c=n.serializeBody(),a=null,u=()=>{if(a!==null)return a;let T=o.statusText||"OK",z=new _r(o.getAllResponseHeaders()),F=mN(o)||n.url;return a=new t5({headers:z,status:o.status,statusText:T,url:F}),a},f=()=>{let{headers:T,status:z,statusText:F,url:W}=u(),U=null;z!==cN&&(U=typeof o.response>"u"?o.responseText:o.response),z===0&&(z=U?oN:0);let te=z>=200&&z<300;if(n.responseType==="json"&&typeof U=="string"){let Ae=U;U=U.replace(hN,"");try{U=U!==""?JSON.parse(U):null}catch(pe){U=Ae,te&&(te=!1,U={error:pe,text:U})}}te?(s.next(new da({body:U,headers:T,status:z,statusText:F,url:W||void 0})),s.complete()):s.error(new fa({error:U,headers:T,status:z,statusText:F,url:W||void 0}))},p=T=>{let{url:z}=u(),F=new fa({error:T,status:o.status||0,statusText:o.statusText||"Unknown Error",url:z||void 0});s.error(F)},g=!1,y=T=>{g||(s.next(u()),g=!0);let z={type:F2.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(z.total=T.total),n.responseType==="text"&&o.responseText&&(z.partialText=o.responseText),s.next(z)},L=T=>{let z={type:F2.UploadProgress,loaded:T.loaded};T.lengthComputable&&(z.total=T.total),s.next(z)};return o.addEventListener("load",f),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",y),c!==null&&o.upload&&o.upload.addEventListener("progress",L)),o.send(c),s.next({type:F2.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",f),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",y),c!==null&&o.upload&&o.upload.removeEventListener("progress",L)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||t)(J(Ri))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),Jv=new K(""),gN="XSRF-TOKEN",yN=new K("",{providedIn:"root",factory:()=>gN}),vN="X-XSRF-TOKEN",CN=new K("",{providedIn:"root",factory:()=>vN}),ha=class{},MN=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=aa(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(J(_t),J(x2),J(yN))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function _N(t,e){let n=t.url.toLowerCase();if(!N(Jv)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=N(ha).getToken(),i=N(CN);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function eC(...t){let e=[n5,Kv,Wv,{provide:No,useExisting:Wv},{provide:ua,useFactory:()=>N(aN,{optional:!0})??N(Kv)},{provide:Xv,useValue:_N,multi:!0},{provide:Jv,useValue:!0},{provide:ha,useClass:MN}];for(let n of t)e.push(...n.\u0275providers);return Cn(e)}var i5=class extends ca{supportsDOMEvents=!0},s5=class t extends i5{static makeCurrent(){Rv(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=LN();return n==null?null:bN(n)}resetBaseElement(){ko=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return aa(document.cookie,e)}},ko=null;function LN(){return ko=ko||document.querySelector("base"),ko?ko.getAttribute("href"):null}function bN(t){return new URL(t,document.baseURI).pathname}var EN=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),o5=new K(""),oC=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(J(o5),J(Se))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),ma=class{_doc;constructor(e){this._doc=e}manager},pa="ng-app-id";function tC(t){for(let e of t)e.remove()}function nC(t,e){let n=e.createElement("style");return n.textContent=t,n}function IN(t,e,n,r){let i=t.head?.querySelectorAll(`style[${pa}="${e}"],link[${pa}="${e}"]`);if(i)for(let s of i)s.removeAttribute(pa),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function c5(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var cC=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Zu(s),IN(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,nC);r?.forEach(i=>this.addUsage(i,this.external,c5))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(tC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])tC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,nC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,c5(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(pa,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(J(_t),J(pu),J(gu,8),J(x2))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),r5={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},l5=/%COMP%/g;var aC="%COMP%",SN=`_nghost-${aC}`,TN=`_ngcontent-${aC}`,zN=!0,DN=new K("",{providedIn:"root",factory:()=>zN});function AN(t){return TN.replace(l5,t)}function xN(t){return SN.replace(l5,t)}function lC(t,e){return e.map(n=>n.replace(l5,t))}var rC=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,s,o,c,a,u=null,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=a,this.nonce=u,this.tracingService=f,this.platformIsServer=Zu(c),this.defaultRenderer=new Po(n,o,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===e2.ShadowDom&&(r=ie(V({},r),{encapsulation:e2.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ga?i.applyToHost(n):i instanceof Oo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,a=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case e2.Emulated:s=new ga(a,u,r,this.appId,f,o,c,p,g);break;case e2.ShadowDom:return new a5(a,u,n,r,o,c,this.nonce,p,g);default:s=new Oo(a,u,r,f,o,c,p,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(J(oC),J(cC),J(pu),J(DN),J(_t),J(x2),J(Se),J(gu),J(W4,8))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),Po=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,s){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(r5[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(iC(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(iC(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=r5[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=r5[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(I2.DashCase|I2.Important)?e.style.setProperty(n,r,i&I2.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&I2.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=O2().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);let s=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,n,s)),this.eventManager.addEventListener(e,n,s,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function iC(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var a5=class extends Po{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,s,o,c,a,u){super(e,s,o,a,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=lC(i.id,f);for(let g of f){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=c5(g,s);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Oo=class extends Po{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,s,o,c,a,u){super(e,s,o,c,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=u?lC(u,f):f,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ga=class extends Oo{contentAttr;hostAttr;constructor(e,n,r,i,s,o,c,a,u){let f=i+"-"+r.id;super(e,n,r,s,o,c,a,u,f),this.contentAttr=AN(f),this.hostAttr=xN(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},NN=(()=>{class t extends ma{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||t)(J(_t))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),sC=["alt","control","meta","shift"],RN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},PN=(()=>{class t extends ma{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=t.parseEventName(r),c=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O2().onAndCancel(n,o.domEventName,c,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),sC.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let a={};return a.domEventName=i,a.fullKey=o,a}static matchEventFullKeyCode(n,r){let i=RN[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),sC.forEach(o=>{if(o!==i){let c=kN[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(J(_t))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function uC(t,e){return Ev(V({rootComponent:t},ON(e)))}function ON(t){return{appProviders:[...UN,...t?.providers??[]],platformProviders:jN}}function FN(){s5.makeCurrent()}function VN(){return new b2}function BN(){return Yg(document),document}var jN=[{provide:x2,useValue:Bv},{provide:mu,useValue:FN,multi:!0},{provide:_t,useFactory:BN,deps:[]}];var UN=[{provide:F4,useValue:"root"},{provide:b2,useFactory:VN,deps:[]},{provide:o5,useClass:NN,multi:!0,deps:[_t]},{provide:o5,useClass:PN,multi:!0,deps:[_t]},rC,cC,oC,{provide:Ei,useExisting:rC},{provide:Ri,useClass:EN,deps:[]},[]];var dC=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(J(_t))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var u5=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=J(HN),i},providedIn:"root"})}return t})(),HN=(()=>{class t extends u5{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case On.NONE:return r;case On.HTML:return N2(r,"HTML")?Mn(r):vu(this._doc,String(r)).toString();case On.STYLE:return N2(r,"Style")?Mn(r):r;case On.SCRIPT:if(N2(r,"Script"))return Mn(r);throw new H(5200,!1);case On.URL:return N2(r,"URL")?Mn(r):Y4(String(r));case On.RESOURCE_URL:if(N2(r,"ResourceURL"))return Mn(r);throw new H(5201,!1);default:throw new H(5202,!1)}}bypassSecurityTrustHtml(n){return iy(n)}bypassSecurityTrustStyle(n){return sy(n)}bypassSecurityTrustScript(n){return oy(n)}bypassSecurityTrustUrl(n){return cy(n)}bypassSecurityTrustResourceUrl(n){return ay(n)}static \u0275fac=function(r){return new(r||t)(J(_t))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var de="primary",Xo=Symbol("RouteTitle"),m5=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ji(t){return new m5(t)}function $N(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!i2(t[n],e[n]))return!1;return!0}function i2(t,e){let n=t?g5(t):void 0,r=e?g5(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!MC(t[i],e[i]))return!1;return!0}function g5(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function MC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function _C(t){return t.length>0?t[t.length-1]:null}function I1(t){return Al(t)?t:M1(t)?Pe(Promise.resolve(t)):re(t)}var GN={exact:LC,subset:bC},wC={exact:WN,subset:KN,ignored:()=>!0};function hC(t,e,n){return GN[n.paths](t.root,e.root,n.matrixParams)&&wC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function WN(t,e){return i2(t,e)}function LC(t,e,n){if(!Lr(t.segments,e.segments)||!Ca(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!LC(t.children[r],e.children[r],n))return!1;return!0}function KN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>MC(t[n],e[n]))}function bC(t,e,n){return EC(t,e,e.segments,n)}function EC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Lr(i,n)||e.hasChildren()||!Ca(i,n,r))}else if(t.segments.length===n.length){if(!Lr(t.segments,n)||!Ca(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!bC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Lr(t.segments,i)||!Ca(t.segments,i,r)||!t.children[de]?!1:EC(t.children[de],e,s,r)}}function Ca(t,e,n){return e.every((r,i)=>wC[n](t[i].parameters,r.parameters))}var B2=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ze([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ji(this.queryParams),this._queryParamMap}toString(){return ZN.serialize(this)}},ze=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ma(this)}},wr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ji(this.parameters),this._parameterMap}toString(){return SC(this)}};function QN(t,e){return Lr(t,e)&&t.every((n,r)=>i2(n.parameters,e[r].parameters))}function Lr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function YN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===de&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==de&&(n=n.concat(e(i,r)))}),n}var U5=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>new Ho,providedIn:"root"})}return t})(),Ho=class{parse(e){let n=new v5(e);return new B2(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Fo(e.root,!0)}`,r=eR(e.queryParams),i=typeof e.fragment=="string"?`#${XN(e.fragment)}`:"";return`${n}${r}${i}`}},ZN=new Ho;function Ma(t){return t.segments.map(e=>SC(e)).join("/")}function Fo(t,e){if(!t.hasChildren())return Ma(t);if(e){let n=t.children[de]?Fo(t.children[de],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==de&&r.push(`${i}:${Fo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=YN(t,(r,i)=>i===de?[Fo(t.children[de],!1)]:[`${i}:${Fo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[de]!=null?`${Ma(t)}/${n[0]}`:`${Ma(t)}/(${n.join("//")})`}}function IC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ya(t){return IC(t).replace(/%3B/gi,";")}function XN(t){return encodeURI(t)}function y5(t){return IC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _a(t){return decodeURIComponent(t)}function pC(t){return _a(t.replace(/\+/g,"%20"))}function SC(t){return`${y5(t.path)}${JN(t.parameters)}`}function JN(t){return Object.entries(t).map(([e,n])=>`;${y5(e)}=${y5(n)}`).join("")}function eR(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ya(n)}=${ya(i)}`).join("&"):`${ya(n)}=${ya(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var tR=/^[^\/()?;#]+/;function d5(t){let e=t.match(tR);return e?e[0]:""}var nR=/^[^\/()?;=#]+/;function rR(t){let e=t.match(nR);return e?e[0]:""}var iR=/^[^=?&#]+/;function sR(t){let e=t.match(iR);return e?e[0]:""}var oR=/^[^&#]+/;function cR(t){let e=t.match(oR);return e?e[0]:""}var v5=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[de]=new ze(e,n)),r}parseSegment(){let e=d5(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new wr(_a(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=rR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=d5(this.remaining);i&&(r=i,this.capture(r))}e[_a(n)]=_a(r)}parseQueryParam(e){let n=sR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=cR(this.remaining);o&&(r=o,this.capture(r))}let i=pC(n),s=pC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=d5(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=de);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[de]:new ze([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function TC(t){return t.segments.length>0?new ze([],{[de]:t}):t}function zC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=zC(i);if(r===de&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ze(t.segments,e);return aR(n)}function aR(t){if(t.numberOfChildren===1&&t.children[de]){let e=t.children[de];return new ze(t.segments.concat(e.segments),e.children)}return t}function br(t){return t instanceof B2}function lR(t,e,n=null,r=null){let i=DC(t);return AC(i,e,n,r)}function DC(t){let e;function n(s){let o={};for(let a of s.children){let u=n(a);o[a.outlet]=u}let c=new ze(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=TC(r);return e??i}function AC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return f5(i,i,i,n,r);let s=uR(e);if(s.toRoot())return f5(i,i,new ze([],{}),n,r);let o=dR(s,i,t),c=o.processChildren?Bo(o.segmentGroup,o.index,s.commands):NC(o.segmentGroup,o.index,s.commands);return f5(i,o.segmentGroup,c,n,r)}function wa(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function $o(t){return typeof t=="object"&&t!=null&&t.outlets}function f5(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([a,u])=>{s[a]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let o;t===e?o=n:o=xC(t,e,n);let c=TC(zC(o));return new B2(c,s,i)}function xC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=xC(s,e,n)}),new ze(t.segments,r)}var La=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&wa(r[0]))throw new H(4003,!1);let i=r.find($o);if(i&&i!==_C(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uR(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new La(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([a,u])=>{c[a]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new La(n,e,r)}var Fi=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function dR(t,e,n){if(t.isAbsolute)return new Fi(e,!0,0);if(!n)return new Fi(e,!1,NaN);if(n.parent===null)return new Fi(n,!0,0);let r=wa(t.commands[0])?0:1,i=n.segments.length-1+r;return fR(n,i,t.numberOfDoubleDots)}function fR(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new Fi(r,!1,i-s)}function hR(t){return $o(t[0])?t[0].outlets:{[de]:t}}function NC(t,e,n){if(t??=new ze([],{}),t.segments.length===0&&t.hasChildren())return Bo(t,e,n);let r=pR(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ze(t.segments.slice(0,r.pathIndex),{});return s.children[de]=new ze(t.segments.slice(r.pathIndex),t.children),Bo(s,0,i)}else return r.match&&i.length===0?new ze(t.segments,{}):r.match&&!t.hasChildren()?C5(t,e,n):r.match?Bo(t,0,i):C5(t,e,n)}function Bo(t,e,n){if(n.length===0)return new ze(t.segments,{});{let r=hR(n),i={};if(Object.keys(r).some(s=>s!==de)&&t.children[de]&&t.numberOfChildren===1&&t.children[de].segments.length===0){let s=Bo(t.children[de],e,n);return new ze(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=NC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ze(t.segments,i)}}function pR(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if($o(c))break;let a=`${c}`,u=r<n.length-1?n[r+1]:null;if(i>0&&a===void 0)break;if(a&&u&&typeof u=="object"&&u.outlets===void 0){if(!gC(a,u,o))return s;r+=2}else{if(!gC(a,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function C5(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if($o(s)){let a=mR(s.outlets);return new ze(r,a)}if(i===0&&wa(n[0])){let a=t.segments[e];r.push(new wr(a.path,mC(n[0]))),i++;continue}let o=$o(s)?s.outlets[de]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&wa(c)?(r.push(new wr(o,mC(c))),i+=2):(r.push(new wr(o,{})),i++)}return new ze(r,{})}function mR(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=C5(new ze([],{}),0,r))}),e}function mC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function gC(t,e,n){return t==n.path&&i2(e,n.parameters)}var jo="imperative",Lt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Lt||{}),En=class{id;url;constructor(e,n){this.id=e,this.url=n}},qo=class extends En{type=Lt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},E1=class extends En{urlAfterRedirects;type=Lt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},un=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(un||{}),M5=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(M5||{}),V2=class extends En{reason;code;type=Lt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Er=class extends En{reason;code;type=Lt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Go=class extends En{error;target;type=Lt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ba=class extends En{urlAfterRedirects;state;type=Lt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_5=class extends En{urlAfterRedirects;state;type=Lt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},w5=class extends En{urlAfterRedirects;state;shouldActivate;type=Lt.GuardsCheckEnd;constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},L5=class extends En{urlAfterRedirects;state;type=Lt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},b5=class extends En{urlAfterRedirects;state;type=Lt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},E5=class{route;type=Lt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},I5=class{route;type=Lt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},S5=class{snapshot;type=Lt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},T5=class{snapshot;type=Lt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},z5=class{snapshot;type=Lt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},D5=class{snapshot;type=Lt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Wo=class{},Ui=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function gR(t,e){return t.providers&&!t._injector&&(t._injector=Ru(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Vn(t){return t.outlet||de}function yR(t,e){let n=t.filter(r=>Vn(r)===e);return n.push(...t.filter(r=>Vn(r)!==e)),n}function Jo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var A5=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Jo(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Aa(this.rootInjector)}},Aa=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new A5(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(J(Rt))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ea=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=x5(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=x5(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=N5(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return N5(e,this._root).map(n=>n.value)}};function x5(t,e){if(t===e.value)return e;for(let n of e.children){let r=x5(t,n);if(r)return r}return null}function N5(t,e){if(t===e.value)return[e];for(let n of e.children){let r=N5(t,n);if(r.length)return r.unshift(e),r}return[]}var ln=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Oi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ia=class extends Ea{snapshot;constructor(e,n){super(e),this.snapshot=n,H5(this,e)}toString(){return this.snapshot.toString()}};function RC(t){let e=vR(t),n=new vt([new wr("",{})]),r=new vt({}),i=new vt({}),s=new vt({}),o=new vt(""),c=new Bn(n,r,s,o,i,de,t,e.root);return c.snapshot=e.root,new Ia(new ln(c,[]),e)}function vR(t){let e={},n={},r={},i="",s=new Vi([],e,r,i,n,de,t,null,{});return new Ta("",new ln(s,[]))}var Bn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,s,o,c,a){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(ne(u=>u[Xo]))??re(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>ji(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>ji(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sa(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),i?.data),t._resolvedData)}:r={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},i&&PC(i)&&(r.resolve[Xo]=i.title),r}var Vi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Xo]}constructor(e,n,r,i,s,o,c,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=a,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ji(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ji(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ta=class extends Ea{url;constructor(e,n){super(n),this.url=e,H5(this,n)}toString(){return kC(this._root)}};function H5(t,e){e.value._routerState=t,e.children.forEach(n=>H5(t,n))}function kC(t){let e=t.children.length>0?` { ${t.children.map(kC).join(", ")} } `:"";return`${t.value}${e}`}function h5(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,i2(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),i2(e.params,n.params)||t.paramsSubject.next(n.params),qN(e.url,n.url)||t.urlSubject.next(n.url),i2(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function R5(t,e){let n=i2(t.params,e.params)&&QN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||R5(t.parent,e.parent))}function PC(t){return typeof t.title=="string"||t.title===null}var CR=new K(""),$5=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=de;activateEvents=new We;deactivateEvents=new We;attachEvents=new We;detachEvents=new We;routerOutletData=zi(void 0);parentContexts=N(Aa);location=N(Ai);changeDetector=N(P2);inputBinder=N(q5,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new k5(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:a,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Fe({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[kn]})}return t})(),k5=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Bn?this.route:e===Aa?this.childContexts:e===CR?this.outletData:this.parent.get(e,n)}},q5=new K("");function MR(t,e,n){let r=Ko(t,e._root,n?n._root:void 0);return new Ia(r,e)}function Ko(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=_R(t,e,n);return new ln(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Ko(t,c)),o}}let r=wR(e.value),i=e.children.map(s=>Ko(t,s));return new ln(r,i)}}function _R(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ko(t,r,i);return Ko(t,r)})}function wR(t){return new Bn(new vt(t.url),new vt(t.params),new vt(t.queryParams),new vt(t.fragment),new vt(t.data),t.outlet,t.component,t)}var Qo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},OC="ngNavigationCancelingError";function za(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=br(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=FC(!1,un.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function FC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[OC]=!0,n.cancellationCode=e,n}function LR(t){return VC(t)&&br(t.url)}function VC(t){return!!t&&t[OC]}var bR=(t,e,n,r)=>ne(i=>(new P5(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),P5=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),h5(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Oi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Oi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Oi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Oi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new D5(s.value.snapshot))}),e.children.length&&this.forwardEvent(new T5(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(h5(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),h5(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Da=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bi=class{component;route;constructor(e,n){this.component=e,this.route=n}};function ER(t,e,n){let r=t._root,i=e?e._root:null;return Vo(r,i,n,[r.value])}function IR(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function $i(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Vm(t)?t:e.get(t):r}function Vo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Oi(e);return t.children.forEach(o=>{SR(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Uo(c,n.getContext(o),i)),i}function SR(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let a=TR(o,s,s.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new Da(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Vo(t,e,c?c.children:null,r,i):Vo(t,e,n,r,i),a&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Bi(c.outlet.component,o))}else o&&Uo(e,c,i),i.canActivateChecks.push(new Da(r)),s.component?Vo(t,null,c?c.children:null,r,i):Vo(t,null,n,r,i);return i}function TR(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Lr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Lr(t.url,e.url)||!i2(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!R5(t,e)||!i2(t.queryParams,e.queryParams);case"paramsChange":default:return!R5(t,e)}}function Uo(t,e,n){let r=Oi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Uo(o,e.children.getContext(s),n):Uo(o,null,n):Uo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Bi(e.outlet.component,i)):n.canDeactivateChecks.push(new Bi(null,i)):n.canDeactivateChecks.push(new Bi(null,i))}function ec(t){return typeof t=="function"}function zR(t){return typeof t=="boolean"}function DR(t){return t&&ec(t.canLoad)}function AR(t){return t&&ec(t.canActivate)}function xR(t){return t&&ec(t.canActivateChild)}function NR(t){return t&&ec(t.canDeactivate)}function RR(t){return t&&ec(t.canMatch)}function BC(t){return t instanceof M2||t?.name==="EmptyError"}var va=Symbol("INITIAL_VALUE");function Hi(){return on(t=>W0(t.map(e=>e.pipe(_2(1),Z0(va)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===va)return va;if(n===!1||kR(n))return n}return!0}),Kt(e=>e!==va),_2(1)))}function kR(t){return br(t)||t instanceof Qo}function PR(t,e){return ut(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?re(ie(V({},n),{guardsResult:!0})):OR(o,r,i,t).pipe(ut(c=>c&&zR(c)?FR(r,s,t,e):re(c)),ne(c=>ie(V({},n),{guardsResult:c})))})}function OR(t,e,n,r){return Pe(t).pipe(ut(i=>HR(i.component,i.route,n,e,r)),w2(i=>i!==!0,!0))}function FR(t,e,n,r){return Pe(e).pipe(f1(i=>fi(BR(i.route.parent,r),VR(i.route,r),UR(t,i.path,n),jR(t,i.route,n))),w2(i=>i!==!0,!0))}function VR(t,e){return t!==null&&e&&e(new z5(t)),re(!0)}function BR(t,e){return t!==null&&e&&e(new S5(t)),re(!0)}function jR(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return re(!0);let i=r.map(s=>K0(()=>{let o=Jo(e)??n,c=$i(s,o),a=AR(c)?c.canActivate(e,t):Ct(o,()=>c(e,t));return I1(a).pipe(w2())}));return re(i).pipe(Hi())}function UR(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>IR(o)).filter(o=>o!==null).map(o=>K0(()=>{let c=o.guards.map(a=>{let u=Jo(o.node)??n,f=$i(a,u),p=xR(f)?f.canActivateChild(r,t):Ct(u,()=>f(r,t));return I1(p).pipe(w2())});return re(c).pipe(Hi())}));return re(s).pipe(Hi())}function HR(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return re(!0);let o=s.map(c=>{let a=Jo(e)??i,u=$i(c,a),f=NR(u)?u.canDeactivate(t,e,n,r):Ct(a,()=>u(t,e,n,r));return I1(f).pipe(w2())});return re(o).pipe(Hi())}function $R(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return re(!0);let s=i.map(o=>{let c=$i(o,t),a=DR(c)?c.canLoad(e,n):Ct(t,()=>c(e,n));return I1(a)});return re(s).pipe(Hi(),jC(r))}function jC(t){return T0(dt(e=>{if(typeof e!="boolean")throw za(t,e)}),ne(e=>e===!0))}function qR(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return re(!0);let s=i.map(o=>{let c=$i(o,t),a=RR(c)?c.canMatch(e,n):Ct(t,()=>c(e,n));return I1(a)});return re(s).pipe(Hi(),jC(r))}var Yo=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Zo=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Pi(t){return di(new Yo(t))}function GR(t){return di(new H(4e3,!1))}function WR(t){return di(FC(!1,un.GuardRejected))}var O5=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return re(r);if(i.numberOfChildren>1||!i.children[de])return GR(`${e.redirectTo}`);i=i.children[de]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let c=n,{queryParams:a,fragment:u,routeConfig:f,url:p,outlet:g,params:y,data:L,title:T}=i,z=Ct(s,()=>c({params:y,data:L,queryParams:a,fragment:u,routeConfig:f,url:p,outlet:g,title:T}));if(z instanceof B2)throw new Zo(z);n=z}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Zo(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new B2(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,a])=>{o[c]=this.createSegmentGroup(e,a,r,i)}),new ze(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},F5={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function KR(t,e,n,r,i){let s=UC(t,e,n);return s.matched?(r=gR(e,r),qR(r,e,n,i).pipe(ne(o=>o===!0?s:V({},F5)))):re(s)}function UC(t,e,n){if(e.path==="**")return QR(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},F5):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$N)(n,t,e);if(!i)return V({},F5);let s={};Object.entries(i.posParams??{}).forEach(([c,a])=>{s[c]=a.path});let o=i.consumed.length>0?V(V({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function QR(t){return{matched:!0,parameters:t.length>0?_C(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function yC(t,e,n,r){return n.length>0&&XR(t,n,r)?{segmentGroup:new ze(e,ZR(r,new ze(n,t.children))),slicedSegments:[]}:n.length===0&&JR(t,n,r)?{segmentGroup:new ze(t.segments,YR(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ze(t.segments,t.children),slicedSegments:n}}function YR(t,e,n,r){let i={};for(let s of n)if(xa(t,e,s)&&!r[Vn(s)]){let o=new ze([],{});i[Vn(s)]=o}return V(V({},r),i)}function ZR(t,e){let n={};n[de]=e;for(let r of t)if(r.path===""&&Vn(r)!==de){let i=new ze([],{});n[Vn(r)]=i}return n}function XR(t,e,n){return n.some(r=>xa(t,e,r)&&Vn(r)!==de)}function JR(t,e,n){return n.some(r=>xa(t,e,r))}function xa(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ek(t,e,n){return e.length===0&&!t.children[n]}var V5=class{};function tk(t,e,n,r,i,s,o="emptyOnly"){return new B5(t,e,n,r,i,o,s).recognize()}var nk=31,B5=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new O5(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=yC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:n,rootSnapshot:r})=>{let i=new ln(r,n),s=new Ta("",i),o=lR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Vi([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),de,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,de,n).pipe(ne(r=>({children:r,rootSnapshot:n})),d1(r=>{if(r instanceof Zo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Yo?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(ne(o=>o instanceof ln?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Pe(s).pipe(f1(o=>{let c=r.children[o],a=yR(n,o);return this.processSegmentGroup(e,a,c,o,i)}),Y0((o,c)=>(o.push(...c),o)),h1(null),Rl(),ut(o=>{if(o===null)return Pi(r);let c=HC(o);return rk(c),re(c)}))}processSegment(e,n,r,i,s,o,c){return Pe(n).pipe(f1(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o,c).pipe(d1(u=>{if(u instanceof Yo)return re(null);throw u}))),w2(a=>!!a),d1(a=>{if(BC(a))return ek(r,i,s)?re(new V5):Pi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,c,a){return Vn(r)!==o&&(o===de||!xa(i,s,r))?Pi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,a):Pi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,c){let{matched:a,parameters:u,consumedSegments:f,positionalParamSegments:p,remainingSegments:g}=UC(n,i,s);if(!a)return Pi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nk&&(this.allowRedirects=!1));let y=new Vi(s,u,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,vC(i),Vn(i),i.component??i._loadedComponent??null,i,CC(i)),L=Sa(y,c,this.paramsInheritanceStrategy);y.params=Object.freeze(L.params),y.data=Object.freeze(L.data);let T=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,T).pipe(ut(z=>this.processSegment(e,r,n,z.concat(g),o,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let c=KR(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(on(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(on(({routes:u})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=a,L=new Vi(g,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,vC(r),Vn(r),r.component??r._loadedComponent??null,r,CC(r)),T=Sa(L,o,this.paramsInheritanceStrategy);L.params=Object.freeze(T.params),L.data=Object.freeze(T.data);let{segmentGroup:z,slicedSegments:F}=yC(n,g,y,u);if(F.length===0&&z.hasChildren())return this.processChildren(f,u,z,L).pipe(ne(U=>new ln(L,U)));if(u.length===0&&F.length===0)return re(new ln(L,[]));let W=Vn(r)===s;return this.processSegment(f,u,z,F,W?de:s,!0,L).pipe(ne(U=>new ln(L,U instanceof ln?[U]:[])))}))):Pi(n)))}getChildConfig(e,n,r){return n.children?re({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?re({routes:n._loadedRoutes,injector:n._loadedInjector}):$R(e,n,r,this.urlSerializer).pipe(ut(i=>i?this.configLoader.loadChildren(e,n).pipe(dt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):WR(n))):re({routes:[],injector:e})}};function rk(t){t.sort((e,n)=>e.value.outlet===de?-1:n.value.outlet===de?1:e.value.outlet.localeCompare(n.value.outlet))}function ik(t){let e=t.value.routeConfig;return e&&e.path===""}function HC(t){let e=[],n=new Set;for(let r of t){if(!ik(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=HC(r.children);e.push(new ln(r.value,i))}return e.filter(r=>!n.has(r))}function vC(t){return t.data||{}}function CC(t){return t.resolve||{}}function sk(t,e,n,r,i,s){return ut(o=>tk(t,e,n,r,o.extractedUrl,i,s).pipe(ne(({state:c,tree:a})=>ie(V({},o),{targetSnapshot:c,urlAfterRedirects:a}))))}function ok(t,e){return ut(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return re(n);let s=new Set(i.map(a=>a.route)),o=new Set;for(let a of s)if(!o.has(a))for(let u of $C(a))o.add(u);let c=0;return Pe(o).pipe(f1(a=>s.has(a)?ck(a,r,t,e):(a.data=Sa(a,a.parent,t).resolve,re(void 0))),dt(()=>c++),hi(1),ut(a=>c===o.size?re(n):Gt))})}function $C(t){let e=t.children.map(n=>$C(n)).flat();return[t,...e]}function ck(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!PC(i)&&(s[Xo]=i.title),ak(s,t,e,r).pipe(ne(o=>(t._resolvedData=o,t.data=Sa(t,t.parent,n).resolve,null)))}function ak(t,e,n,r){let i=g5(t);if(i.length===0)return re({});let s={};return Pe(i).pipe(ut(o=>lk(t[o],e,n,r).pipe(w2(),dt(c=>{if(c instanceof Qo)throw za(new Ho,c);s[o]=c}))),hi(1),ne(()=>s),d1(o=>BC(o)?Gt:di(o)))}function lk(t,e,n,r){let i=Jo(e)??r,s=$i(t,i),o=s.resolve?s.resolve(e,n):Ct(i,()=>s(e,n));return I1(o)}function p5(t){return on(e=>{let n=t(e);return n?Pe(n).pipe(ne(()=>e)):re(e)})}var qC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===de);return r}getResolvedTitleForRoute(n){return n.data[Xo]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>N(uk),providedIn:"root"})}return t})(),uk=(()=>{class t extends qC{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(J(dC))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),G5=new K("",{providedIn:"root",factory:()=>({})}),dk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=xe({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ke(0,"router-outlet")},dependencies:[$5],encapsulation:2})}return t})();function W5(t){let e=t.children&&t.children.map(W5),n=e?ie(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==de&&(n.component=dk),n}var K5=new K(""),fk=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(Uu);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return re(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=I1(n.loadComponent()).pipe(ne(GC),dt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),sr(()=>{this.componentLoaders.delete(n)})),i=new ci(r,()=>new lt).pipe(oi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return re({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=hk(r,this.compiler,n,this.onLoadEndListener).pipe(sr(()=>{this.childrenLoaders.delete(r)})),o=new ci(s,()=>new lt).pipe(oi());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hk(t,e,n,r){return I1(t.loadChildren()).pipe(ne(GC),ut(i=>i instanceof Co||Array.isArray(i)?re(i):Pe(e.compileModuleAsync(i))),ne(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(K5,[],{optional:!0,self:!0}).flat()),{routes:o.map(W5),injector:s}}))}function pk(t){return t&&typeof t=="object"&&"default"in t}function GC(t){return pk(t)?t.default:t}var Q5=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>N(mk),providedIn:"root"})}return t})(),mk=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gk=new K("");var yk=new K(""),vk=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new lt;transitionAbortSubject=new lt;configLoader=N(fk);environmentInjector=N(Rt);destroyRef=N(Cr);urlSerializer=N(U5);rootContexts=N(Aa);location=N(Ao);inputBindingEnabled=N(q5,{optional:!0})!==null;titleStrategy=N(qC);options=N(G5,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Q5);createViewTransition=N(gk,{optional:!0});navigationErrorHandler=N(yk,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>re(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new E5(i)),r=i=>this.events.next(new I5(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ie(V(V({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new vt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:jo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kt(s=>s.id!==0),ne(s=>ie(V({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),on(s=>{let o=!1,c=!1;return re(s).pipe(on(a=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",un.SupersededByNewNavigation),Gt;this.currentTransition=s,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?ie(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=a.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&f!=="reload"){let p="";return this.events.next(new Er(a.id,this.urlSerializer.serialize(a.rawUrl),p,M5.IgnoredSameUrlNavigation)),a.resolve(!1),Gt}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return re(a).pipe(on(p=>{let g=this.transitions?.getValue();return this.events.next(new qo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Gt:Promise.resolve(p)}),sk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),dt(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ie(V({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new ba(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:L,extras:T}=a,z=new qo(p,this.urlSerializer.serialize(g),y,L);this.events.next(z);let F=RC(this.rootComponentType).snapshot;return this.currentTransition=s=ie(V({},a),{targetSnapshot:F,urlAfterRedirects:g,extras:ie(V({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,re(s)}else{let p="";return this.events.next(new Er(a.id,this.urlSerializer.serialize(a.extractedUrl),p,M5.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Gt}}),dt(a=>{let u=new _5(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),ne(a=>(this.currentTransition=s=ie(V({},a),{guards:ER(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),s)),PR(this.environmentInjector,a=>this.events.next(a)),dt(a=>{if(s.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw za(this.urlSerializer,a.guardsResult);let u=new w5(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),Kt(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",un.GuardRejected),!1)),p5(a=>{if(a.guards.canActivateChecks.length)return re(a).pipe(dt(u=>{let f=new L5(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),on(u=>{let f=!1;return re(u).pipe(ok(this.paramsInheritanceStrategy,this.environmentInjector),dt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",un.NoDataFromResolver)}}))}),dt(u=>{let f=new b5(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),p5(a=>{let u=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(dt(g=>{f.component=g}),ne(()=>{})));for(let g of f.children)p.push(...u(g));return p};return W0(u(a.targetSnapshot.root)).pipe(h1(null),_2(1))}),p5(()=>this.afterPreactivation()),on(()=>{let{currentSnapshot:a,targetSnapshot:u}=s,f=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return f?Pe(f).pipe(ne(()=>s)):re(s)}),ne(a=>{let u=MR(n.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=s=ie(V({},a),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),dt(()=>{this.events.next(new Wo)}),bR(this.rootContexts,n.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),_2(1),dt({next:a=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new E1(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),kl(this.transitionAbortSubject.pipe(dt(a=>{throw a}))),sr(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",un.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),d1(a=>{if(this.destroyed)return s.resolve(!1),Gt;if(c=!0,VC(a))this.events.next(new V2(s.id,this.urlSerializer.serialize(s.extractedUrl),a.message,a.cancellationCode)),LR(a)?this.events.next(new Ui(a.url,a.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Go(s.id,this.urlSerializer.serialize(s.extractedUrl),a,s.targetSnapshot??void 0);try{let f=Ct(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(f instanceof Qo){let{message:p,cancellationCode:g}=za(this.urlSerializer,f);this.events.next(new V2(s.id,this.urlSerializer.serialize(s.extractedUrl),p,g)),this.events.next(new Ui(f.redirectTo,f.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return Gt}))}))}cancelNavigationTransition(n,r,i){let s=new V2(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ck(t){return t!==jo}var Mk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>N(_k),providedIn:"root"})}return t})(),j5=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},_k=(()=>{class t extends j5{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Pn(t)))(i||t)}})();static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>N(wk),providedIn:"root"})}return t})(),wk=(()=>{class t extends WC{location=N(Ao);urlSerializer=N(U5);options=N(G5,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=N(Q5);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new B2;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=RC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof qo)this.stateMemento=this.createStateMemento();else if(n instanceof Er)this.rawUrlTree=r.initialUrl;else if(n instanceof ba){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Wo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof V2&&(n.code===un.GuardRejected||n.code===un.NoDataFromResolver)?this.restoreHistory(r):n instanceof Go?this.restoreHistory(r,!0):n instanceof E1&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof B2?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=V(V({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=V(V({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Pn(t)))(i||t)}})();static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Lk(t,e){t.events.pipe(Kt(n=>n instanceof E1||n instanceof V2||n instanceof Go||n instanceof Er),ne(n=>n instanceof E1||n instanceof Er?0:(n instanceof V2?n.code===un.Redirect||n.code===un.SupersededByNewNavigation:!1)?2:1),Kt(n=>n!==2),_2(1)).subscribe(()=>{e()})}var bk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ek={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(ku);stateManager=N(WC);options=N(G5,{optional:!0})||{};pendingTasks=N(n2);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(vk);urlSerializer=N(U5);location=N(Ao);urlHandlingStrategy=N(Q5);_events=new lt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(Mk);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(K5,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(q5,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ge;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof V2&&r.code!==un.Redirect&&r.code!==un.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof E1)this.navigated=!0;else if(r instanceof Ui){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Ck(i.source)},o);this.scheduleNavigation(c,jo,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Sk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),jo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let a=V({},i);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(s.state=a)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(W5),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:a}=r,u=a?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=V(V({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=DC(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return AC(p,n,f,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=br(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,jo,null,r)}navigate(n,r={skipLocationChange:!1}){return Ik(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=V({},bk):r===!1?i=V({},Ek):i=r,br(n))return hC(this.currentUrlTree,n,i);let s=this.parseUrl(n);return hC(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,a,u;o?(c=o.resolve,a=o.reject,u=o.promise):u=new Promise((p,g)=>{c=p,a=g});let f=this.pendingTasks.add();return Lk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ik(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new H(4008,!1)}function Sk(t){return!(t instanceof Wo)&&!(t instanceof Ui)}var Na=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new lt;constructor(n,r,i,s,o,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c;let a=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=a==="a"||a==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof E1&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(br(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let a={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,a),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:my(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:br(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(Z(jn),Z(Bn),du("tabindex"),Z(Ln),Z(cn),Z(ki))};static \u0275dir=Fe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&le("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&_1("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",w1],skipLocationChange:[2,"skipLocationChange","skipLocationChange",w1],replaceUrl:[2,"replaceUrl","replaceUrl",w1],routerLink:"routerLink"},features:[kn]})}return t})();var Tk=new K("");function KC(t,...e){return Cn([{provide:K5,multi:!0,useValue:t},[],{provide:Bn,useFactory:zk,deps:[jn]},{provide:ra,multi:!0,useFactory:Dk},e.map(n=>n.\u0275providers)])}function zk(t){return t.routerState.root}function Dk(){let t=N(Ke);return e=>{let n=t.get(S2);if(e!==n.components[0])return;let r=t.get(jn),i=t.get(Ak);t.get(xk)===1&&r.initialNavigation(),t.get(Nk,null,fe.Optional)?.setUpPreloading(),t.get(Tk,null,fe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ak=new K("",{factory:()=>new lt}),xk=new K("",{providedIn:"root",factory:()=>1});var Nk=new K("");var QC=()=>{};var ZC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Rk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ra={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,g=(c&15)<<2|u>>6,y=u&63;a||(y=64,o||(g=64)),r.push(n[f],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Rk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||u==null||p==null)throw new Z5;let g=s<<2|c>>4;if(r.push(g),u!==64){let y=c<<4&240|u>>2;if(r.push(y),p!==64){let L=u<<6&192|p;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Z5=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},kk=function(t){let e=ZC(t);return Ra.encodeByteArray(e,!0)},tc=function(t){return kk(t).replace(/\./g,"")},ka=function(t){try{return Ra.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function XC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Pk=()=>XC().__FIREBASE_DEFAULTS__,Ok=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Fk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ka(t[1]);return e&&JSON.parse(e)},Pa=()=>{try{return QC()||Pk()||Ok()||Fk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JC=t=>{var e,n;return(n=(e=Pa())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Oa=t=>{let e=JC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},J5=()=>{var t;return(t=Pa())===null||t===void 0?void 0:t.config},eM=t=>{var e;return(e=Pa())===null||e===void 0?void 0:e[`_${t}`]};var Ir=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Fa(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tc(JSON.stringify(n)),tc(JSON.stringify(o)),""].join(".")}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function Vk(){var t;let e=(t=Pa())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sM(){return!Vk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nc(){try{return typeof indexedDB=="object"}catch{return!1}}function oM(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Bk="FirebaseError",nn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Bk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Un.prototype.create)}},Un=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jk(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new nn(i,c,r)}};function jk(t,e){return t.replace(Uk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Uk=/\{\$([^}]+)}/g;function Sr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(YC(s)&&YC(o)){if(!Sr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function YC(t){return t!==null&&typeof t=="object"}function e7(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cM(t,e){let n=new X5(t,e);return n.subscribe.bind(n)}var X5=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Hk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Y5),i.error===void 0&&(i.error=Y5),i.complete===void 0&&(i.complete=Y5);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Hk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Y5(){}var QJ=4*60*60*1e3;function ht(t){return t&&t._delegate?t._delegate:t}var bt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Tr="[DEFAULT]";var t7=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ir;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qk(e))try{this.getOrInitializeService({instanceIdentifier:Tr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Tr){return this.instances.has(e)}getOptions(e=Tr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$k(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Tr){return this.component?this.component.multipleInstances?e:Tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $k(t){return t===Tr?void 0:t}function qk(t){return t.instantiationMode==="EAGER"}var Va=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new t7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Gk=[],me=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(me||{}),Wk={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},Kk=me.INFO,Qk={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},Yk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Qk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},s2=class{constructor(e){this.name=e,this._logLevel=Kk,this._logHandler=Yk,this._userLogHandler=null,Gk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}};var Zk=(t,e)=>e.some(n=>t instanceof n),aM,lM;function Xk(){return aM||(aM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jk(){return lM||(lM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uM=new WeakMap,r7=new WeakMap,dM=new WeakMap,n7=new WeakMap,s7=new WeakMap;function eP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(o2(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uM.set(n,t)}).catch(()=>{}),s7.set(e,t),e}function tP(t){if(r7.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});r7.set(t,e)}var i7={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return r7.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return o2(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fM(t){i7=t(i7)}function nP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ba(this),e,...n);return dM.set(r,e.sort?e.sort():[e]),o2(r)}:Jk().includes(t)?function(...e){return t.apply(Ba(this),e),o2(uM.get(this))}:function(...e){return o2(t.apply(Ba(this),e))}}function rP(t){return typeof t=="function"?nP(t):(t instanceof IDBTransaction&&tP(t),Zk(t,Xk())?new Proxy(t,i7):t)}function o2(t){if(t instanceof IDBRequest)return eP(t);if(n7.has(t))return n7.get(t);let e=rP(t);return e!==t&&(n7.set(t,e),s7.set(e,t)),e}var Ba=t=>s7.get(t);function pM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=o2(o);return r&&o.addEventListener("upgradeneeded",a=>{r(o2(o.result),a.oldVersion,a.newVersion,o2(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),c.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var iP=["get","getKey","getAll","getAllKeys","count"],sP=["put","add","delete","clear"],o7=new Map;function hM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(o7.get(e))return o7.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=sP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iP.includes(n)))return;let s=function(o,...c){return I(this,null,function*(){let a=this.transaction(o,i?"readwrite":"readonly"),u=a.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&a.done]))[0]})};return o7.set(e,s),s}fM(t=>ie(V({},t),{get:(e,n,r)=>hM(e,n)||t.get(e,n,r),has:(e,n)=>!!hM(e,n)||t.has(e,n)}));var a7=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function oP(t){let e=t.getComponent();return e?.type==="VERSION"}var l7="@firebase/app",mM="0.11.2";var j2=new s2("@firebase/app"),cP="@firebase/app-compat",aP="@firebase/analytics-compat",lP="@firebase/analytics",uP="@firebase/app-check-compat",dP="@firebase/app-check",fP="@firebase/auth",hP="@firebase/auth-compat",pP="@firebase/database",mP="@firebase/data-connect",gP="@firebase/database-compat",yP="@firebase/functions",vP="@firebase/functions-compat",CP="@firebase/installations",MP="@firebase/installations-compat",_P="@firebase/messaging",wP="@firebase/messaging-compat",LP="@firebase/performance",bP="@firebase/performance-compat",EP="@firebase/remote-config",IP="@firebase/remote-config-compat",SP="@firebase/storage",TP="@firebase/storage-compat",zP="@firebase/firestore",DP="@firebase/vertexai",AP="@firebase/firestore-compat",xP="firebase",NP="11.4.0";var u7="[DEFAULT]",RP={[l7]:"fire-core",[cP]:"fire-core-compat",[lP]:"fire-analytics",[aP]:"fire-analytics-compat",[dP]:"fire-app-check",[uP]:"fire-app-check-compat",[fP]:"fire-auth",[hP]:"fire-auth-compat",[pP]:"fire-rtdb",[mP]:"fire-data-connect",[gP]:"fire-rtdb-compat",[yP]:"fire-fn",[vP]:"fire-fn-compat",[CP]:"fire-iid",[MP]:"fire-iid-compat",[_P]:"fire-fcm",[wP]:"fire-fcm-compat",[LP]:"fire-perf",[bP]:"fire-perf-compat",[EP]:"fire-rc",[IP]:"fire-rc-compat",[SP]:"fire-gcs",[TP]:"fire-gcs-compat",[zP]:"fire-fst",[AP]:"fire-fst-compat",[DP]:"fire-vertex","fire-js":"fire-js",[xP]:"fire-js-all"};var rc=new Map,kP=new Map,d7=new Map;function gM(t,e){try{t.container.addComponent(e)}catch(n){j2.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fn(t){let e=t.name;if(d7.has(e))return j2.debug(`There were multiple attempts to register component ${e}.`),!1;d7.set(e,t);for(let n of rc.values())gM(n,t);for(let n of kP.values())gM(n,t);return!0}function qi(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}var PP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},S1=new Un("app","Firebase",PP);var f7=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw S1.create("app-deleted",{appName:this._name})}};var T1=NP;function m7(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:u7,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw S1.create("bad-app-name",{appName:String(i)});if(n||(n=J5()),!n)throw S1.create("no-options");let s=rc.get(i);if(s){if(Sr(n,s.options)&&Sr(r,s.config))return s;throw S1.create("duplicate-app",{appName:i})}let o=new Va(i);for(let a of d7.values())o.addComponent(a);let c=new f7(n,r,o);return rc.set(i,c),c}function z1(t=u7){let e=rc.get(t);if(!e&&t===u7&&J5())return m7();if(!e)throw S1.create("no-app",{appName:t});return e}function ja(){return Array.from(rc.values())}function Ve(t,e,n){var r;let i=(r=RP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),j2.warn(c.join(" "));return}fn(new bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var OP="firebase-heartbeat-database",FP=1,ic="firebase-heartbeat-store",c7=null;function MM(){return c7||(c7=pM(OP,FP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ic)}catch(n){console.warn(n)}}}}).catch(t=>{throw S1.create("idb-open",{originalErrorMessage:t.message})})),c7}function VP(t){return I(this,null,function*(){try{let n=(yield MM()).transaction(ic),r=yield n.objectStore(ic).get(_M(t));return yield n.done,r}catch(e){if(e instanceof nn)j2.warn(e.message);else{let n=S1.create("idb-get",{originalErrorMessage:e?.message});j2.warn(n.message)}}})}function yM(t,e){return I(this,null,function*(){try{let r=(yield MM()).transaction(ic,"readwrite");yield r.objectStore(ic).put(e,_M(t)),yield r.done}catch(n){if(n instanceof nn)j2.warn(n.message);else{let r=S1.create("idb-set",{originalErrorMessage:n?.message});j2.warn(r.message)}}})}function _M(t){return`${t.name}!${t.options.appId}`}var BP=1024,jP=30,h7=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new p7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>jP){let o=HP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){j2.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=vM(),{heartbeatsToSend:r,unsentEntries:i}=UP(this._heartbeatsCache.heartbeats),s=tc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return j2.warn(n),""}})}};function vM(){return new Date().toISOString().substring(0,10)}function UP(t,e=BP){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var p7=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return nc()?oM().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield VP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return yM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function CM(t){return tc(JSON.stringify({version:2,heartbeats:t})).length}function HP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function $P(t){fn(new bt("platform-logger",e=>new a7(e),"PRIVATE")),fn(new bt("heartbeat",e=>new h7(e),"PRIVATE")),Ve(l7,mM,t),Ve(l7,mM,"esm2017"),Ve("fire-js","")}$P("");var qP="firebase",GP="11.4.0";Ve(qP,GP,"app");function g7(t){t===void 0&&(Lo(g7),t=N(Ke));let e=t.get(q4);return n=>new ae(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let c=n.subscribe({next:a=>{r.next(a),o()},complete:()=>{r.complete(),o()},error:a=>{r.error(a),o()}});return c.add(()=>{r.unsubscribe(),o()}),c})}var U2=new T2("ANGULARFIRE2_VERSION");function Wi(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var D1=(t,e)=>{let n=e?[e]:ja(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Gi=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Gi||{}),wM=$u()&&typeof Zone<"u"?Gi.WARN:Gi.SILENT;var Ua=class{zone;delegate;constructor(e,n=zl){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,n,r)}},H2=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=N(Se);this.outsideAngular=n.runOutsideAngular(()=>new Ua(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Ua(typeof Zone>"u"?void 0:Zone.current,Tl))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),LM=!1;function WP(t,e){!LM&&(wM>Gi.SILENT||$u())&&(LM=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),wM>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function KP(t){let e=N(Se,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function zr(t){let e=N(Se,{optional:!0});return e?e.run(()=>t()):t()}var QP=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Ct(n,()=>zr(()=>t.apply(void 0,r)))),Et=(t,e,n)=>(n||=e?Gi.WARN:Gi.VERBOSE,function(){let r,i=arguments,s,o,c;try{s=N(H2),o=N(q4),c=N(Rt)}catch{return WP(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=zr(()=>o.add())),i[u]=QP(i[u],r,c));let a=KP(()=>t.apply(this,i));return e?a instanceof ae?a.pipe(u1(s.outsideAngular),l1(s.insideAngular),g7(c)):a instanceof Promise?zr(()=>new Promise((u,f)=>{o.run(()=>a).then(p=>Ct(c,()=>zr(()=>u(p))),p=>Ct(c,()=>zr(()=>f(p))))})):typeof a=="function"&&r?function(){return setTimeout(r,0),a.apply(this,arguments)}:zr(()=>a):a instanceof ae?a.pipe(u1(s.outsideAngular),l1(s.insideAngular)):zr(()=>a)});var $2=class{constructor(e){return e}},Dr=class{constructor(){return ja()}};function YP(t){return t&&t.length===1?t[0]:new $2(z1())}var y7=new K("angularfire2._apps"),ZP={provide:$2,useFactory:YP,deps:[[new Ut,y7]]},XP={provide:Dr,deps:[[new Ut,y7]]};function JP(t){return(e,n)=>{let r=n.get(x2);Ve("angularfire",U2.full,"core"),Ve("angularfire",U2.full,"app"),Ve("angular",_v.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new $2(i)}}function bM(t,...e){return Cn([ZP,XP,{provide:y7,useFactory:JP(t),multi:!0,deps:[Se,Ke,H2,...e]}])}var EM=Et(m7,!0);var eO=new Map,tO={activated:!1,tokenObservers:[]},nO={initialized:!1,enabled:!1};function $n(t){return eO.get(t)||Object.assign({},tO)}function zM(){return nO}var rO="https://content-firebaseappcheck.googleapis.com/v1";var iO="exchangeDebugToken",IM={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Xee=24*60*60*1e3;var M7=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return I(this,null,function*(){this.stop();try{this.pending=new Ir,this.pending.promise.catch(n=>{}),yield sO(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ir,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function sO(t){return new Promise(e=>{setTimeout(e,t)})}var oO={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},A1=new Un("appCheck","AppCheck",oO);function DM(t){if(!$n(t).activated)throw A1.create("use-before-activation",{appName:t.name})}function AM(r,i){return I(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let y=yield o.getHeartbeatsHeader();y&&(s["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:s},a;try{a=yield fetch(t,c)}catch(y){throw A1.create("fetch-network-error",{originalErrorMessage:y?.message})}if(a.status!==200)throw A1.create("fetch-status-error",{httpStatus:a.status});let u;try{u=yield a.json()}catch(y){throw A1.create("fetch-parse-error",{originalErrorMessage:y?.message})}let f=u.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw A1.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(f[1])*1e3,g=Date.now();return{token:u.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function xM(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${rO}/projects/${n}/apps/${r}:${iO}?key=${i}`,body:{debug_token:e}}}var cO="firebase-app-check-database",aO=1,_7="firebase-app-check-store";var Ha=null;function lO(){return Ha||(Ha=new Promise((t,e)=>{try{let n=indexedDB.open(cO,aO);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(A1.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(_7,{keyPath:"compositeKey"})}}}catch(n){e(A1.create("storage-open",{originalErrorMessage:n?.message}))}}),Ha)}function uO(t,e){return dO(fO(t),e)}function dO(t,e){return I(this,null,function*(){let r=(yield lO()).transaction(_7,"readwrite"),s=r.objectStore(_7).put({compositeKey:t,value:e});return new Promise((o,c)=>{s.onsuccess=a=>{o()},r.onerror=a=>{var u;c(A1.create("storage-set",{originalErrorMessage:(u=a.target.error)===null||u===void 0?void 0:u.message}))}})})}function fO(t){return`${t.options.appId}-${t.name}`}var sc=new s2("@firebase/app-check");function v7(t,e){return nc()?uO(t,e).catch(n=>{sc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function NM(){return zM().enabled}function RM(){return I(this,null,function*(){let t=zM();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var hO={error:"UNKNOWN_ERROR"};function pO(t){return Ra.encodeString(JSON.stringify(t),!1)}function w7(t,e=!1){return I(this,null,function*(){let n=t.app;DM(n);let r=$n(n),i=r.token,s;if(i&&!oc(i)&&(r.token=void 0,i=void 0),!i){let a=yield r.cachedTokenPromise;a&&(oc(a)?i=a:yield v7(n,void 0))}if(!e&&i&&oc(i))return{token:i.token};let o=!1;if(NM())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=AM(xM(n,yield RM()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let a=yield r.exchangeTokenPromise;return yield v7(n,a),r.token=a,{token:a.token}}catch(a){return a.code==="appCheck/throttled"?sc.warn(a.message):sc.error(a),C7(a)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield $n(n).exchangeTokenPromise}catch(a){a.code==="appCheck/throttled"?sc.warn(a.message):sc.error(a),s=a}let c;return i?s?oc(i)?c={token:i.token,internalError:s}:c=C7(s):(c={token:i.token},r.token=i,yield v7(n,i)):c=C7(s),o&&vO(n,c),c})}function mO(t){return I(this,null,function*(){let e=t.app;DM(e);let{provider:n}=$n(e);if(NM()){let r=yield RM(),{token:i}=yield AM(xM(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function gO(t,e,n,r){let{app:i}=t,s=$n(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&oc(s.token)){let c=s.token;Promise.resolve().then(()=>{n({token:c.token}),SM(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>SM(t))}function kM(t,e){let n=$n(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function SM(t){let{app:e}=t,n=$n(e),r=n.tokenRefresher;r||(r=yO(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function yO(t){let{app:e}=t;return new M7(()=>I(this,null,function*(){let n=$n(e),r;if(n.token?r=yield w7(t,!0):r=yield w7(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=$n(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},IM.RETRIAL_MIN_WAIT,IM.RETRIAL_MAX_WAIT)}function vO(t,e){let n=$n(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function oc(t){return t.expireTimeMillis-Date.now()>0}function C7(t){return{token:pO(hO),error:t}}var L7=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=$n(this.app);for(let n of e)kM(this.app,n.next);return Promise.resolve()}};function CO(t,e){return new L7(t,e)}function MO(t){return{getToken:e=>w7(t,e),getLimitedUseToken:()=>mO(t),addTokenListener:e=>gO(t,"INTERNAL",e),removeTokenListener:e=>kM(t.app,e)}}var _O="@firebase/app-check",wO="0.8.12";var LO="app-check",TM="app-check-internal";function bO(){fn(new bt(LO,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return CO(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(TM).initialize()})),fn(new bt(TM,t=>{let e=t.getProvider("app-check").getImmediate();return MO(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ve(_O,wO)}bO();var EO="app-check";var Ki=class{constructor(){return D1(EO)}};var IO=["localhost","0.0.0.0","127.0.0.1"],dte=typeof window<"u"&&IO.includes(window.location.hostname);function HM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $M=HM,qM=new Un("auth","Firebase",HM());var Wa=new s2("@firebase/auth");function TO(t,...e){Wa.logLevel<=me.WARN&&Wa.warn(`Auth (${T1}): ${t}`,...e)}function qa(t,...e){Wa.logLevel<=me.ERROR&&Wa.error(`Auth (${T1}): ${t}`,...e)}function PM(t,...e){throw k7(t,...e)}function R7(t,...e){return k7(t,...e)}function GM(t,e,n){let r=Object.assign(Object.assign({},$M()),{[e]:n});return new Un("auth","Firebase",r).create(e,{appName:t.name})}function Ga(t){return GM(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function k7(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qM.create(t,...e)}function Ie(t,e,...n){if(!t)throw k7(e,...n)}function cc(t){let e="INTERNAL ASSERTION FAILED: "+t;throw qa(e),new Error(e)}function Ka(t,e){t||cc(e)}function zO(){return OM()==="http:"||OM()==="https:"}function OM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function DO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zO()||rM()||"connection"in navigator)?navigator.onLine:!0}function AO(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var xr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ka(n>e,"Short delay should be less than long delay!"),this.isMobile=tM()||iM()}get(){return DO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function xO(t,e){Ka(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Qa=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var NO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var RO=new xr(3e4,6e4);function WM(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ja(s,o,c,a){return I(this,arguments,function*(t,e,n,r,i={}){return KM(t,i,()=>I(this,null,function*(){let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});let p=e7(Object.assign({key:t.config.apiKey},f)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:g},u);return nM()||(y.referrerPolicy="no-referrer"),Qa.fetch()(QM(t,t.config.apiHost,n,p),y)}))})}function KM(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},NO),e);try{let i=new I7(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw $a(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[a,u]=c.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw $a(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw $a(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw $a(t,"user-disabled",o);let f=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw GM(t,f,u);PM(t,f)}}catch(i){if(i instanceof nn)throw i;PM(t,"network-request-failed",{message:String(i)})}})}function QM(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?xO(t.config,i):`${t.config.apiScheme}://${i}`}var I7=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(R7(this.auth,"network-request-failed")),RO.get())})}};function $a(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=R7(t,e,r);return i.customData._tokenResponse=n,i}function kO(t,e){return I(this,null,function*(){return Ja(t,"POST","/v1/accounts:delete",e)})}function YM(t,e){return I(this,null,function*(){return Ja(t,"POST","/v1/accounts:lookup",e)})}function ac(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function P7(t,e=!1){return I(this,null,function*(){let n=ht(t),r=yield n.getIdToken(e),i=ZM(r);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ac(b7(i.auth_time)),issuedAtTime:ac(b7(i.iat)),expirationTime:ac(b7(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function b7(t){return Number(t)*1e3}function ZM(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qa("JWT malformed, contained fewer than 3 sections"),null;try{let i=ka(n);return i?JSON.parse(i):(qa("Failed to decode base64 JWT payload"),null)}catch(i){return qa("Caught error parsing JWT payload as JSON",i?.toString()),null}}function FM(t){let e=ZM(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function S7(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof nn&&PO(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function PO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var T7=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var uc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ac(this.lastLoginAt),this.creationTime=ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ya(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield S7(t,YM(n,{idToken:r}));Ie(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?XM(s.providerUserInfo):[],c=OO(t.providerData,o),a=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!c?.length,f=a?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new uc(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function O7(t){return I(this,null,function*(){let e=ht(t);yield Ya(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function OO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XM(t){return t.map(e=>{var{providerId:n}=e,r=Dl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function FO(t,e){return I(this,null,function*(){let n=yield KM(t,{},()=>I(this,null,function*(){let r=e7({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=QM(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Qa.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function VO(t,e){return I(this,null,function*(){return Ja(t,"POST","/v2/accounts:revokeToken",WM(t,e))})}var lc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");let n=FM(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield FO(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return cc("not implemented")}};function x1(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var dc=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Dl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield S7(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return P7(this,e)}reload(){return O7(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ya(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Hn(this.auth.app))return Promise.reject(Ga(this.auth));let e=yield this.getIdToken();return yield S7(this,kO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,a,u,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,L=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(c=n.tenantId)!==null&&c!==void 0?c:void 0,z=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,F=(u=n.createdAt)!==null&&u!==void 0?u:void 0,W=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:U,emailVerified:te,isAnonymous:Ae,providerData:pe,stsTokenManager:w}=n;Ie(U&&w,e,"internal-error");let v=lc.fromJSON(this.name,w);Ie(typeof U=="string",e,"internal-error"),x1(p,e.name),x1(g,e.name),Ie(typeof te=="boolean",e,"internal-error"),Ie(typeof Ae=="boolean",e,"internal-error"),x1(y,e.name),x1(L,e.name),x1(T,e.name),x1(z,e.name),x1(F,e.name),x1(W,e.name);let M=new t({uid:U,auth:e,email:g,emailVerified:te,displayName:p,isAnonymous:Ae,photoURL:L,phoneNumber:y,tenantId:T,stsTokenManager:v,createdAt:F,lastLoginAt:W});return pe&&Array.isArray(pe)&&(M.providerData=pe.map(_=>Object.assign({},_))),z&&(M._redirectEventId=z),M}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new lc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ya(s),s})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];Ie(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?XM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new lc;c.updateFromIdToken(r);let a=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new uc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(a,u),a})}};var VM=new Map;function Ar(t){Ka(t instanceof Function,"Expected a class definition");let e=VM.get(t);return e?(Ka(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VM.set(t,e),e)}var BO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),z7=BO;function E7(t,e,n){return`firebase:${t}:${e}:${n}`}var Za=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=E7(this.userKey,i.apiKey,s),this.fullPersistenceKey=E7("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?dc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(Ar(z7),e,r);let i=(yield Promise.all(n.map(u=>I(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Ar(z7),o=E7(r,e.config.apiKey,e.name),c=null;for(let u of n)try{let f=yield u._get(o);if(f){let p=dc._fromJSON(e,f);u!==s&&(c=p),s=u;break}}catch{}let a=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new t(s,e,r):(s=a[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(u=>I(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function BM(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($O(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GO(e))return"Blackberry";if(WO(e))return"Webos";if(UO(e))return"Safari";if((e.includes("chrome/")||HO(e))&&!e.includes("edge/"))return"Chrome";if(qO(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function jO(t=dn()){return/firefox\//i.test(t)}function UO(t=dn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HO(t=dn()){return/crios\//i.test(t)}function $O(t=dn()){return/iemobile/i.test(t)}function qO(t=dn()){return/android/i.test(t)}function GO(t=dn()){return/blackberry/i.test(t)}function WO(t=dn()){return/webos/i.test(t)}function JM(t,e=[]){let n;switch(t){case"Browser":n=BM(dn());break;case"Worker":n=`${BM(dn())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${T1}/${r}`}var D7=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let a=e(s);o(a)}catch(a){c(a)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function KO(n){return I(this,arguments,function*(t,e={}){return Ja(t,"GET","/v2/passwordPolicy",WM(t,e))})}var QO=6,A7=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:QO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(c=a.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),a}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var x7=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xa(this),this.idTokenSubscription=new Xa(this),this.beforeStateQueue=new D7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Za.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield YM(this,{idToken:e}),r=yield dc._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(Hn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,a=yield this.tryRedirectSignIn(e);(!o||o===c)&&a?.user&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Ya(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=AO()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Hn(this.app))return Promise.reject(Ga(this));let n=e?ht(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Hn(this.app)?Promise.reject(Ga(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Hn(this.app)?Promise.reject(Ga(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(Ar(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield KO(this),n=new A7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Un("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield VO(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ar(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=yield Za.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let a=e.addObserver(n,r,i);return()=>{o=!0,a()}}else{let a=e.addObserver(n);return()=>{o=!0,a()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&TO(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function YO(t){return ht(t)}var Xa=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=cM(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ZO={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XO(t){ZO=t}function JO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function eF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ar);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var Lte=JO("rcb"),bte=new xr(3e4,6e4);var Ete=new xr(2e3,1e4);var Ite=10*60*1e3;var Ste=new xr(3e4,6e4);var Tte=new xr(5e3,15e3);var zte=encodeURIComponent("fac");var jM="@firebase/auth",UM="1.9.1";var N7=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function tF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nF(t){fn(new bt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let a={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JM(t)},u=new x7(r,i,s,a);return eF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fn(new bt("auth-internal",e=>{let n=YO(e.getProvider("auth").getImmediate());return(r=>new N7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(jM,UM,tF(t)),Ve(jM,UM,"esm2017")}var rF=5*60,Dte=eM("authIdTokenMaxAge")||rF;function iF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}XO({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=R7("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",iF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nF("Browser");var nV="auth";var Qi=class{constructor(){return D1(nV)}};var e_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t_={};var q2,F7;(function(){var t;function e(w,v){function M(){}M.prototype=v.prototype,w.D=v.prototype,w.prototype=new M,w.prototype.constructor=w,w.C=function(_,b,S){for(var C=Array(arguments.length-2),y2=2;y2<arguments.length;y2++)C[y2-2]=arguments[y2];return v.prototype[b].apply(_,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,M){M||(M=0);var _=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)_[b]=v.charCodeAt(M++)|v.charCodeAt(M++)<<8|v.charCodeAt(M++)<<16|v.charCodeAt(M++)<<24;else for(b=0;16>b;++b)_[b]=v[M++]|v[M++]<<8|v[M++]<<16|v[M++]<<24;v=w.g[0],M=w.g[1],b=w.g[2];var S=w.g[3],C=v+(S^M&(b^S))+_[0]+3614090360&4294967295;v=M+(C<<7&4294967295|C>>>25),C=S+(b^v&(M^b))+_[1]+3905402710&4294967295,S=v+(C<<12&4294967295|C>>>20),C=b+(M^S&(v^M))+_[2]+606105819&4294967295,b=S+(C<<17&4294967295|C>>>15),C=M+(v^b&(S^v))+_[3]+3250441966&4294967295,M=b+(C<<22&4294967295|C>>>10),C=v+(S^M&(b^S))+_[4]+4118548399&4294967295,v=M+(C<<7&4294967295|C>>>25),C=S+(b^v&(M^b))+_[5]+1200080426&4294967295,S=v+(C<<12&4294967295|C>>>20),C=b+(M^S&(v^M))+_[6]+2821735955&4294967295,b=S+(C<<17&4294967295|C>>>15),C=M+(v^b&(S^v))+_[7]+4249261313&4294967295,M=b+(C<<22&4294967295|C>>>10),C=v+(S^M&(b^S))+_[8]+1770035416&4294967295,v=M+(C<<7&4294967295|C>>>25),C=S+(b^v&(M^b))+_[9]+2336552879&4294967295,S=v+(C<<12&4294967295|C>>>20),C=b+(M^S&(v^M))+_[10]+4294925233&4294967295,b=S+(C<<17&4294967295|C>>>15),C=M+(v^b&(S^v))+_[11]+2304563134&4294967295,M=b+(C<<22&4294967295|C>>>10),C=v+(S^M&(b^S))+_[12]+1804603682&4294967295,v=M+(C<<7&4294967295|C>>>25),C=S+(b^v&(M^b))+_[13]+4254626195&4294967295,S=v+(C<<12&4294967295|C>>>20),C=b+(M^S&(v^M))+_[14]+2792965006&4294967295,b=S+(C<<17&4294967295|C>>>15),C=M+(v^b&(S^v))+_[15]+1236535329&4294967295,M=b+(C<<22&4294967295|C>>>10),C=v+(b^S&(M^b))+_[1]+4129170786&4294967295,v=M+(C<<5&4294967295|C>>>27),C=S+(M^b&(v^M))+_[6]+3225465664&4294967295,S=v+(C<<9&4294967295|C>>>23),C=b+(v^M&(S^v))+_[11]+643717713&4294967295,b=S+(C<<14&4294967295|C>>>18),C=M+(S^v&(b^S))+_[0]+3921069994&4294967295,M=b+(C<<20&4294967295|C>>>12),C=v+(b^S&(M^b))+_[5]+3593408605&4294967295,v=M+(C<<5&4294967295|C>>>27),C=S+(M^b&(v^M))+_[10]+38016083&4294967295,S=v+(C<<9&4294967295|C>>>23),C=b+(v^M&(S^v))+_[15]+3634488961&4294967295,b=S+(C<<14&4294967295|C>>>18),C=M+(S^v&(b^S))+_[4]+3889429448&4294967295,M=b+(C<<20&4294967295|C>>>12),C=v+(b^S&(M^b))+_[9]+568446438&4294967295,v=M+(C<<5&4294967295|C>>>27),C=S+(M^b&(v^M))+_[14]+3275163606&4294967295,S=v+(C<<9&4294967295|C>>>23),C=b+(v^M&(S^v))+_[3]+4107603335&4294967295,b=S+(C<<14&4294967295|C>>>18),C=M+(S^v&(b^S))+_[8]+1163531501&4294967295,M=b+(C<<20&4294967295|C>>>12),C=v+(b^S&(M^b))+_[13]+2850285829&4294967295,v=M+(C<<5&4294967295|C>>>27),C=S+(M^b&(v^M))+_[2]+4243563512&4294967295,S=v+(C<<9&4294967295|C>>>23),C=b+(v^M&(S^v))+_[7]+1735328473&4294967295,b=S+(C<<14&4294967295|C>>>18),C=M+(S^v&(b^S))+_[12]+2368359562&4294967295,M=b+(C<<20&4294967295|C>>>12),C=v+(M^b^S)+_[5]+4294588738&4294967295,v=M+(C<<4&4294967295|C>>>28),C=S+(v^M^b)+_[8]+2272392833&4294967295,S=v+(C<<11&4294967295|C>>>21),C=b+(S^v^M)+_[11]+1839030562&4294967295,b=S+(C<<16&4294967295|C>>>16),C=M+(b^S^v)+_[14]+4259657740&4294967295,M=b+(C<<23&4294967295|C>>>9),C=v+(M^b^S)+_[1]+2763975236&4294967295,v=M+(C<<4&4294967295|C>>>28),C=S+(v^M^b)+_[4]+1272893353&4294967295,S=v+(C<<11&4294967295|C>>>21),C=b+(S^v^M)+_[7]+4139469664&4294967295,b=S+(C<<16&4294967295|C>>>16),C=M+(b^S^v)+_[10]+3200236656&4294967295,M=b+(C<<23&4294967295|C>>>9),C=v+(M^b^S)+_[13]+681279174&4294967295,v=M+(C<<4&4294967295|C>>>28),C=S+(v^M^b)+_[0]+3936430074&4294967295,S=v+(C<<11&4294967295|C>>>21),C=b+(S^v^M)+_[3]+3572445317&4294967295,b=S+(C<<16&4294967295|C>>>16),C=M+(b^S^v)+_[6]+76029189&4294967295,M=b+(C<<23&4294967295|C>>>9),C=v+(M^b^S)+_[9]+3654602809&4294967295,v=M+(C<<4&4294967295|C>>>28),C=S+(v^M^b)+_[12]+3873151461&4294967295,S=v+(C<<11&4294967295|C>>>21),C=b+(S^v^M)+_[15]+530742520&4294967295,b=S+(C<<16&4294967295|C>>>16),C=M+(b^S^v)+_[2]+3299628645&4294967295,M=b+(C<<23&4294967295|C>>>9),C=v+(b^(M|~S))+_[0]+4096336452&4294967295,v=M+(C<<6&4294967295|C>>>26),C=S+(M^(v|~b))+_[7]+1126891415&4294967295,S=v+(C<<10&4294967295|C>>>22),C=b+(v^(S|~M))+_[14]+2878612391&4294967295,b=S+(C<<15&4294967295|C>>>17),C=M+(S^(b|~v))+_[5]+4237533241&4294967295,M=b+(C<<21&4294967295|C>>>11),C=v+(b^(M|~S))+_[12]+1700485571&4294967295,v=M+(C<<6&4294967295|C>>>26),C=S+(M^(v|~b))+_[3]+2399980690&4294967295,S=v+(C<<10&4294967295|C>>>22),C=b+(v^(S|~M))+_[10]+4293915773&4294967295,b=S+(C<<15&4294967295|C>>>17),C=M+(S^(b|~v))+_[1]+2240044497&4294967295,M=b+(C<<21&4294967295|C>>>11),C=v+(b^(M|~S))+_[8]+1873313359&4294967295,v=M+(C<<6&4294967295|C>>>26),C=S+(M^(v|~b))+_[15]+4264355552&4294967295,S=v+(C<<10&4294967295|C>>>22),C=b+(v^(S|~M))+_[6]+2734768916&4294967295,b=S+(C<<15&4294967295|C>>>17),C=M+(S^(b|~v))+_[13]+1309151649&4294967295,M=b+(C<<21&4294967295|C>>>11),C=v+(b^(M|~S))+_[4]+4149444226&4294967295,v=M+(C<<6&4294967295|C>>>26),C=S+(M^(v|~b))+_[11]+3174756917&4294967295,S=v+(C<<10&4294967295|C>>>22),C=b+(v^(S|~M))+_[2]+718787259&4294967295,b=S+(C<<15&4294967295|C>>>17),C=M+(S^(b|~v))+_[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(b+(C<<21&4294967295|C>>>11))&4294967295,w.g[2]=w.g[2]+b&4294967295,w.g[3]=w.g[3]+S&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var M=v-this.blockSize,_=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=M;)i(this,w,S),S+=this.blockSize;if(typeof w=="string"){for(;S<v;)if(_[b++]=w.charCodeAt(S++),b==this.blockSize){i(this,_),b=0;break}}else for(;S<v;)if(_[b++]=w[S++],b==this.blockSize){i(this,_),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var M=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=M&255,M/=256;for(this.u(w),w=Array(16),v=M=0;4>v;++v)for(var _=0;32>_;_+=8)w[M++]=this.g[v]>>>_&255;return w};function s(w,v){var M=c;return Object.prototype.hasOwnProperty.call(M,w)?M[w]:M[w]=v(w)}function o(w,v){this.h=v;for(var M=[],_=!0,b=w.length-1;0<=b;b--){var S=w[b]|0;_&&S==v||(M[b]=S,_=!1)}this.g=M}var c={};function a(w){return-128<=w&&128>w?s(w,function(v){return new o([v|0],0>v?-1:0)}):new o([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return z(u(-w));for(var v=[],M=1,_=0;w>=M;_++)v[_]=w/M|0,M*=4294967296;return new o(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return z(f(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=u(Math.pow(v,8)),_=p,b=0;b<w.length;b+=8){var S=Math.min(8,w.length-b),C=parseInt(w.substring(b,b+S),v);8>S?(S=u(Math.pow(v,S)),_=_.j(S).add(u(C))):(_=_.j(M),_=_.add(u(C)))}return _}var p=a(0),g=a(1),y=a(16777216);t=o.prototype,t.m=function(){if(T(this))return-z(this).m();for(var w=0,v=1,M=0;M<this.g.length;M++){var _=this.i(M);w+=(0<=_?_:4294967296+_)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(L(this))return"0";if(T(this))return"-"+z(this).toString(w);for(var v=u(Math.pow(w,6)),M=this,_="";;){var b=te(M,v).g;M=F(M,b.j(v));var S=((0<M.g.length?M.g[0]:M.h)>>>0).toString(w);if(M=b,L(M))return S+_;for(;6>S.length;)S="0"+S;_=S+_}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function L(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function T(w){return w.h==-1}t.l=function(w){return w=F(this,w),T(w)?-1:L(w)?0:1};function z(w){for(var v=w.g.length,M=[],_=0;_<v;_++)M[_]=~w.g[_];return new o(M,~w.h).add(g)}t.abs=function(){return T(this)?z(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),M=[],_=0,b=0;b<=v;b++){var S=_+(this.i(b)&65535)+(w.i(b)&65535),C=(S>>>16)+(this.i(b)>>>16)+(w.i(b)>>>16);_=C>>>16,S&=65535,C&=65535,M[b]=C<<16|S}return new o(M,M[M.length-1]&-2147483648?-1:0)};function F(w,v){return w.add(z(v))}t.j=function(w){if(L(this)||L(w))return p;if(T(this))return T(w)?z(this).j(z(w)):z(z(this).j(w));if(T(w))return z(this.j(z(w)));if(0>this.l(y)&&0>w.l(y))return u(this.m()*w.m());for(var v=this.g.length+w.g.length,M=[],_=0;_<2*v;_++)M[_]=0;for(_=0;_<this.g.length;_++)for(var b=0;b<w.g.length;b++){var S=this.i(_)>>>16,C=this.i(_)&65535,y2=w.i(b)>>>16,ks=w.i(b)&65535;M[2*_+2*b]+=C*ks,W(M,2*_+2*b),M[2*_+2*b+1]+=S*ks,W(M,2*_+2*b+1),M[2*_+2*b+1]+=C*y2,W(M,2*_+2*b+1),M[2*_+2*b+2]+=S*y2,W(M,2*_+2*b+2)}for(_=0;_<v;_++)M[_]=M[2*_+1]<<16|M[2*_];for(_=v;_<2*v;_++)M[_]=0;return new o(M,0)};function W(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function U(w,v){this.g=w,this.h=v}function te(w,v){if(L(v))throw Error("division by zero");if(L(w))return new U(p,p);if(T(w))return v=te(z(w),v),new U(z(v.g),z(v.h));if(T(v))return v=te(w,z(v)),new U(z(v.g),v.h);if(30<w.g.length){if(T(w)||T(v))throw Error("slowDivide_ only works with positive integers.");for(var M=g,_=v;0>=_.l(w);)M=Ae(M),_=Ae(_);var b=pe(M,1),S=pe(_,1);for(_=pe(_,2),M=pe(M,2);!L(_);){var C=S.add(_);0>=C.l(w)&&(b=b.add(M),S=C),_=pe(_,1),M=pe(M,1)}return v=F(w,b.j(v)),new U(b,v)}for(b=p;0<=w.l(v);){for(M=Math.max(1,Math.floor(w.m()/v.m())),_=Math.ceil(Math.log(M)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),S=u(M),C=S.j(v);T(C)||0<C.l(w);)M-=_,S=u(M),C=S.j(v);L(S)&&(S=g),b=b.add(S),w=F(w,C)}return new U(b,w)}t.A=function(w){return te(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),M=[],_=0;_<v;_++)M[_]=this.i(_)&w.i(_);return new o(M,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),M=[],_=0;_<v;_++)M[_]=this.i(_)|w.i(_);return new o(M,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),M=[],_=0;_<v;_++)M[_]=this.i(_)^w.i(_);return new o(M,this.h^w.h)};function Ae(w){for(var v=w.g.length+1,M=[],_=0;_<v;_++)M[_]=w.i(_)<<1|w.i(_-1)>>>31;return new o(M,w.h)}function pe(w,v){var M=v>>5;v%=32;for(var _=w.g.length-M,b=[],S=0;S<_;S++)b[S]=0<v?w.i(S+M)>>>v|w.i(S+M+1)<<32-v:w.i(S+M);return new o(b,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,F7=t_.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,q2=t_.Integer=o}).apply(typeof e_<"u"?e_:typeof self<"u"?self:typeof window<"u"?window:{});var e3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G2={};var V7,rV,Yi,B7,fc,t3,j7,U7,H7;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,h){return l==Array.prototype||l==Object.prototype||(l[d]=h.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof e3=="object"&&e3];for(var d=0;d<l.length;++d){var h=l[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var h=r;l=l.split(".");for(var m=0;m<l.length-1;m++){var E=l[m];if(!(E in h))break e;h=h[E]}l=l[l.length-1],m=h[l],d=d(m),d!=m&&d!=null&&e(h,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var h=0,m=!1,E={next:function(){if(!m&&h<l.length){var D=h++;return{value:d(D,l[D]),done:!1}}return m=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function a(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function f(l,d,h){return l.call.apply(l.bind,arguments)}function p(l,d,h){if(!l)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,m),l.apply(d,E)}}return function(){return l.apply(d,arguments)}}function g(l,d,h){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function y(l,d){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),l.apply(this,m)}}function L(l,d){function h(){}h.prototype=d.prototype,l.aa=d.prototype,l.prototype=new h,l.prototype.constructor=l,l.Qb=function(m,E,D){for(var j=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)j[Ne-2]=arguments[Ne];return d.prototype[E].apply(m,j)}}function T(l){let d=l.length;if(0<d){let h=Array(d);for(let m=0;m<d;m++)h[m]=l[m];return h}return[]}function z(l,d){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(a(m)){let E=l.length||0,D=m.length||0;l.length=E+D;for(let j=0;j<D;j++)l[E+j]=m[j]}else l.push(m)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(l){return/^[\s\xa0]*$/.test(l)}function U(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function te(l){return te[" "](l),l}te[" "]=function(){};var Ae=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function pe(l,d,h){for(let m in l)d.call(h,l[m],m,l)}function w(l,d){for(let h in l)d.call(void 0,l[h],h,l)}function v(l){let d={};for(let h in l)d[h]=l[h];return d}let M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(l,d){let h,m;for(let E=1;E<arguments.length;E++){m=arguments[E];for(h in m)l[h]=m[h];for(let D=0;D<M.length;D++)h=M[D],Object.prototype.hasOwnProperty.call(m,h)&&(l[h]=m[h])}}function b(l){var d=1;l=l.split(":");let h=[];for(;0<d&&l.length;)h.push(l.shift()),d--;return l.length&&h.push(l.join(":")),h}function S(l){c.setTimeout(()=>{throw l},0)}function C(){var l=j6;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class y2{constructor(){this.h=this.g=null}add(d,h){let m=ks.get();m.set(d,h),this.h?this.h.next=m:this.g=m,this.h=m}}var ks=new F(()=>new JE,l=>l.reset());class JE{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ps,Os=!1,j6=new y2,th=()=>{let l=c.Promise.resolve(void 0);Ps=()=>{l.then(eI)}};var eI=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(h){S(h)}var d=ks;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}Os=!1};function i1(){this.s=this.s,this.C=this.C}i1.prototype.s=!1,i1.prototype.ma=function(){this.s||(this.s=!0,this.N())},i1.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function zt(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var tI=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return l}();function Fs(l,d){if(zt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var h=this.type=l.type,m=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Ae){e:{try{te(d.nodeName);var E=!0;break e}catch{}E=!1}E||(d=null)}}else h=="mouseover"?d=l.fromElement:h=="mouseout"&&(d=l.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:nI[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Fs.aa.h.call(this)}}L(Fs,zt);var nI={2:"touch",3:"pen",4:"mouse"};Fs.prototype.h=function(){Fs.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Vs="closure_listenable_"+(1e6*Math.random()|0),rI=0;function iI(l,d,h,m,E){this.listener=l,this.proxy=null,this.src=d,this.type=h,this.capture=!!m,this.ha=E,this.key=++rI,this.da=this.fa=!1}function t0(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function n0(l){this.src=l,this.g={},this.h=0}n0.prototype.add=function(l,d,h,m,E){var D=l.toString();l=this.g[D],l||(l=this.g[D]=[],this.h++);var j=H6(l,d,m,E);return-1<j?(d=l[j],h||(d.fa=!1)):(d=new iI(d,this.src,D,!!m,E),d.fa=h,l.push(d)),d};function U6(l,d){var h=d.type;if(h in l.g){var m=l.g[h],E=Array.prototype.indexOf.call(m,d,void 0),D;(D=0<=E)&&Array.prototype.splice.call(m,E,1),D&&(t0(d),l.g[h].length==0&&(delete l.g[h],l.h--))}}function H6(l,d,h,m){for(var E=0;E<l.length;++E){var D=l[E];if(!D.da&&D.listener==d&&D.capture==!!h&&D.ha==m)return E}return-1}var $6="closure_lm_"+(1e6*Math.random()|0),q6={};function nh(l,d,h,m,E){if(m&&m.once)return ih(l,d,h,m,E);if(Array.isArray(d)){for(var D=0;D<d.length;D++)nh(l,d[D],h,m,E);return null}return h=Q6(h),l&&l[Vs]?l.K(d,h,u(m)?!!m.capture:!!m,E):rh(l,d,h,!1,m,E)}function rh(l,d,h,m,E,D){if(!d)throw Error("Invalid event type");var j=u(E)?!!E.capture:!!E,Ne=W6(l);if(Ne||(l[$6]=Ne=new n0(l)),h=Ne.add(d,h,m,j,D),h.proxy)return h;if(m=sI(),h.proxy=m,m.src=l,m.listener=h,l.addEventListener)tI||(E=j),E===void 0&&(E=!1),l.addEventListener(d.toString(),m,E);else if(l.attachEvent)l.attachEvent(oh(d.toString()),m);else if(l.addListener&&l.removeListener)l.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function sI(){function l(h){return d.call(l.src,l.listener,h)}let d=oI;return l}function ih(l,d,h,m,E){if(Array.isArray(d)){for(var D=0;D<d.length;D++)ih(l,d[D],h,m,E);return null}return h=Q6(h),l&&l[Vs]?l.L(d,h,u(m)?!!m.capture:!!m,E):rh(l,d,h,!0,m,E)}function sh(l,d,h,m,E){if(Array.isArray(d))for(var D=0;D<d.length;D++)sh(l,d[D],h,m,E);else m=u(m)?!!m.capture:!!m,h=Q6(h),l&&l[Vs]?(l=l.i,d=String(d).toString(),d in l.g&&(D=l.g[d],h=H6(D,h,m,E),-1<h&&(t0(D[h]),Array.prototype.splice.call(D,h,1),D.length==0&&(delete l.g[d],l.h--)))):l&&(l=W6(l))&&(d=l.g[d.toString()],l=-1,d&&(l=H6(d,h,m,E)),(h=-1<l?d[l]:null)&&G6(h))}function G6(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Vs])U6(d.i,l);else{var h=l.type,m=l.proxy;d.removeEventListener?d.removeEventListener(h,m,l.capture):d.detachEvent?d.detachEvent(oh(h),m):d.addListener&&d.removeListener&&d.removeListener(m),(h=W6(d))?(U6(h,l),h.h==0&&(h.src=null,d[$6]=null)):t0(l)}}}function oh(l){return l in q6?q6[l]:q6[l]="on"+l}function oI(l,d){if(l.da)l=!0;else{d=new Fs(d,this);var h=l.listener,m=l.ha||l.src;l.fa&&G6(l),l=h.call(m,d)}return l}function W6(l){return l=l[$6],l instanceof n0?l:null}var K6="__closure_events_fn_"+(1e9*Math.random()>>>0);function Q6(l){return typeof l=="function"?l:(l[K6]||(l[K6]=function(d){return l.handleEvent(d)}),l[K6])}function Dt(){i1.call(this),this.i=new n0(this),this.M=this,this.F=null}L(Dt,i1),Dt.prototype[Vs]=!0,Dt.prototype.removeEventListener=function(l,d,h,m){sh(this,l,d,h,m)};function Ft(l,d){var h,m=l.F;if(m)for(h=[];m;m=m.F)h.push(m);if(l=l.M,m=d.type||d,typeof d=="string")d=new zt(d,l);else if(d instanceof zt)d.target=d.target||l;else{var E=d;d=new zt(m,l),_(d,E)}if(E=!0,h)for(var D=h.length-1;0<=D;D--){var j=d.g=h[D];E=r0(j,m,!0,d)&&E}if(j=d.g=l,E=r0(j,m,!0,d)&&E,E=r0(j,m,!1,d)&&E,h)for(D=0;D<h.length;D++)j=d.g=h[D],E=r0(j,m,!1,d)&&E}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var h=l.g[d],m=0;m<h.length;m++)t0(h[m]);delete l.g[d],l.h--}}this.F=null},Dt.prototype.K=function(l,d,h,m){return this.i.add(String(l),d,!1,h,m)},Dt.prototype.L=function(l,d,h,m){return this.i.add(String(l),d,!0,h,m)};function r0(l,d,h,m){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var E=!0,D=0;D<d.length;++D){var j=d[D];if(j&&!j.da&&j.capture==h){var Ne=j.listener,yt=j.ha||j.src;j.fa&&U6(l.i,j),E=Ne.call(yt,m)!==!1&&E}}return E&&!m.defaultPrevented}function ch(l,d,h){if(typeof l=="function")h&&(l=g(l,h));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(l,d||0)}function ah(l){l.g=ch(()=>{l.g=null,l.i&&(l.i=!1,ah(l))},l.l);let d=l.h;l.h=null,l.m.apply(null,d)}class cI extends i1{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:ah(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(l){i1.call(this),this.h=l,this.g={}}L(Bs,i1);var lh=[];function uh(l){pe(l.g,function(d,h){this.g.hasOwnProperty(h)&&G6(d)},l),l.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),uh(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Y6=c.JSON.stringify,aI=c.JSON.parse,lI=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function Z6(){}Z6.prototype.h=null;function dh(l){return l.h||(l.h=l.i())}function fh(){}var js={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function X6(){zt.call(this,"d")}L(X6,zt);function J6(){zt.call(this,"c")}L(J6,zt);var Y1={},hh=null;function i0(){return hh=hh||new Dt}Y1.La="serverreachability";function ph(l){zt.call(this,Y1.La,l)}L(ph,zt);function Us(l){let d=i0();Ft(d,new ph(d))}Y1.STAT_EVENT="statevent";function mh(l,d){zt.call(this,Y1.STAT_EVENT,l),this.stat=d}L(mh,zt);function Vt(l){let d=i0();Ft(d,new mh(d,l))}Y1.Ma="timingevent";function gh(l,d){zt.call(this,Y1.Ma,l),this.size=d}L(gh,zt);function Hs(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},d)}function $s(){this.g=!0}$s.prototype.xa=function(){this.g=!1};function uI(l,d,h,m,E,D){l.info(function(){if(l.g)if(D)for(var j="",Ne=D.split("&"),yt=0;yt<Ne.length;yt++){var Ee=Ne[yt].split("=");if(1<Ee.length){var At=Ee[0];Ee=Ee[1];var xt=At.split("_");j=2<=xt.length&&xt[1]=="type"?j+(At+"="+Ee+"&"):j+(At+"=redacted&")}}else j=null;else j=D;return"XMLHTTP REQ ("+m+") [attempt "+E+"]: "+d+`
`+h+`
`+j})}function dI(l,d,h,m,E,D,j){l.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+E+"]: "+d+`
`+h+`
`+D+" "+j})}function Qr(l,d,h,m){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+hI(l,h)+(m?" "+m:"")})}function fI(l,d){l.info(function(){return"TIMEOUT: "+d})}$s.prototype.info=function(){};function hI(l,d){if(!l.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(l=0;l<h.length;l++)if(Array.isArray(h[l])){var m=h[l];if(!(2>m.length)){var E=m[1];if(Array.isArray(E)&&!(1>E.length)){var D=E[0];if(D!="noop"&&D!="stop"&&D!="close")for(var j=1;j<E.length;j++)E[j]=""}}}}return Y6(h)}catch{return d}}var s0={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},el;function o0(){}L(o0,Z6),o0.prototype.g=function(){return new XMLHttpRequest},o0.prototype.i=function(){return{}},el=new o0;function s1(l,d,h,m){this.j=l,this.i=d,this.l=h,this.R=m||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vh}function vh(){this.i=null,this.g="",this.h=!1}var Ch={},tl={};function nl(l,d,h){l.L=1,l.v=u0(v2(d)),l.m=h,l.P=!0,Mh(l,null)}function Mh(l,d){l.F=Date.now(),c0(l),l.A=v2(l.v);var h=l.A,m=l.R;Array.isArray(m)||(m=[String(m)]),Rh(h.i,"t",m),l.C=0,h=l.j.J,l.h=new vh,l.g=Xh(l.j,h?d:null,!l.m),0<l.O&&(l.M=new cI(g(l.Y,l,l.g),l.O)),d=l.U,h=l.g,m=l.ca;var E="readystatechange";Array.isArray(E)||(E&&(lh[0]=E.toString()),E=lh);for(var D=0;D<E.length;D++){var j=nh(h,E[D],m||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Us(),uI(l.i,l.u,l.A,l.l,l.R,l.m)}s1.prototype.ca=function(l){l=l.target;let d=this.M;d&&C2(l)==3?d.j():this.Y(l)},s1.prototype.Y=function(l){try{if(l==this.g)e:{let xt=C2(this.g);var d=this.g.Ba();let Xr=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||jh(this.g)))){this.J||xt!=4||d==7||(d==8||0>=Xr?Us(3):Us(2)),rl(this);var h=this.g.Z();this.X=h;t:if(_h(this)){var m=jh(this.g);l="";var E=m.length,D=C2(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Z1(this),qs(this);var j="";break t}this.h.i=new c.TextDecoder}for(d=0;d<E;d++)this.h.h=!0,l+=this.h.i.decode(m[d],{stream:!(D&&d==E-1)});m.length=0,this.h.g+=l,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=h==200,dI(this.i,this.u,this.A,this.l,this.R,xt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,yt=this.g;if((Ne=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ne)){var Ee=Ne;break t}}Ee=null}if(h=Ee)Qr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,il(this,h);else{this.o=!1,this.s=3,Vt(12),Z1(this),qs(this);break e}}if(this.P){h=!0;let Tn;for(;!this.J&&this.C<j.length;)if(Tn=pI(this,j),Tn==tl){xt==4&&(this.s=4,Vt(14),h=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==Ch){this.s=4,Vt(15),Qr(this.i,this.l,j,"[Invalid Chunk]"),h=!1;break}else Qr(this.i,this.l,Tn,null),il(this,Tn);if(_h(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||j.length!=0||this.h.h||(this.s=1,Vt(16),h=!1),this.o=this.o&&h,!h)Qr(this.i,this.l,j,"[Invalid Chunked Response]"),Z1(this),qs(this);else if(0<j.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),ul(At),At.M=!0,Vt(11))}}else Qr(this.i,this.l,j,null),il(this,j);xt==4&&Z1(this),this.o&&!this.J&&(xt==4?Kh(this.j,this):(this.o=!1,c0(this)))}else AI(this.g),h==400&&0<j.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Z1(this),qs(this)}}}catch{}finally{}};function _h(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function pI(l,d){var h=l.C,m=d.indexOf(`
`,h);return m==-1?tl:(h=Number(d.substring(h,m)),isNaN(h)?Ch:(m+=1,m+h>d.length?tl:(d=d.slice(m,m+h),l.C=m+h,d)))}s1.prototype.cancel=function(){this.J=!0,Z1(this)};function c0(l){l.S=Date.now()+l.I,wh(l,l.I)}function wh(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Hs(g(l.ba,l),d)}function rl(l){l.B&&(c.clearTimeout(l.B),l.B=null)}s1.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(fI(this.i,this.A),this.L!=2&&(Us(),Vt(17)),Z1(this),this.s=2,qs(this)):wh(this,this.S-l)};function qs(l){l.j.G==0||l.J||Kh(l.j,l)}function Z1(l){rl(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,uh(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function il(l,d){try{var h=l.j;if(h.G!=0&&(h.g==l||sl(h.h,l))){if(!l.K&&sl(h.h,l)&&h.G==3){try{var m=h.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var E=m;if(E[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<l.F)m0(h),h0(h);else break e;ll(h),Vt(18)}}else h.za=E[1],0<h.za-h.T&&37500>E[2]&&h.F&&h.v==0&&!h.C&&(h.C=Hs(g(h.Za,h),6e3));if(1>=Eh(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else J1(h,11)}else if((l.K||h.g==l)&&m0(h),!W(d))for(E=h.Da.g.parse(d),d=0;d<E.length;d++){let Ee=E[d];if(h.T=Ee[0],Ee=Ee[1],h.G==2)if(Ee[0]=="c"){h.K=Ee[1],h.ia=Ee[2];let At=Ee[3];At!=null&&(h.la=At,h.j.info("VER="+h.la));let xt=Ee[4];xt!=null&&(h.Aa=xt,h.j.info("SVER="+h.Aa));let Xr=Ee[5];Xr!=null&&typeof Xr=="number"&&0<Xr&&(m=1.5*Xr,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let Tn=l.g;if(Tn){let y0=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y0){var D=m.h;D.g||y0.indexOf("spdy")==-1&&y0.indexOf("quic")==-1&&y0.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(ol(D,D.h),D.h=null))}if(m.D){let dl=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(m.ya=dl,Be(m.I,m.D,dl))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-l.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var j=l;if(m.qa=Zh(m,m.J?m.ia:null,m.W),j.K){Ih(m.h,j);var Ne=j,yt=m.L;yt&&(Ne.I=yt),Ne.B&&(rl(Ne),c0(Ne)),m.g=j}else Gh(m);0<h.i.length&&p0(h)}else Ee[0]!="stop"&&Ee[0]!="close"||J1(h,7);else h.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?J1(h,7):al(h):Ee[0]!="noop"&&h.l&&h.l.ta(Ee),h.v=0)}}Us(4)}catch{}}var mI=class{constructor(l,d){this.g=l,this.map=d}};function Lh(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bh(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Eh(l){return l.h?1:l.g?l.g.size:0}function sl(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function ol(l,d){l.g?l.g.add(d):l.h=d}function Ih(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Lh.prototype.cancel=function(){if(this.i=Sh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function Sh(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(let h of l.g.values())d=d.concat(h.D);return d}return T(l.i)}function gI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(a(l)){for(var d=[],h=l.length,m=0;m<h;m++)d.push(l[m]);return d}d=[],h=0;for(m in l)d[h++]=l[m];return d}function yI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(a(l)||typeof l=="string"){var d=[];l=l.length;for(var h=0;h<l;h++)d.push(h);return d}d=[],h=0;for(let m in l)d[h++]=m;return d}}}function Th(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(a(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var h=yI(l),m=gI(l),E=m.length,D=0;D<E;D++)d.call(void 0,m[D],h&&h[D],l)}var zh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vI(l,d){if(l){l=l.split("&");for(var h=0;h<l.length;h++){var m=l[h].indexOf("="),E=null;if(0<=m){var D=l[h].substring(0,m);E=l[h].substring(m+1)}else D=l[h];d(D,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function X1(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof X1){this.h=l.h,a0(this,l.j),this.o=l.o,this.g=l.g,l0(this,l.s),this.l=l.l;var d=l.i,h=new Ks;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Dh(this,h),this.m=l.m}else l&&(d=String(l).match(zh))?(this.h=!1,a0(this,d[1]||"",!0),this.o=Gs(d[2]||""),this.g=Gs(d[3]||"",!0),l0(this,d[4]),this.l=Gs(d[5]||"",!0),Dh(this,d[6]||"",!0),this.m=Gs(d[7]||"")):(this.h=!1,this.i=new Ks(null,this.h))}X1.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Ws(d,Ah,!0),":");var h=this.g;return(h||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Ws(d,Ah,!0),"@"),l.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&l.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&l.push("/"),l.push(Ws(h,h.charAt(0)=="/"?_I:MI,!0))),(h=this.i.toString())&&l.push("?",h),(h=this.m)&&l.push("#",Ws(h,LI)),l.join("")};function v2(l){return new X1(l)}function a0(l,d,h){l.j=h?Gs(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function l0(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Dh(l,d,h){d instanceof Ks?(l.i=d,bI(l.i,l.h)):(h||(d=Ws(d,wI)),l.i=new Ks(d,l.h))}function Be(l,d,h){l.i.set(d,h)}function u0(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Gs(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ws(l,d,h){return typeof l=="string"?(l=encodeURI(l).replace(d,CI),h&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function CI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ah=/[#\/\?@]/g,MI=/[#\?:]/g,_I=/[#\?]/g,wI=/[#\?@]/g,LI=/#/g;function Ks(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function o1(l){l.g||(l.g=new Map,l.h=0,l.i&&vI(l.i,function(d,h){l.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Ks.prototype,t.add=function(l,d){o1(this),this.i=null,l=Yr(this,l);var h=this.g.get(l);return h||this.g.set(l,h=[]),h.push(d),this.h+=1,this};function xh(l,d){o1(l),d=Yr(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Nh(l,d){return o1(l),d=Yr(l,d),l.g.has(d)}t.forEach=function(l,d){o1(this),this.g.forEach(function(h,m){h.forEach(function(E){l.call(d,E,m,this)},this)},this)},t.na=function(){o1(this);let l=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let m=0;m<d.length;m++){let E=l[m];for(let D=0;D<E.length;D++)h.push(d[m])}return h},t.V=function(l){o1(this);let d=[];if(typeof l=="string")Nh(this,l)&&(d=d.concat(this.g.get(Yr(this,l))));else{l=Array.from(this.g.values());for(let h=0;h<l.length;h++)d=d.concat(l[h])}return d},t.set=function(l,d){return o1(this),this.i=null,l=Yr(this,l),Nh(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Rh(l,d,h){xh(l,d),0<h.length&&(l.i=null,l.g.set(Yr(l,d),T(h)),l.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var m=d[h];let D=encodeURIComponent(String(m)),j=this.V(m);for(m=0;m<j.length;m++){var E=D;j[m]!==""&&(E+="="+encodeURIComponent(String(j[m]))),l.push(E)}}return this.i=l.join("&")};function Yr(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function bI(l,d){d&&!l.j&&(o1(l),l.i=null,l.g.forEach(function(h,m){var E=m.toLowerCase();m!=E&&(xh(this,m),Rh(this,E,h))},l)),l.j=d}function EI(l,d){let h=new $s;if(c.Image){let m=new Image;m.onload=y(c1,h,"TestLoadImage: loaded",!0,d,m),m.onerror=y(c1,h,"TestLoadImage: error",!1,d,m),m.onabort=y(c1,h,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(c1,h,"TestLoadImage: timeout",!1,d,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=l}else d(!1)}function II(l,d){let h=new $s,m=new AbortController,E=setTimeout(()=>{m.abort(),c1(h,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:m.signal}).then(D=>{clearTimeout(E),D.ok?c1(h,"TestPingServer: ok",!0,d):c1(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(E),c1(h,"TestPingServer: error",!1,d)})}function c1(l,d,h,m,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),m(h)}catch{}}function SI(){this.g=new lI}function TI(l,d,h){let m=h||"";try{Th(l,function(E,D){let j=E;u(E)&&(j=Y6(E)),d.push(m+D+"="+encodeURIComponent(j))})}catch(E){throw d.push(m+"type="+encodeURIComponent("_badmap")),E}}function Qs(l){this.l=l.Ub||null,this.j=l.eb||!1}L(Qs,Z6),Qs.prototype.g=function(){return new d0(this.l,this.j)},Qs.prototype.i=function(l){return function(){return l}}({});function d0(l,d){Dt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(d0,Dt),t=d0.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Zs(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kh(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function kh(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Ys(this):Zs(this),this.readyState==3&&kh(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ys(this))},t.Qa=function(l){this.g&&(this.response=l,Ys(this))},t.ga=function(){this.g&&Ys(this)};function Ys(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Zs(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,l.push(h[0]+": "+h[1]),h=d.next();return l.join(`\r
`)};function Zs(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(d0.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Ph(l){let d="";return pe(l,function(h,m){d+=m,d+=":",d+=h,d+=`\r
`}),d}function cl(l,d,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=Ph(h),typeof l=="string"?h!=null&&encodeURIComponent(String(h)):Be(l,d,h))}function qe(l){Dt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(qe,Dt);var zI=/^https?$/i,DI=["POST","PUT"];t=qe.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():el.g(),this.v=this.o?dh(this.o):dh(el),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(D){Oh(this,D);return}if(l=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var E in m)h.set(E,m[E]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let D of m.keys())h.set(D,m.get(D));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(D=>D.toLowerCase()=="content-type"),E=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(DI,d,void 0))||m||E||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[D,j]of h)this.g.setRequestHeader(D,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bh(this),this.u=!0,this.g.send(l),this.u=!1}catch(D){Oh(this,D)}};function Oh(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Fh(l),f0(l)}function Fh(l){l.A||(l.A=!0,Ft(l,"complete"),Ft(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ft(this,"complete"),Ft(this,"abort"),f0(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),f0(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Vh(this):this.bb())},t.bb=function(){Vh(this)};function Vh(l){if(l.h&&typeof o<"u"&&(!l.v[1]||C2(l)!=4||l.Z()!=2)){if(l.u&&C2(l)==4)ch(l.Ea,0,l);else if(Ft(l,"readystatechange"),C2(l)==4){l.h=!1;try{let j=l.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var m;if(m=j===0){var E=String(l.D).match(zh)[1]||null;!E&&c.self&&c.self.location&&(E=c.self.location.protocol.slice(0,-1)),m=!zI.test(E?E.toLowerCase():"")}h=m}if(h)Ft(l,"complete"),Ft(l,"success");else{l.m=6;try{var D=2<C2(l)?l.g.statusText:""}catch{D=""}l.l=D+" ["+l.Z()+"]",Fh(l)}}finally{f0(l)}}}}function f0(l,d){if(l.g){Bh(l);let h=l.g,m=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||Ft(l,"ready");try{h.onreadystatechange=m}catch{}}}function Bh(l){l.I&&(c.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function C2(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<C2(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),aI(d)}};function jh(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function AI(l){let d={};l=(l.g&&2<=C2(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<l.length;m++){if(W(l[m]))continue;var h=b(l[m]);let E=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let D=d[E]||[];d[E]=D,D.push(h)}w(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(l,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[l]||d}function Uh(l){this.Aa=0,this.i=[],this.j=new $s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,l),this.cb=Xs("retryDelaySeedMs",1e4,l),this.Wa=Xs("forwardChannelMaxRetries",2,l),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Lh(l&&l.concurrentRequestLimit),this.Da=new SI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uh.prototype,t.la=8,t.G=1,t.connect=function(l,d,h,m){Vt(0),this.W=l,this.H=d||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=Zh(this,null,this.W),p0(this)};function al(l){if(Hh(l),l.G==3){var d=l.U++,h=v2(l.I);if(Be(h,"SID",l.K),Be(h,"RID",d),Be(h,"TYPE","terminate"),Js(l,h),d=new s1(l,l.j,d),d.L=2,d.v=u0(v2(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=Xh(d.j,null),d.g.ea(d.v)),d.F=Date.now(),c0(d)}Yh(l)}function h0(l){l.g&&(ul(l),l.g.cancel(),l.g=null)}function Hh(l){h0(l),l.u&&(c.clearTimeout(l.u),l.u=null),m0(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function p0(l){if(!bh(l.h)&&!l.s){l.s=!0;var d=l.Ga;Ps||th(),Os||(Ps(),Os=!0),j6.add(d,l),l.B=0}}function xI(l,d){return Eh(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Hs(g(l.Ga,l,d),Qh(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let E=new s1(this,this.j,l),D=this.o;if(this.S&&(D?(D=v(D),_(D,this.S)):D=this.S),this.m!==null||this.O||(E.H=D,D=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=qh(this,E,d),h=v2(this.I),Be(h,"RID",l),Be(h,"CVER",22),this.D&&Be(h,"X-HTTP-Session-Id",this.D),Js(this,h),D&&(this.O?d="headers="+encodeURIComponent(String(Ph(D)))+"&"+d:this.m&&cl(h,this.m,D)),ol(this.h,E),this.Ua&&Be(h,"TYPE","init"),this.P?(Be(h,"$req",d),Be(h,"SID","null"),E.T=!0,nl(E,h,null)):nl(E,h,d),this.G=2}}else this.G==3&&(l?$h(this,l):this.i.length==0||bh(this.h)||$h(this))};function $h(l,d){var h;d?h=d.l:h=l.U++;let m=v2(l.I);Be(m,"SID",l.K),Be(m,"RID",h),Be(m,"AID",l.T),Js(l,m),l.m&&l.o&&cl(m,l.m,l.o),h=new s1(l,l.j,h,l.B+1),l.m===null&&(h.H=l.o),d&&(l.i=d.D.concat(l.i)),d=qh(l,h,1e3),h.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ol(l.h,h),nl(h,m,d)}function Js(l,d){l.H&&pe(l.H,function(h,m){Be(d,m,h)}),l.l&&Th({},function(h,m){Be(d,m,h)})}function qh(l,d,h){h=Math.min(l.i.length,h);var m=l.l?g(l.l.Na,l.l,l):null;e:{var E=l.i;let D=-1;for(;;){let j=["count="+h];D==-1?0<h?(D=E[0].g,j.push("ofs="+D)):D=0:j.push("ofs="+D);let Ne=!0;for(let yt=0;yt<h;yt++){let Ee=E[yt].g,At=E[yt].map;if(Ee-=D,0>Ee)D=Math.max(0,E[yt].g-100),Ne=!1;else try{TI(At,j,"req"+Ee+"_")}catch{m&&m(At)}}if(Ne){m=j.join("&");break e}}}return l=l.i.splice(0,h),d.D=l,m}function Gh(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Ps||th(),Os||(Ps(),Os=!0),j6.add(d,l),l.v=0}}function ll(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Hs(g(l.Fa,l),Qh(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Wh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Hs(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),h0(this),Wh(this))};function ul(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function Wh(l){l.g=new s1(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=v2(l.qa);Be(d,"RID","rpc"),Be(d,"SID",l.K),Be(d,"AID",l.T),Be(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(d,"TO",l.ja),Be(d,"TYPE","xmlhttp"),Js(l,d),l.m&&l.o&&cl(d,l.m,l.o),l.L&&(l.g.I=l.L);var h=l.g;l=l.ia,h.L=1,h.v=u0(v2(d)),h.m=null,h.P=!0,Mh(h,l)}t.Za=function(){this.C!=null&&(this.C=null,h0(this),ll(this),Vt(19))};function m0(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function Kh(l,d){var h=null;if(l.g==d){m0(l),ul(l),l.g=null;var m=2}else if(sl(l.h,d))h=d.D,Ih(l.h,d),m=1;else return;if(l.G!=0){if(d.o)if(m==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var E=l.B;m=i0(),Ft(m,new gh(m,h)),p0(l)}else Gh(l);else if(E=d.s,E==3||E==0&&0<d.X||!(m==1&&xI(l,d)||m==2&&ll(l)))switch(h&&0<h.length&&(d=l.h,d.i=d.i.concat(h)),E){case 1:J1(l,5);break;case 4:J1(l,10);break;case 3:J1(l,6);break;default:J1(l,2)}}}function Qh(l,d){let h=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(h*=2),h*d}function J1(l,d){if(l.j.info("Error code "+d),d==2){var h=g(l.fb,l),m=l.Xa;let E=!m;m=new X1(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||a0(m,"https"),u0(m),E?EI(m.toString(),h):II(m.toString(),h)}else Vt(2);l.G=0,l.l&&l.l.sa(d),Yh(l),Hh(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Yh(l){if(l.G=0,l.ka=[],l.l){let d=Sh(l.h);(d.length!=0||l.i.length!=0)&&(z(l.ka,d),z(l.ka,l.i),l.h.i.length=0,T(l.i),l.i.length=0),l.l.ra()}}function Zh(l,d,h){var m=h instanceof X1?v2(h):new X1(h);if(m.g!="")d&&(m.g=d+"."+m.g),l0(m,m.s);else{var E=c.location;m=E.protocol,d=d?d+"."+E.hostname:E.hostname,E=+E.port;var D=new X1(null);m&&a0(D,m),d&&(D.g=d),E&&l0(D,E),h&&(D.l=h),m=D}return h=l.D,d=l.ya,h&&d&&Be(m,h,d),Be(m,"VER",l.la),Js(l,m),m}function Xh(l,d,h){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new qe(new Qs({eb:h})):new qe(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jh(){}t=Jh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function g0(){}g0.prototype.g=function(l,d){return new rn(l,d)};function rn(l,d){Dt.call(this),this.g=new Uh(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!W(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Zr(this)}L(rn,Dt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){al(this.g)},rn.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var h={};h.__data__=l,l=h}else this.u&&(h={},h.__data__=Y6(l),l=h);d.i.push(new mI(d.Ya++,l)),d.G==3&&p0(d)},rn.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,rn.aa.N.call(this)};function ep(l){X6.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(let h in d){l=h;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}L(ep,X6);function tp(){J6.call(this),this.status=1}L(tp,J6);function Zr(l){this.g=l}L(Zr,Jh),Zr.prototype.ua=function(){Ft(this.g,"a")},Zr.prototype.ta=function(l){Ft(this.g,new ep(l))},Zr.prototype.sa=function(l){Ft(this.g,new tp)},Zr.prototype.ra=function(){Ft(this.g,"b")},g0.prototype.createWebChannel=g0.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,H7=G2.createWebChannelTransport=function(){return new g0},U7=G2.getStatEventTarget=function(){return i0()},j7=G2.Event=Y1,t3=G2.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},s0.NO_ERROR=0,s0.TIMEOUT=8,s0.HTTP_ERROR=6,fc=G2.ErrorCode=s0,yh.COMPLETE="complete",B7=G2.EventType=yh,fh.EventType=js,js.OPEN="a",js.CLOSE="b",js.ERROR="c",js.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Yi=G2.WebChannel=fh,rV=G2.FetchXmlHttpFactory=Qs,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,V7=G2.XhrIo=qe}).apply(typeof e3<"u"?e3:typeof self<"u"?self:typeof window<"u"?window:{});var n_="@firebase/firestore",r_="4.7.9";var pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");var ys="11.4.0";var Pr=new s2("@firebase/firestore");function Zi(){return Pr.logLevel}function $(t,...e){if(Pr.logLevel<=me.DEBUG){let n=e.map(Df);Pr.debug(`Firestore (${ys}): ${t}`,...n)}}function W2(t,...e){if(Pr.logLevel<=me.ERROR){let n=e.map(Df);Pr.error(`Firestore (${ys}): ${t}`,...n)}}function is(t,...e){if(Pr.logLevel<=me.WARN){let n=e.map(Df);Pr.warn(`Firestore (${ys}): ${t}`,...n)}}function Df(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ee(t="Unexpected state"){let e=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: `+t;throw W2(e),new Error(e)}function De(t,e){t||ee()}function oe(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends nn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var a2=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var a3=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},K7=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}},Q7=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Y7=class{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0);let r=this.i,i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve(),s=new a2;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new a2,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let a=s;e.enqueueRetryable(()=>I(this,null,function*(){yield a.promise,yield i(this.currentUser)}))},c=a=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(a=>c(a)),setTimeout(()=>{if(!this.auth){let a=this.t.getImmediate({optional:!0});a?c(a):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new a2)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new a3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new pt(e)}},Z7=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},X7=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Z7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},l3=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},J7=class{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Hn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){De(this.o===void 0);let r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new l3(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new l3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function iV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var u3=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=iV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}};function Me(t,e){return t<e?-1:t>e?1:0}function ss(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var i_=-62135596800,s_=1e6,It=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*s_);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<i_)throw new q(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/s_}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-i_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ue=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new It(0,0))}static max(){return new t(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var o_="__name__",d3=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=t.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return q2.fromString(e.substring(4,e.length-2))}},$e=class t extends d3{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new q(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},sV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hn=class t extends d3{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return sV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===o_}static keyField(){return new t([o_])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new q(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new q(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new q(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new q(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var X=class t{constructor(e){this.path=e}static fromPath(e){return new t($e.fromString(e))}static fromName(e){return new t($e.fromString(e).popFirst(5))}static empty(){return new t($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new $e(e.slice()))}};var vc=-1,ed=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};ed.UNKNOWN_ID=-1;function oV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new It(n+1,0):new It(n,r));return new Or(i,X.empty(),e)}function cV(t){return new Or(t.readTime,t.key,vc)}var Or=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ue.min(),X.empty(),vc)}static max(){return new t(ue.max(),X.empty(),vc)}};function aV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}var lV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",td=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function vs(t){return I(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==lV)throw t;$("LocalStore","Unexpectedly lost primary lease")})}var k=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},a=>r(a))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let a=0;a<s;a++){let u=a;n(e[u]).next(f=>{o[u]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function uV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cs(t){return t.name==="IndexedDbTransactionError"}var Af=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this._e&&this._e(n),n}}t.ae=-1;return t})(),xf=-1;function G3(t){return t==null}function Cc(t){return t===0&&1/t==-1/0}function dV(t){return typeof t=="number"&&Number.isInteger(t)&&!Cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var W_="";function fV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=c_(e)),e=hV(t.get(n),e);return c_(e)}function hV(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case W_:n+="";break;default:n+=s}}return n}function c_(t){return t+W_+""}var pV="remoteDocuments",K_="owner";var Q_="mutationQueues";var Y_="mutations";var Z_="documentMutations",mV="remoteDocumentsV14";var X_="remoteDocumentGlobal";var J_="targets";var ew="targetDocuments";var tw="targetGlobal",nw="collectionParents";var rw="clientMetadata";var iw="bundles";var sw="namedQueries";var gV="indexConfiguration";var yV="indexState";var vV="indexEntries";var ow="documentOverlays";var CV="globals";var MV=[Q_,Y_,Z_,pV,J_,K_,tw,ew,rw,X_,nw,iw,sw],xne=[...MV,ow],_V=[Q_,Y_,Z_,mV,J_,K_,tw,ew,rw,X_,nw,iw,sw,ow],wV=_V,LV=[...wV,gV,yV,vV];var Nne=[...LV,CV];function a_(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cw(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ye=class t{constructor(e,n){this.comparator=e,this.root=n||l2.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,l2.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,l2.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ts(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ts(this.root,e,this.comparator,!1)}getReverseIterator(){return new ts(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ts(this.root,e,this.comparator,!0)}},ts=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},l2=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};l2.EMPTY=null,l2.RED=!0,l2.BLACK=!1;l2.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new l2(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var mt=class t{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f3(this.data.getIterator())}getIteratorFrom(e){return new f3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},f3=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var c2=class t{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new t([])}unionWith(e){let n=new mt(hn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ss(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var h3=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Pt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new h3("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Pt.EMPTY_BYTE_STRING=new Pt("");var bV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function K2(t){if(De(!!t),typeof t=="string"){let e=0,n=bV.exec(t);if(De(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Q2(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}var aw="server_timestamp",lw="__type__",uw="__previous_value__",dw="__local_write_time__";function Nf(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lw])===null||n===void 0?void 0:n.stringValue)===aw}function W3(t){let e=t.mapValue.fields[uw];return Nf(e)?W3(e):e}function Mc(t){let e=K2(t.mapValue.fields[dw].timestampValue);return new It(e.seconds,e.nanos)}var nd=class{constructor(e,n,r,i,s,o,c,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=a,this.useFetchStreams=u}},p3="(default)",m3=class t{constructor(e,n){this.projectId=e,this.database=n||p3}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===p3}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Rf="__type__",fw="__max__",n3={mapValue:{fields:{__type__:{stringValue:fw}}}},kf="__vector__",os="value";function P1(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nf(t)?4:pw(t)?9007199254740991:hw(t)?10:11:ee()}function f2(t,e){if(t===e)return!0;let n=P1(t);if(n!==P1(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mc(t).isEqual(Mc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=K2(i.timestampValue),c=K2(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Q2(i.bytesValue).isEqual(Q2(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return He(i.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return He(i.integerValue)===He(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=He(i.doubleValue),c=He(s.doubleValue);return o===c?Cc(o)===Cc(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return ss(t.arrayValue.values||[],e.arrayValue.values||[],f2);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(a_(o)!==a_(c))return!1;for(let a in o)if(o.hasOwnProperty(a)&&(c[a]===void 0||!f2(o[a],c[a])))return!1;return!0}(t,e);default:return ee()}}function _c(t,e){return(t.values||[]).find(n=>f2(n,e))!==void 0}function cs(t,e){if(t===e)return 0;let n=P1(t),r=P1(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=He(s.integerValue||s.doubleValue),a=He(o.integerValue||o.doubleValue);return c<a?-1:c>a?1:c===a?0:isNaN(c)?isNaN(a)?0:-1:1}(t,e);case 3:return l_(t.timestampValue,e.timestampValue);case 4:return l_(Mc(t),Mc(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Q2(s),a=Q2(o);return c.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),a=o.split("/");for(let u=0;u<c.length&&u<a.length;u++){let f=Me(c[u],a[u]);if(f!==0)return f}return Me(c.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=Me(He(s.latitude),He(o.latitude));return c!==0?c:Me(He(s.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return u_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,a,u,f;let p=s.fields||{},g=o.fields||{},y=(c=p[os])===null||c===void 0?void 0:c.arrayValue,L=(a=g[os])===null||a===void 0?void 0:a.arrayValue,T=Me(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((f=L?.values)===null||f===void 0?void 0:f.length)||0);return T!==0?T:u_(y,L)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===n3.mapValue&&o===n3.mapValue)return 0;if(s===n3.mapValue)return 1;if(o===n3.mapValue)return-1;let c=s.fields||{},a=Object.keys(c),u=o.fields||{},f=Object.keys(u);a.sort(),f.sort();for(let p=0;p<a.length&&p<f.length;++p){let g=Me(a[p],f[p]);if(g!==0)return g;let y=cs(c[a[p]],u[f[p]]);if(y!==0)return y}return Me(a.length,f.length)}(t.mapValue,e.mapValue);default:throw ee()}}function l_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);let n=K2(t),r=K2(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function u_(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=cs(n[i],r[i]);if(s)return s}return Me(n.length,r.length)}function as(t){return rd(t)}function rd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=K2(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Q2(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=rd(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${rd(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function s3(t){switch(P1(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=W3(t);return e?16+s3(e):16;case 5:return 2*t.stringValue.length;case 6:return Q2(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+s3(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Hr(r.fields,(s,o)=>{i+=s.length+s3(o)}),i}(t.mapValue);default:throw ee()}}function d_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function id(t){return!!t&&"integerValue"in t}function Pf(t){return!!t&&"arrayValue"in t}function f_(t){return!!t&&"nullValue"in t}function h_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function o3(t){return!!t&&"mapValue"in t}function hw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Rf])===null||n===void 0?void 0:n.stringValue)===kf}function pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Hr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pw(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fw}var kne={mapValue:{fields:{[Rf]:{stringValue:kf},[os]:{arrayValue:{}}}}};var qn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!o3(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(n)}setAll(e){let n=hn.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=pc(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());o3(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return f2(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];o3(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hr(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(pc(this.value))}};function mw(t){let e=[];return Hr(t.fields,(n,r)=>{let i=new hn([n]);if(o3(r)){let s=mw(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new c2(e)}var Gn=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ue.min(),ue.min(),ue.min(),qn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ue.min(),ue.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ue.min(),ue.min(),qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ls=class{constructor(e,n){this.position=e,this.inclusive=n}};function p_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=cs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function m_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!f2(t.position[n],e.position[n]))return!1;return!0}var us=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function EV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var g3=class{},ct=class t extends g3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new od(e,n,r):n==="array-contains"?new ld(e,r):n==="in"?new ud(e,r):n==="not-in"?new dd(e,r):n==="array-contains-any"?new fd(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cd(e,r):new ad(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cs(n,this.value)):n!==null&&P1(this.value)===P1(n)&&this.matchesComparison(cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Wn=class t extends g3{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new t(e,n)}matches(e){return gw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function gw(t){return t.op==="and"}function yw(t){return IV(t)&&gw(t)}function IV(t){for(let e of t.filters)if(e instanceof Wn)return!1;return!0}function sd(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+as(t.value);if(yw(t))return t.filters.map(e=>sd(e)).join(",");{let e=t.filters.map(n=>sd(n)).join(",");return`${t.op}(${e})`}}function vw(t,e){return t instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&f2(r.value,i.value)}(t,e):t instanceof Wn?function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&vw(o,i.filters[c]),!0):!1}(t,e):void ee()}function Cw(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${as(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(Cw).join(" ,")+"}"}(t):"Filter"}var od=class extends ct{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){let n=X.comparator(e.key,this.key);return this.matchesComparison(n)}},cd=class extends ct{constructor(e,n){super(e,"in",n),this.keys=Mw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ad=class extends ct{constructor(e,n){super(e,"not-in",n),this.keys=Mw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Mw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}var ld=class extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Pf(n)&&_c(n.arrayValue,this.value)}},ud=class extends ct{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&_c(this.value.arrayValue,n)}},dd=class extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!_c(this.value.arrayValue,n)}},fd=class extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Pf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_c(this.value.arrayValue,r))}};var hd=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.le=null}};function g_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new hd(t,e,n,r,i,s,o)}function Of(t){let e=oe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),G3(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>as(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>as(r)).join(",")),e.le=n}return e.le}function Ff(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!m_(t.startAt,e.startAt)&&m_(t.endAt,e.endAt)}function pd(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Fr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=a,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function SV(t,e,n,r,i,s,o,c){return new Fr(t,e,n,r,i,s,o,c)}function Vf(t){return new Fr(t)}function y_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _w(t){return t.collectionGroup!==null}function mc(t){let e=oe(t);if(e.he===null){e.he=[];let n=new Set;for(let s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new mt(hn.comparator);return o.filters.forEach(a=>{a.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new us(s,r))}),n.has(hn.keyField().canonicalString())||e.he.push(new us(hn.keyField(),r))}return e.he}function u2(t){let e=oe(t);return e.Pe||(e.Pe=TV(e,mc(t))),e.Pe}function TV(t,e){if(t.limitType==="F")return g_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new us(i.field,s)});let n=t.endAt?new ls(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ls(t.startAt.position,t.startAt.inclusive):null;return g_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function md(t,e){let n=t.filters.concat([e]);return new Fr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function y3(t,e,n){return new Fr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function K3(t,e){return Ff(u2(t),u2(e))&&t.limitType===e.limitType}function ww(t){return`${Of(u2(t))}|lt:${t.limitType}`}function Xi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Cw(i)).join(", ")}]`),G3(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>as(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>as(i)).join(",")),`Target(${r})`}(u2(t))}; limitType=${t.limitType})`}function Q3(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of mc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,a){let u=p_(o,c,a);return o.inclusive?u<=0:u<0}(r.startAt,mc(r),i)||r.endAt&&!function(o,c,a){let u=p_(o,c,a);return o.inclusive?u>=0:u>0}(r.endAt,mc(r),i))}(t,e)}function zV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Lw(t){return(e,n)=>{let r=!1;for(let i of mc(t)){let s=DV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function DV(t,e,n){let r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,c){let a=o.data.field(s),u=c.data.field(s);return a!==null&&u!==null?cs(a,u):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var Y2=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hr(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return cw(this.inner)}size(){return this.innerSize}};var AV=new Ye(X.comparator);function Z2(){return AV}var bw=new Ye(X.comparator);function hc(...t){let e=bw;for(let n of t)e=e.insert(n.key,n);return e}function Ew(t){let e=bw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Nr(){return gc()}function Iw(){return gc()}function gc(){return new Y2(t=>t.toString(),(t,e)=>t.isEqual(e))}var xV=new Ye(X.comparator),NV=new mt(X.comparator);function ve(...t){let e=NV;for(let n of t)e=e.add(n);return e}var RV=new mt(Me);function kV(){return RV}function Bf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function Sw(t){return{integerValue:""+t}}function PV(t,e){return dV(e)?Sw(e):Bf(t,e)}var ds=class{constructor(){this._=void 0}};function OV(t,e,n){return t instanceof fs?function(i,s){let o={fields:{[lw]:{stringValue:aw},[dw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Nf(s)&&(s=W3(s)),s&&(o.fields[uw]=s),{mapValue:o}}(n,e):t instanceof Vr?zw(t,e):t instanceof Br?Dw(t,e):function(i,s){let o=Tw(i,s),c=v_(o)+v_(i.Ie);return id(o)&&id(i.Ie)?Sw(c):Bf(i.serializer,c)}(t,e)}function FV(t,e,n){return t instanceof Vr?zw(t,e):t instanceof Br?Dw(t,e):n}function Tw(t,e){return t instanceof hs?function(r){return id(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var fs=class extends ds{},Vr=class extends ds{constructor(e){super(),this.elements=e}};function zw(t,e){let n=Aw(e);for(let r of t.elements)n.some(i=>f2(i,r))||n.push(r);return{arrayValue:{values:n}}}var Br=class extends ds{constructor(e){super(),this.elements=e}};function Dw(t,e){let n=Aw(e);for(let r of t.elements)n=n.filter(i=>!f2(i,r));return{arrayValue:{values:n}}}var hs=class extends ds{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function v_(t){return He(t.integerValue||t.doubleValue)}function Aw(t){return Pf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vr&&i instanceof Vr||r instanceof Br&&i instanceof Br?ss(r.elements,i.elements,f2):r instanceof hs&&i instanceof hs?f2(r.Ie,i.Ie):r instanceof fs&&i instanceof fs}(t.transform,e.transform)}var gd=class{constructor(e,n){this.version=e,this.transformResults=n}},N1=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function c3(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ps=class{};function xw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wc(t.key,N1.none()):new jr(t.key,t.data,N1.none());{let n=t.data,r=qn.empty(),i=new mt(hn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new X2(t.key,r,new c2(i.toArray()),N1.none())}}function BV(t,e,n){t instanceof jr?function(i,s,o){let c=i.value.clone(),a=M_(i.fieldTransforms,s,o.transformResults);c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof X2?function(i,s,o){if(!c3(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=M_(i.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(Nw(i)),a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function yc(t,e,n,r){return t instanceof jr?function(s,o,c,a){if(!c3(s.precondition,o))return c;let u=s.value.clone(),f=__(s.fieldTransforms,a,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof X2?function(s,o,c,a){if(!c3(s.precondition,o))return c;let u=__(s.fieldTransforms,a,o),f=o.data;return f.setAll(Nw(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,c){return c3(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function jV(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=Tw(r.transform,i||null);s!=null&&(n===null&&(n=qn.empty()),n.set(r.field,s))}return n||null}function C_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ss(r,i,(s,o)=>VV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var jr=class extends ps{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},X2=class extends ps{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Nw(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function M_(t,e,n){let r=new Map;De(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,FV(o,c,n[i]))}return r}function __(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,OV(s,o,e))}return r}var wc=class extends ps{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},yd=class extends ps{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var vd=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&BV(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=yc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=yc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Iw();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let a=xw(o,c);a!==null&&r.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&ss(this.mutations,e.mutations,(n,r)=>C_(n,r))&&ss(this.baseMutations,e.baseMutations,(n,r)=>C_(n,r))}},Cd=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length);let i=function(){return xV}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Md=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var _d=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var st,be;function UV(t){switch(t){case R.OK:return ee();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return ee()}}function Rw(t){if(t===void 0)return W2("GRPC error has no .code"),R.UNKNOWN;switch(t){case st.OK:return R.OK;case st.CANCELLED:return R.CANCELLED;case st.UNKNOWN:return R.UNKNOWN;case st.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case st.INTERNAL:return R.INTERNAL;case st.UNAVAILABLE:return R.UNAVAILABLE;case st.UNAUTHENTICATED:return R.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case st.NOT_FOUND:return R.NOT_FOUND;case st.ALREADY_EXISTS:return R.ALREADY_EXISTS;case st.PERMISSION_DENIED:return R.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case st.ABORTED:return R.ABORTED;case st.OUT_OF_RANGE:return R.OUT_OF_RANGE;case st.UNIMPLEMENTED:return R.UNIMPLEMENTED;case st.DATA_LOSS:return R.DATA_LOSS;default:return ee()}}(be=st||(st={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var w_=null;function HV(){return new TextEncoder}var $V=new q2([4294967295,4294967295],0);function L_(t){let e=HV().encode(t),n=new F7;return n.update(e),new Uint8Array(n.digest())}function b_(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new q2([n,r],0),new q2([i,s],0)]}var wd=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rr(`Invalid padding: ${n}`);if(r<0)throw new Rr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rr(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=q2.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(q2.fromNumber(r)));return i.compare($V)===1&&(i=new q2([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let n=L_(e),[r,i]=b_(n);for(let s=0;s<this.hashCount;s++){let o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ee===0)return;let n=L_(e),[r,i]=b_(n);for(let s=0;s<this.hashCount;s++){let o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Rr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var v3=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ue.min(),i,new Ye(Me),Z2(),ve())}},Lc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ve(),ve(),ve())}};var ns=class{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}},C3=class{constructor(e,n){this.targetId=e,this.ge=n}},M3=class{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},_3=class{constructor(){this.pe=0,this.ye=E_(),this.we=Pt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ve(),n=ve(),r=ve();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Lc(this.we,this.be,e,n,r)}Me(){this.Se=!1,this.ye=E_()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,De(this.pe>=0)}Le(){this.Se=!0,this.be=!0}},Ld=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Z2(),this.$e=r3(),this.Ke=r3(),this.Ue=new Ye(Me)}We(e){for(let n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(let n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{let r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){let n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){let s=i.target;if(pd(s))if(r===0){let o=new X(s.path);this.ze(n,o,Gn.newNoDocument(o,ue.min()))}else De(r===1);else{let o=this.et(n);if(o!==r){let c=this.tt(e),a=c?this.nt(c,e,o):1;if(a!==0){this.Ye(n);let u=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,u)}w_?.rt(function(f,p,g,y,L){var T,z,F,W,U,te;let Ae={localCacheCount:f,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},pe=p.unchangedNames;return pe&&(Ae.bloomFilter={applied:L===0,hashCount:(T=pe?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(W=(F=(z=pe?.bits)===null||z===void 0?void 0:z.bitmap)===null||F===void 0?void 0:F.length)!==null&&W!==void 0?W:0,padding:(te=(U=pe?.bits)===null||U===void 0?void 0:U.padding)!==null&&te!==void 0?te:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),Ae}(o,e.ge,this.ke.it(),c,a))}}}}tt(e){let n=e.ge.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,c;try{o=Q2(r).toUint8Array()}catch(a){if(a instanceof h3)return is("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{c=new wd(o,i,s)}catch(a){return is(a instanceof Rr?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){let r=this.ke.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.ke.it(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,s,null),i++)}),i}ot(e){let n=new Map;this.qe.forEach((s,o)=>{let c=this.Xe(o);if(c){if(s.current&&pd(c.target)){let a=new X(c.target.path);this._t(a).has(o)||this.ut(o,a)||this.ze(o,a,Gn.newNoDocument(a,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=ve();this.Ke.forEach((s,o)=>{let c=!0;o.forEachWhile(a=>{let u=this.Xe(a);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));let i=new v3(e,n,this.Ue,this.Qe,r);return this.Qe=Z2(),this.$e=r3(),this.Ke=r3(),this.Ue=new Ye(Me),i}Ge(e,n){if(!this.Je(e))return;let r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){let n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new _3,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new mt(Me),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new mt(Me),this.$e=this.$e.insert(e,n)),n}Je(e){let n=this.Xe(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){let n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new _3),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}};function r3(){return new Ye(X.comparator)}function E_(){return new Ye(X.comparator)}var qV={asc:"ASCENDING",desc:"DESCENDING"},GV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WV={and:"AND",or:"OR"},bd=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Ed(t,e){return t.useProto3Json||G3(e)?e:{value:e}}function w3(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function KV(t,e){return w3(t,e.toTimestamp())}function d2(t){return De(!!t),ue.fromTimestamp(function(n){let r=K2(n);return new It(r.seconds,r.nanos)}(t))}function jf(t,e){return Id(t,e).canonicalString()}function Id(t,e){let n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Pw(t){let e=$e.fromString(t);return De(jw(e)),e}function Sd(t,e){return jf(t.databaseId,e.path)}function $7(t,e){let n=Pw(e);if(n.get(1)!==t.databaseId.projectId)throw new q(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(Fw(n))}function Ow(t,e){return jf(t.databaseId,e)}function QV(t){let e=Pw(t);return e.length===4?$e.emptyPath():Fw(e)}function Td(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fw(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function I_(t,e,n){return{name:Sd(t,e),fields:n.value.mapValue.fields}}function YV(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(De(f===void 0||typeof f=="string"),Pt.fromBase64String(f||"")):(De(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Pt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(u){let f=u.code===void 0?R.UNKNOWN:Rw(u.code);return new q(f,u.message||"")}(o);n=new M3(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=$7(t,r.document.name),s=d2(r.document.updateTime),o=r.document.createTime?d2(r.document.createTime):ue.min(),c=new qn({mapValue:{fields:r.document.fields}}),a=Gn.newFoundDocument(i,s,o,c),u=r.targetIds||[],f=r.removedTargetIds||[];n=new ns(u,f,a.key,a)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=$7(t,r.document),s=r.readTime?d2(r.readTime):ue.min(),o=Gn.newNoDocument(i,s),c=r.removedTargetIds||[];n=new ns([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=$7(t,r.document),s=r.removedTargetIds||[];n=new ns([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new _d(i,s),c=r.targetId;n=new C3(c,o)}}return n}function ZV(t,e){let n;if(e instanceof jr)n={update:I_(t,e.key,e.value)};else if(e instanceof wc)n={delete:Sd(t,e.key)};else if(e instanceof X2)n={update:I_(t,e.key,e.data),updateMask:oB(e.fieldMask)};else{if(!(e instanceof yd))return ee();n={verify:Sd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof fs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Vr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Br)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof hs)return{fieldPath:o.field.canonicalString(),increment:c.Ie};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:KV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function XV(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?d2(i.updateTime):d2(s);return o.isEqual(ue.min())&&(o=d2(s)),new gd(o,i.transformResults||[])}(n,e))):[]}function JV(t,e){return{documents:[Ow(t,e.path)]}}function eB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ow(t,i);let s=function(u){if(u.length!==0)return Bw(Wn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(f=>function(g){return{field:Ji(g.field),direction:rB(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let c=Ed(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:i}}function tB(t){let e=QV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){De(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){let g=Vw(p);return g instanceof Wn&&yw(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(L){return new us(es(L.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,G3(g)?null:g}(n.limit));let a=null;n.startAt&&(a=function(p){let g=!!p.before,y=p.values||[];return new ls(y,g)}(n.startAt));let u=null;return n.endAt&&(u=function(p){let g=!p.before,y=p.values||[];return new ls(y,g)}(n.endAt)),SV(e,i,o,s,c,"F",a,u)}function nB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Vw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=es(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=es(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=es(n.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=es(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return ct.create(es(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>Vw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function rB(t){return qV[t]}function iB(t){return GV[t]}function sB(t){return WV[t]}function Ji(t){return{fieldPath:t.canonicalString()}}function es(t){return hn.fromServerFormat(t.fieldPath)}function Bw(t){return t instanceof ct?function(n){if(n.op==="=="){if(h_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NAN"}};if(f_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NAN"}};if(f_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(n.field),op:iB(n.op),value:n.value}}}(t):t instanceof Wn?function(n){let r=n.getFilters().map(i=>Bw(i));return r.length===1?r[0]:{compositeFilter:{op:sB(n.op),filters:r}}}(t):ee()}function oB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var bc=class t{constructor(e,n,r,i,s=ue.min(),o=ue.min(),c=Pt.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=a}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var zd=class{constructor(e){this.Tt=e}};function cB(t){let e=tB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?y3(e,e.limit,"L"):e}var L3=class{constructor(){}At(e,n){this.Rt(e,n),n.Vt()}Rt(e,n){if("nullValue"in e)this.ft(n,5);else if("booleanValue"in e)this.ft(n,10),n.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(n,15),n.gt(He(e.integerValue));else if("doubleValue"in e){let r=He(e.doubleValue);isNaN(r)?this.ft(n,13):(this.ft(n,15),Cc(r)?n.gt(0):n.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(n,20),typeof r=="string"&&(r=K2(r)),n.yt(`${r.seconds||""}`),n.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,n),this.bt(n);else if("bytesValue"in e)this.ft(n,30),n.St(Q2(e.bytesValue)),this.bt(n);else if("referenceValue"in e)this.Dt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(n,45),n.gt(r.latitude||0),n.gt(r.longitude||0)}else"mapValue"in e?pw(e)?this.ft(n,Number.MAX_SAFE_INTEGER):hw(e)?this.vt(e.mapValue,n):(this.Ct(e.mapValue,n),this.bt(n)):"arrayValue"in e?(this.Ft(e.arrayValue,n),this.bt(n)):ee()}wt(e,n){this.ft(n,25),this.Mt(e,n)}Mt(e,n){n.yt(e)}Ct(e,n){let r=e.fields||{};this.ft(n,55);for(let i of Object.keys(r))this.wt(i,n),this.Rt(r[i],n)}vt(e,n){var r,i;let s=e.fields||{};this.ft(n,53);let o=os,c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(n,15),n.gt(He(c)),this.wt(o,n),this.Rt(s[o],n)}Ft(e,n){let r=e.values||[];this.ft(n,50);for(let i of r)this.Rt(i,n)}Dt(e,n){this.ft(n,37),X.fromName(e).path.forEach(r=>{this.ft(n,60),this.Mt(r,n)})}ft(e,n){e.gt(n)}bt(e){e.gt(2)}};L3.xt=new L3;var Dd=class{constructor(){this.Tn=new Ad}addToCollectionParentIndex(e,n){return this.Tn.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(Or.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}},Ad=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mt($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt($e.comparator)).toArray()}};var Pne=new Uint8Array(0);var S_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Uw=41943040,In=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(Uw,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);var Ec=class t{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new t(0)}static Un(){return new t(-1)}};var T_="LruGarbageCollector",aB=1048576;function z_([t,e],[n,r]){let i=Me(t,n);return i===0?Me(e,r):i}var xd=class{constructor(e){this.Hn=e,this.buffer=new mt(z_),this.Jn=0}Yn(){return++this.Jn}Zn(e){let n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();z_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Nd=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){$(T_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>I(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cs(n)?$(T_,"Ignoring IndexedDB error during garbage collection: ",n):yield vs(n)}yield this.er(3e5)}))}},Rd=class{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return k.resolve(Af.ae);let r=new xd(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(S_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,c,a,u,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,a=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Zi()<=me.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(a-c)+`ms
	Removed ${p} documents in `+(u-a)+`ms
Total Duration: ${u-f}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}};function lB(t,e){return new Rd(t,e)}var kd=class{constructor(){this.changes=new Y2(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Pd=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Od=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yc(r.mutation,i,c2.empty(),It.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){let i=Nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=hc();return s.forEach((c,a)=>{o=o.insert(c,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Nr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=Z2(),o=gc(),c=function(){return gc()}();return n.forEach((a,u)=>{let f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof X2)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),yc(f.mutation,u,f.mutation.getFieldMask(),It.now())):o.set(u.key,c2.empty())}),this.recalculateAndSaveOverlays(e,s).next(a=>(a.forEach((u,f)=>o.set(u,f)),n.forEach((u,f)=>{var p;return c.set(u,new Pd(f,(p=o.get(u))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=gc(),i=new Ye((o,c)=>o-c),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(a=>{let u=n.get(a);if(u===null)return;let f=r.get(a)||c2.empty();f=c.applyToLocalView(u,f),r.set(a,f);let p=(i.get(c.batchId)||ve()).add(a);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let a=c.getNext(),u=a.key,f=a.value,p=Iw();f.forEach(g=>{if(!s.has(g)){let y=xw(n.get(g),r.get(g));y!==null&&p.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_w(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):k.resolve(Nr()),c=vc,a=s;return o.next(u=>k.forEach(u,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?k.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{a=a.insert(f,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,a,u,ve())).next(f=>({batchId:c,changes:Ew(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=hc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=hc();return this.indexManager.getCollectionParents(e,s).next(c=>k.forEach(c,a=>{let u=function(p,g){return new Fr(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((a,u)=>{let f=u.getKey();o.get(f)===null&&(o=o.insert(f,Gn.newInvalidDocument(f)))});let c=hc();return o.forEach((a,u)=>{let f=s.get(a);f!==void 0&&yc(f.mutation,u,c2.empty(),It.now()),Q3(n,u)&&(c=c.insert(a,u))}),c})}};var Fd=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return k.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:d2(i.createTime)}}(n)),k.resolve()}getNamedQuery(e,n){return k.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:cB(i.bundledQuery),readTime:d2(i.readTime)}}(n)),k.resolve()}};var Vd=class{constructor(){this.overlays=new Ye(X.comparator),this.Rr=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Nr();return k.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),k.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){let i=Nr(),s=n.length+1,o=new X(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let a=c.getNext().value,u=a.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&a.largestBatchId>r&&i.set(a.getKey(),a)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ye((u,f)=>u-f),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=Nr(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}let c=Nr(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,f)=>c.set(u,f)),!(c.size()>=i)););return k.resolve(c)}Et(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Md(n,r));let s=this.Rr.get(n);s===void 0&&(s=ve(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}};var Bd=class{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,k.resolve()}};var Ic=class{constructor(){this.Vr=new mt(ot.mr),this.gr=new mt(ot.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){let r=new ot(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new ot(e,n))}br(e,n){e.forEach(r=>this.removeReference(r,n))}Sr(e){let n=new X(new $e([])),r=new ot(n,e),i=new ot(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let n=new X(new $e([])),r=new ot(n,e),i=new ot(n,e+1),s=ve();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new ot(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ot=class{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return X.comparator(e.key,n.key)||Me(e.Cr,n.Cr)}static pr(e,n){return Me(e.Cr,n.Cr)||X.comparator(e.key,n.key)}};var jd=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new mt(ot.mr)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new vd(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.Mr=this.Mr.add(new ot(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,n){return k.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Nr(r),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?xf:this.Fr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{let c=this.Or(o.Cr);s.push(c)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(Me);return n.forEach(i=>{let s=new ot(i,0),o=new ot(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],c=>{r=r.add(c.Cr)})}),k.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;X.isDocumentKey(s)||(s=s.child(""));let o=new ot(new X(s),0),c=new mt(Me);return this.Mr.forEachWhile(a=>{let u=a.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(c=c.add(a.Cr)),!0)},o),k.resolve(this.Br(c))}Br(e){let n=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return k.forEach(n.mutations,i=>{let s=new ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){let r=new ot(n,0),i=this.Mr.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Ud=class{constructor(e){this.kr=e,this.docs=function(){return new Ye(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=Z2();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Z2(),o=n.path,c=new X(o.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(c);for(;a.hasNext();){let{key:u,value:{document:f}}=a.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||aV(cV(f),r)<=0||(i.has(f.key)||Q3(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}qr(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Hd(this)}getSize(e){return k.resolve(this.size)}},Hd=class extends kd{constructor(e){super(),this.Ir=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}};var $d=class{constructor(e){this.persistence=e,this.Qr=new Y2(n=>Of(n),Ff),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ic,this.targetCount=0,this.Ur=Ec.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),k.resolve()}zn(e){this.Qr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Ur=new Ec(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.zn(n),k.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Qr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){let r=this.Qr.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.Kr.br(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),k.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Kr.vr(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.Kr.containsKey(n))}};var b3=class{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Af(0),this.zr=!1,this.zr=!0,this.jr=new Bd,this.referenceDelegate=e(this),this.Hr=new $d(this),this.indexManager=new Dd,this.remoteDocumentCache=function(i){return new Ud(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new zd(n),this.Yr=new Fd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Vd,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new jd(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);let i=new qd(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return k.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}},qd=class extends td{constructor(e){super(),this.currentSequenceNumber=e}},Gd=class t{constructor(e){this.persistence=e,this.ti=new Ic,this.ni=null}static ri(e){return new t(e)}get ii(){if(this.ni)return this.ni;throw ee()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),k.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.ii,r=>{let i=X.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return k.or([()=>k.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}},E3=class t{constructor(e,n){this.persistence=e,this.oi=new Y2(r=>fV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=lB(this,n)}static ri(e,n){return new t(e,n)}Zr(){}Xr(e){return k.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){let n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return k.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?k.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(c=>{c||(r++,s.removeEntry(o,ue.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),k.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),k.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=s3(e.data.value)),n}ar(e,n,r){return k.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.oi.get(n);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Wd=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=ve(),i=ve();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Kd=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Qd=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sM()?8:uV(dn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Kd;return this._s(e,n,o).next(c=>{if(s.result=c,this.Xi)return this.us(e,n,o,c.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Zi()<=me.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),k.resolve()):(Zi()<=me.DEBUG&&$("QueryEngine","Query:",Xi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Zi()<=me.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,u2(n))):k.resolve())}rs(e,n){if(y_(n))return k.resolve(null);let r=u2(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=y3(n,null,"F"),r=u2(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ve(...s);return this.ns.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(a=>{let u=this.cs(n,c);return this.ls(n,u,o,a.readTime)?this.rs(e,y3(n,null,"F")):this.hs(e,u,n,a)}))})))}ss(e,n,r,i){return y_(n)||i.isEqual(ue.min())?k.resolve(null):this.ns.getDocuments(e,r).next(s=>{let o=this.cs(n,s);return this.ls(n,o,r,i)?k.resolve(null):(Zi()<=me.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xi(n)),this.hs(e,o,n,oV(i,vc)).next(c=>c))})}cs(e,n){let r=new mt(Lw(e));return n.forEach((i,s)=>{Q3(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return Zi()<=me.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Xi(n)),this.ns.getDocumentsMatchingQuery(e,n,Or.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Uf="LocalStore",uB=3e8,Yd=class{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Ye(Me),this.Is=new Y2(s=>Of(s),Ff),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Od(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}};function dB(t,e,n,r){return new Yd(t,e,n,r)}function Hw(t,e){return I(this,null,function*(){let n=oe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],a=ve();for(let u of i){o.push(u.batchId);for(let f of u.mutations)a=a.add(f.key)}for(let u of s){c.push(u.batchId);for(let f of u.mutations)a=a.add(f.key)}return n.localDocuments.getDocuments(r,a).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:c}))})})})}function fB(t,e){let n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,a,u,f){let p=u.batch,g=p.keys(),y=k.resolve();return g.forEach(L=>{y=y.next(()=>f.getEntry(a,L)).next(T=>{let z=u.docVersions.get(L);De(z!==null),T.version.compareTo(z)<0&&(p.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),f.addEntry(T)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(a,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let a=ve();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(a=a.add(c.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $w(t){let e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function hB(t,e){let n=oe(t),r=e.snapshotVersion,i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;let c=[];e.targetChanges.forEach((f,p)=>{let g=i.get(p);if(!g)return;c.push(n.Hr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Hr.addMatchingKeys(s,f.addedDocuments,p)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Pt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),function(T,z,F){return T.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=uB?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(g,y,f)&&c.push(n.Hr.updateTargetData(s,y))});let a=Z2(),u=ve();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(pB(s,o,e.documentUpdates).next(f=>{a=f.Vs,u=f.fs})),!r.isEqual(ue.min())){let f=n.Hr.getLastRemoteSnapshotVersion(s).next(p=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return k.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,a,u)).next(()=>a)}).then(s=>(n.Ts=i,s))}function pB(t,e,n){let r=ve(),i=ve();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Z2();return n.forEach((c,a)=>{let u=s.get(c);a.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(c)),a.isNoDocument()&&a.version.isEqual(ue.min())?(e.removeEntry(c,a.readTime),o=o.insert(c,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||a.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(a),o=o.insert(c,a)):$(Uf,"Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",a.version)}),{Vs:o,fs:i}})}function mB(t,e){let n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xf),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gB(t,e){let n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,k.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new bc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}function Zd(t,e,n){return I(this,null,function*(){let r=oe(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Cs(o))throw o;$(Uf,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function D_(t,e,n){let r=oe(t),i=ue.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(a,u,f){let p=oe(a),g=p.Is.get(f);return g!==void 0?k.resolve(p.Ts.get(g)):p.Hr.getTargetData(u,f)}(r,o,u2(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,c.targetId).next(a=>{s=a})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:ve())).next(c=>(yB(r,zV(e),c),{documents:c,gs:s})))}function yB(t,e,n){let r=t.Es.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}var I3=class{constructor(){this.activeTargetIds=kV()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Xd=class{constructor(){this.ho=new I3,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new I3,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Jd=class{To(e){}shutdown(){}};var A_="ConnectivityMonitor",S3=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){$(A_,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){$(A_,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var i3=null;function ef(){return i3===null?i3=function(){return 268435456+Math.round(2147483648*Math.random())}():i3++,"0x"+i3.toString(16)}var q7="RestConnection",vB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},tf=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===p3?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,n,r,i,s){let o=ef(),c=this.So(e,n.toUriEncodedString());$(q7,`Sending RPC '${e}' ${o}:`,c,r);let a={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(a,i,s),this.vo(e,c,a,r).then(u=>($(q7,`Received RPC '${e}' ${o}: `,u),u),u=>{throw is(q7,`RPC '${e}' ${o} failed with error: `,u,"url: ",c,"request:",r),u})}Co(e,n,r,i,s,o){return this.bo(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ys}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,n){let r=vB[e];return`${this.po}/v1/${n}:${r}`}terminate(){}};var nf=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}};var kt="WebChannelConnection",rf=class extends tf{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){let s=ef();return new Promise((o,c)=>{let a=new V7;a.setWithCredentials(!0),a.listenOnce(B7.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case fc.NO_ERROR:let f=a.getResponseJson();$(kt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case fc.TIMEOUT:$(kt,`RPC '${e}' ${s} timed out`),c(new q(R.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:let p=a.getStatus();if($(kt,`RPC '${e}' ${s} failed with status:`,p,"response text:",a.getResponseText()),p>0){let g=a.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let L=function(z){let F=z.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(F)>=0?F:R.UNKNOWN}(y.status);c(new q(L,y.message))}else c(new q(R.UNKNOWN,"Server responded with status "+a.getStatus()))}else c(new q(R.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{$(kt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);$(kt,`RPC '${e}' ${s} sending request:`,i),a.send(n,"POST",u,r,15)})}Wo(e,n,r){let i=ef(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=H7(),c=U7(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;let f=s.join("");$(kt,`Creating RPC '${e}' stream ${i}: ${f}`,a);let p=o.createWebChannel(f,a),g=!1,y=!1,L=new nf({Fo:z=>{y?$(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,z):(g||($(kt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),$(kt,`RPC '${e}' stream ${i} sending:`,z),p.send(z))},Mo:()=>p.close()}),T=(z,F,W)=>{z.listen(F,U=>{try{W(U)}catch(te){setTimeout(()=>{throw te},0)}})};return T(p,Yi.EventType.OPEN,()=>{y||($(kt,`RPC '${e}' stream ${i} transport opened.`),L.Qo())}),T(p,Yi.EventType.CLOSE,()=>{y||(y=!0,$(kt,`RPC '${e}' stream ${i} transport closed`),L.Ko())}),T(p,Yi.EventType.ERROR,z=>{y||(y=!0,is(kt,`RPC '${e}' stream ${i} transport errored:`,z),L.Ko(new q(R.UNAVAILABLE,"The operation could not be completed")))}),T(p,Yi.EventType.MESSAGE,z=>{var F;if(!y){let W=z.data[0];De(!!W);let U=W,te=U?.error||((F=U[0])===null||F===void 0?void 0:F.error);if(te){$(kt,`RPC '${e}' stream ${i} received error:`,te);let Ae=te.status,pe=function(M){let _=st[M];if(_!==void 0)return Rw(_)}(Ae),w=te.message;pe===void 0&&(pe=R.INTERNAL,w="Unknown error status: "+Ae+" with message "+te.message),y=!0,L.Ko(new q(pe,w)),p.close()}else $(kt,`RPC '${e}' stream ${i} received:`,W),L.Uo(W)}}),T(c,j7.STAT_EVENT,z=>{z.stat===t3.PROXY?$(kt,`RPC '${e}' stream ${i} detected buffering proxy`):z.stat===t3.NOPROXY&&$(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}};function G7(){return typeof document<"u"?document:null}function Y3(t){return new bd(t,!0)}var T3=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var x_="PersistentStream",z3=class{constructor(e,n,r,i,s,o,c,a){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=a,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new T3(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return I(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return I(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,n){return I(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(W2(n.toString()),W2("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(n)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{let i=new q(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){let r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>I(this,null,function*(){this.state=0,this.start()}))}m_(e){return $(x_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():($(x_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},sf=class extends z3{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let n=YV(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?d2(o.readTime):ue.min()}(e);return this.listener.p_(n,r)}y_(e){let n={};n.database=Td(this.serializer),n.addTarget=function(s,o){let c,a=o.target;if(c=pd(a)?{documents:JV(s,a)}:{query:eB(s,a).ht},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=kw(s,o.resumeToken);let u=Ed(s,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(ue.min())>0){c.readTime=w3(s,o.snapshotVersion.toTimestamp());let u=Ed(s,o.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,e);let r=nB(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){let n={};n.database=Td(this.serializer),n.removeTarget=e,this.I_(n)}},of=class extends z3{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();let n=XV(e.writeResults,e.commitTime),r=d2(e.commitTime);return this.listener.v_(r,n)}C_(){let e={};e.database=Td(this.serializer),this.I_(e)}S_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>ZV(this.serializer,r))};this.I_(n)}};var cf=class{},af=class extends cf{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new q(R.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.bo(e,Id(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(R.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Co(e,Id(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(R.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},lf=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(W2(n),this.N_=!1):$("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var Ur="RemoteStore",uf=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(()=>I(this,null,function*(){$r(this)&&($(Ur,"Restarting streams for network reachability change."),yield function(a){return I(this,null,function*(){let u=oe(a);u.W_.add(4),yield Nc(u),u.j_.set("Unknown"),u.W_.delete(4),yield Z3(u)})}(this))}))}),this.j_=new lf(r,i)}};function Z3(t){return I(this,null,function*(){if($r(t))for(let e of t.G_)yield e(!0)})}function Nc(t){return I(this,null,function*(){for(let e of t.G_)yield e(!1)})}function qw(t,e){let n=oe(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Gf(n)?qf(n):Ms(n).c_()&&$f(n,e))}function Hf(t,e){let n=oe(t),r=Ms(n);n.U_.delete(e),r.c_()&&Gw(n,e),n.U_.size===0&&(r.c_()?r.P_():$r(n)&&n.j_.set("Unknown"))}function $f(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ms(t).y_(e)}function Gw(t,e){t.H_.Ne(e),Ms(t).w_(e)}function qf(t){t.H_=new Ld({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ms(t).start(),t.j_.B_()}function Gf(t){return $r(t)&&!Ms(t).u_()&&t.U_.size>0}function $r(t){return oe(t).W_.size===0}function Ww(t){t.H_=void 0}function CB(t){return I(this,null,function*(){t.j_.set("Online")})}function MB(t){return I(this,null,function*(){t.U_.forEach((e,n)=>{$f(t,e)})})}function _B(t,e){return I(this,null,function*(){Ww(t),Gf(t)?(t.j_.q_(e),qf(t)):t.j_.set("Unknown")})}function wB(t,e,n){return I(this,null,function*(){if(t.j_.set("Online"),e instanceof M3&&e.state===2&&e.cause)try{yield function(i,s){return I(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.U_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.U_.delete(c),i.H_.removeTarget(c))})}(t,e)}catch(r){$(Ur,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield D3(t,r)}else if(e instanceof ns?t.H_.We(e):e instanceof C3?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ue.min()))try{let r=yield $w(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let c=s.H_.ot(o);return c.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){let f=s.U_.get(u);f&&s.U_.set(u,f.withResumeToken(a.resumeToken,o))}}),c.targetMismatches.forEach((a,u)=>{let f=s.U_.get(a);if(!f)return;s.U_.set(a,f.withResumeToken(Pt.EMPTY_BYTE_STRING,f.snapshotVersion)),Gw(s,a);let p=new bc(f.target,a,u,f.sequenceNumber);$f(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){$(Ur,"Failed to raise snapshot:",r),yield D3(t,r)}})}function D3(t,e,n){return I(this,null,function*(){if(!Cs(e))throw e;t.W_.add(1),yield Nc(t),t.j_.set("Offline"),n||(n=()=>$w(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){$(Ur,"Retrying IndexedDB access"),yield n(),t.W_.delete(1),yield Z3(t)}))})}function Kw(t,e){return e().catch(n=>D3(t,n,e))}function X3(t){return I(this,null,function*(){let e=oe(t),n=O1(e),r=e.K_.length>0?e.K_[e.K_.length-1].batchId:xf;for(;LB(e);)try{let i=yield mB(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,bB(e,i)}catch(i){yield D3(e,i)}Qw(e)&&Yw(e)})}function LB(t){return $r(t)&&t.K_.length<10}function bB(t,e){t.K_.push(e);let n=O1(t);n.c_()&&n.b_&&n.S_(e.mutations)}function Qw(t){return $r(t)&&!O1(t).u_()&&t.K_.length>0}function Yw(t){O1(t).start()}function EB(t){return I(this,null,function*(){O1(t).C_()})}function IB(t){return I(this,null,function*(){let e=O1(t);for(let n of t.K_)e.S_(n.mutations)})}function SB(t,e,n){return I(this,null,function*(){let r=t.K_.shift(),i=Cd.from(r,e,n);yield Kw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield X3(t)})}function TB(t,e){return I(this,null,function*(){e&&O1(t).b_&&(yield function(r,i){return I(this,null,function*(){if(function(o){return UV(o)&&o!==R.ABORTED}(i.code)){let s=r.K_.shift();O1(r).h_(),yield Kw(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield X3(r)}})}(t,e)),Qw(t)&&Yw(t)})}function N_(t,e){return I(this,null,function*(){let n=oe(t);n.asyncQueue.verifyOperationInProgress(),$(Ur,"RemoteStore received new credentials");let r=$r(n);n.W_.add(3),yield Nc(n),r&&n.j_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),yield Z3(n)})}function zB(t,e){return I(this,null,function*(){let n=oe(t);e?(n.W_.delete(2),yield Z3(n)):e||(n.W_.add(2),yield Nc(n),n.j_.set("Unknown"))})}function Ms(t){return t.J_||(t.J_=function(n,r,i){let s=oe(n);return s.M_(),new sf(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:CB.bind(null,t),No:MB.bind(null,t),Lo:_B.bind(null,t),p_:wB.bind(null,t)}),t.G_.push(e=>I(this,null,function*(){e?(t.J_.h_(),Gf(t)?qf(t):t.j_.set("Unknown")):(yield t.J_.stop(),Ww(t))}))),t.J_}function O1(t){return t.Y_||(t.Y_=function(n,r,i){let s=oe(n);return s.M_(),new of(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:EB.bind(null,t),Lo:TB.bind(null,t),D_:IB.bind(null,t),v_:SB.bind(null,t)}),t.G_.push(e=>I(this,null,function*(){e?(t.Y_.h_(),yield X3(t)):(yield t.Y_.stop(),t.K_.length>0&&($(Ur,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))}))),t.Y_}var df=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new a2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Wf(t,e){if(W2("AsyncQueue",`${e}: ${t}`),Cs(t))return new q(R.UNAVAILABLE,`${e}: ${t}`);throw t}var A3=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=hc(),this.sortedSet=new Ye(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var x3=class{constructor(){this.Z_=new Ye(X.comparator)}track(e){let n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ee():this.Z_=this.Z_.insert(n,e)}X_(){let e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}},ms=class t{constructor(e,n,r,i,s,o,c,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=a,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new t(e,n,A3.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&K3(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var ff=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},hf=class{constructor(){this.queries=R_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){let i=oe(n),s=i.queries;i.queries=R_(),s.forEach((o,c)=>{for(let a of c.ta)a.onError(r)})})(this,new q(R.ABORTED,"Firestore shutting down"))}};function R_(){return new Y2(t=>ww(t),K3)}function Zw(t,e){return I(this,null,function*(){let n=oe(t),r=3,i=e.query,s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new ff,r=e.ra()?0:1);try{switch(r){case 0:s.ea=yield n.onListen(i,!0);break;case 1:s.ea=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let c=Wf(o,`Initialization of query '${Xi(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&Kf(n)})}function Xw(t,e){return I(this,null,function*(){let n=oe(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function DB(t,e){let n=oe(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let c of o.ta)c.oa(i)&&(r=!0);o.ea=i}}r&&Kf(n)}function AB(t,e,n){let r=oe(t),i=r.queries.get(e);if(i)for(let s of i.ta)s.onError(n);r.queries.delete(e)}function Kf(t){t.ia.forEach(e=>{e.next()})}var pf,k_;(k_=pf||(pf={}))._a="default",k_.Cache="cache";var N3=class{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ms(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;let r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;let n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==pf.Cache}};var R3=class{constructor(e){this.key=e}},k3=class{constructor(e){this.key=e}},mf=class{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ve(),this.mutatedKeys=ve(),this.ya=Lw(e),this.wa=new A3(this.ya)}get ba(){return this.fa}Sa(e,n){let r=n?n.Da:new x3,i=n?n.wa:this.wa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1,a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let g=i.get(f),y=Q3(this.query,p)?p:null,L=!!g&&this.mutatedKeys.has(g.key),T=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),z=!1;g&&y?g.data.isEqual(y.data)?L!==T&&(r.track({type:3,doc:y}),z=!0):this.va(g,y)||(r.track({type:2,doc:y}),z=!0,(a&&this.ya(y,a)>0||u&&this.ya(y,u)<0)&&(c=!0)):!g&&y?(r.track({type:0,doc:y}),z=!0):g&&!y&&(r.track({type:1,doc:g}),z=!0,(a||u)&&(c=!0)),z&&(y?(o=o.add(y),s=T?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{wa:o,Da:r,ls:c,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let o=e.Da.X_();o.sort((f,p)=>function(y,L){let T=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return T(y)-T(L)}(f.type,p.type)||this.ya(f.doc,p.doc)),this.Ca(r),i=i!=null&&i;let c=n&&!i?this.Fa():[],a=this.pa.size===0&&this.current&&!i?1:0,u=a!==this.ga;return this.ga=a,o.length!==0||u?{snapshot:new ms(this.query,e.wa,s,o,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new x3,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=ve(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new k3(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new R3(r))}),n}Oa(e){this.fa=e.gs,this.pa=ve();let n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return ms.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},Qf="SyncEngine",gf=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},yf=class{constructor(e){this.key=e,this.Ba=!1}},vf=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Y2(c=>ww(c),K3),this.qa=new Map,this.Qa=new Set,this.$a=new Ye(X.comparator),this.Ka=new Map,this.Ua=new Ic,this.Wa={},this.Ga=new Map,this.za=Ec.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function xB(t,e,n=!0){return I(this,null,function*(){let r=iL(t),i,s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=yield Jw(r,e,n,!0),i})}function NB(t,e){return I(this,null,function*(){let n=iL(t);yield Jw(n,e,!0,!1)})}function Jw(t,e,n,r){return I(this,null,function*(){let i=yield gB(t.localStore,u2(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),c;return r&&(c=yield RB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&qw(t.remoteStore,i),c})}function RB(t,e,n,r,i){return I(this,null,function*(){t.Ha=(p,g,y)=>function(T,z,F,W){return I(this,null,function*(){let U=z.view.Sa(F);U.ls&&(U=yield D_(T.localStore,z.query,!1).then(({documents:w})=>z.view.Sa(w,U)));let te=W&&W.targetChanges.get(z.targetId),Ae=W&&W.targetMismatches.get(z.targetId)!=null,pe=z.view.applyChanges(U,T.isPrimaryClient,te,Ae);return O_(T,z.targetId,pe.Ma),pe.snapshot})}(t,p,g,y);let s=yield D_(t.localStore,e,!0),o=new mf(e,s.gs),c=o.Sa(s.documents),a=Lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(c,t.isPrimaryClient,a);O_(t,n,u.Ma);let f=new gf(e,n,o);return t.ka.set(e,f),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot})}function kB(t,e,n){return I(this,null,function*(){let r=oe(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!K3(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Hf(r.remoteStore,i.targetId),Cf(r,i.targetId)}).catch(vs))):(Cf(r,i.targetId),yield Zd(r.localStore,i.targetId,!0))})}function PB(t,e){return I(this,null,function*(){let n=oe(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hf(n.remoteStore,r.targetId))})}function OB(t,e,n){return I(this,null,function*(){let r=$B(t);try{let i=yield function(o,c){let a=oe(o),u=It.now(),f=c.reduce((y,L)=>y.add(L.key),ve()),p,g;return a.persistence.runTransaction("Locally write mutations","readwrite",y=>{let L=Z2(),T=ve();return a.ds.getEntries(y,f).next(z=>{L=z,L.forEach((F,W)=>{W.isValidDocument()||(T=T.add(F))})}).next(()=>a.localDocuments.getOverlayedDocuments(y,L)).next(z=>{p=z;let F=[];for(let W of c){let U=jV(W,p.get(W.key).overlayedDocument);U!=null&&F.push(new X2(W.key,U,mw(U.value.mapValue),N1.exists(!0)))}return a.mutationQueue.addMutationBatch(y,u,F,c)}).next(z=>{g=z;let F=z.applyToLocalDocumentSet(p,T);return a.documentOverlayCache.saveOverlays(y,z.batchId,F)})}).then(()=>({batchId:g.batchId,changes:Ew(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,a){let u=o.Wa[o.currentUser.toKey()];u||(u=new Ye(Me)),u=u.insert(c,a),o.Wa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Rc(r,i.changes),yield X3(r.remoteStore)}catch(i){let s=Wf(i,"Failed to persist write");n.reject(s)}})}function eL(t,e){return I(this,null,function*(){let n=oe(t);try{let r=yield hB(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Ka.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?De(o.Ba):i.removedDocuments.size>0&&(De(o.Ba),o.Ba=!1))}),yield Rc(n,r,e)}catch(r){yield vs(r)}})}function P_(t,e,n){let r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ka.forEach((s,o)=>{let c=o.view.sa(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let a=oe(o);a.onlineState=c;let u=!1;a.queries.forEach((f,p)=>{for(let g of p.ta)g.sa(c)&&(u=!0)}),u&&Kf(a)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function FB(t,e,n){return I(this,null,function*(){let r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ka.get(e),s=i&&i.key;if(s){let o=new Ye(X.comparator);o=o.insert(s,Gn.newNoDocument(s,ue.min()));let c=ve().add(s),a=new v3(ue.min(),new Map,new Ye(Me),o,c);yield eL(r,a),r.$a=r.$a.remove(s),r.Ka.delete(e),Yf(r)}else yield Zd(r.localStore,e,!1).then(()=>Cf(r,e,n)).catch(vs)})}function VB(t,e){return I(this,null,function*(){let n=oe(t),r=e.batch.batchId;try{let i=yield fB(n.localStore,e);nL(n,r,null),tL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Rc(n,i)}catch(i){yield vs(i)}})}function BB(t,e,n){return I(this,null,function*(){let r=oe(t);try{let i=yield function(o,c){let a=oe(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return a.mutationQueue.lookupMutationBatch(u,c).next(p=>(De(p!==null),f=p.keys(),a.mutationQueue.removeMutationBatch(u,p))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,f,c)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>a.localDocuments.getDocuments(u,f))})}(r.localStore,e);nL(r,e,n),tL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Rc(r,i)}catch(i){yield vs(i)}})}function tL(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function nL(t,e,n){let r=oe(t),i=r.Wa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Cf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.Sr(e).forEach(r=>{t.Ua.containsKey(r)||rL(t,r)})}function rL(t,e){t.Qa.delete(e.path.canonicalString());let n=t.$a.get(e);n!==null&&(Hf(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Yf(t))}function O_(t,e,n){for(let r of n)r instanceof R3?(t.Ua.addReference(r.key,e),jB(t,r)):r instanceof k3?($(Qf,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||rL(t,r.key)):ee()}function jB(t,e){let n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||($(Qf,"New document in limbo: "+n),t.Qa.add(r),Yf(t))}function Yf(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){let e=t.Qa.values().next().value;t.Qa.delete(e);let n=new X($e.fromString(e)),r=t.za.next();t.Ka.set(r,new yf(n)),t.$a=t.$a.insert(n,r),qw(t.remoteStore,new bc(u2(Vf(n.path)),r,"TargetPurposeLimboResolution",Af.ae))}}function Rc(t,e,n){return I(this,null,function*(){let r=oe(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((c,a)=>{o.push(r.Ha(a,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){let p=u?!u.fromCache:(f=n?.targetChanges.get(a.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(a.targetId,p?"current":"not-current")}if(u){i.push(u);let p=Wd.Yi(a.targetId,u);s.push(p)}}))}),yield Promise.all(o),r.La.p_(i),yield function(a,u){return I(this,null,function*(){let f=oe(a);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(u,g=>k.forEach(g.Hi,y=>f.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>k.forEach(g.Ji,y=>f.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Cs(p))throw p;$(Uf,"Failed to update sequence numbers: "+p)}for(let p of u){let g=p.targetId;if(!p.fromCache){let y=f.Ts.get(g),L=y.snapshotVersion,T=y.withLastLimboFreeSnapshotVersion(L);f.Ts=f.Ts.insert(g,T)}}})}(r.localStore,s))})}function UB(t,e){return I(this,null,function*(){let n=oe(t);if(!n.currentUser.isEqual(e)){$(Qf,"User change. New user:",e.toKey());let r=yield Hw(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(c=>{c.forEach(a=>{a.reject(new q(R.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Rc(n,r.Rs)}})}function HB(t,e){let n=oe(t),r=n.Ka.get(e);if(r&&r.Ba)return ve().add(r.key);{let i=ve(),s=n.qa.get(e);if(!s)return i;for(let o of s){let c=n.ka.get(o);i=i.unionWith(c.view.ba)}return i}}function iL(t){let e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FB.bind(null,e),e.La.p_=DB.bind(null,e.eventManager),e.La.Ja=AB.bind(null,e.eventManager),e}function $B(t){let e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BB.bind(null,e),e}var sL=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return I(this,null,function*(){this.serializer=Y3(n.databaseInfo.databaseId),this.sharedClientState=this.Za(n),this.persistence=this.Xa(n),yield this.persistence.start(),this.localStore=this.eu(n),this.gcScheduler=this.tu(n,this.localStore),this.indexBackfillerScheduler=this.nu(n,this.localStore)})}tu(n,r){return null}nu(n,r){return null}eu(n){return dB(this.persistence,new Qd,n.initialUser,this.serializer)}Xa(n){return new b3(Gd.ri,this.serializer)}Za(n){return new Xd}terminate(){return I(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),Mf=class extends sL{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){De(this.persistence.referenceDelegate instanceof E3);let r=this.persistence.referenceDelegate.garbageCollector;return new Nd(r,e.asyncQueue,n)}Xa(e){let n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new b3(r=>E3.ri(r,n),this.serializer)}};var qB=(()=>{class t{initialize(n,r){return I(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>P_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UB.bind(null,this.syncEngine),yield zB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new hf}()}createDatastore(n){let r=Y3(n.databaseInfo.databaseId),i=function(o){return new rf(o)}(n.databaseInfo);return function(o,c,a,u){return new af(o,c,a,u)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,a){return new uf(i,s,o,c,a)}(this.localStore,this.datastore,n.asyncQueue,r=>P_(this.syncEngine,r,0),function(){return S3.D()?new S3:new Jd}())}createSyncEngine(n,r){return function(s,o,c,a,u,f,p){let g=new vf(s,o,c,a,u,f);return p&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var n,r;yield function(s){return I(this,null,function*(){let o=oe(s);$(Ur,"RemoteStore shutting down."),o.W_.add(5),yield Nc(o),o.z_.shutdown(),o.j_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var P3=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):W2("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var F1="FirestoreClient",_f=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pt.UNAUTHENTICATED,this.clientId=u3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>I(this,null,function*(){$(F1,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>($(F1,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new a2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Wf(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function W7(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),$(F1,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield Hw(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function F_(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield GB(t);$(F1,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>N_(e.remoteStore,i)),t._onlineComponents=e})}function GB(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(F1,"Using user provided OfflineComponentProvider");try{yield W7(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;is("Error using user provided cache. Falling back to memory cache: "+n),yield W7(t,new sL)}}else $(F1,"Using default OfflineComponentProvider"),yield W7(t,new Mf(void 0));return t._offlineComponents})}function oL(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?($(F1,"Using user provided OnlineComponentProvider"),yield F_(t,t._uninitializedComponentsProvider._online)):($(F1,"Using default OnlineComponentProvider"),yield F_(t,new qB))),t._onlineComponents})}function WB(t){return oL(t).then(e=>e.syncEngine)}function wf(t){return I(this,null,function*(){let e=yield oL(t),n=e.eventManager;return n.onListen=xB.bind(null,e.syncEngine),n.onUnlisten=kB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PB.bind(null,e.syncEngine),n})}function KB(t,e,n={}){let r=new a2;return t.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(s,o,c,a,u){let f=new P3({next:g=>{f.su(),o.enqueueAndForget(()=>Xw(s,p)),g.fromCache&&a.source==="server"?u.reject(new q(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new N3(c,f,{includeMetadataChanges:!0,Ta:!0});return Zw(s,p)}(yield wf(t),t.asyncQueue,e,n,r)})),r.promise}function cL(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var V_=new Map;function aL(t,e,n){if(!n)throw new q(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QB(t,e,n,r){if(e===!0&&r===!0)throw new q(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B_(t){if(!X.isDocumentKey(t))throw new q(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j_(t){if(X.isDocumentKey(t))throw new q(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function J3(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function R1(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=J3(t);throw new q(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function YB(t,e){if(e<=0)throw new q(R.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var lL="firestore.googleapis.com",U_=!0,O3=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lL,this.ssl=U_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:U_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Uw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aB)throw new q(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new K7;switch(r.type){case"firstParty":return new X7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=V_.get(n);r&&($("ComponentProvider","Removing Datastore"),V_.delete(n),r.terminate())}(this),Promise.resolve()}};function uL(t,e,n,r={}){var i;let s=(t=R1(t,gs))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;s.host!==lL&&s.host!==c&&is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let a=Object.assign(Object.assign({},s),{host:c,ssl:!1,emulatorOptions:r});if(!Sr(a,o)&&(t._setSettings(a),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=pt.MOCK_USER;else{u=Fa(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new q(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new pt(p)}t._authCredentials=new Q7(new a3(u,f))}}var V1=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},pn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new k1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},k1=class t extends V1{constructor(e,n,r){super(e,n,Vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new X(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function dL(t,e,...n){if(t=ht(t),aL("collection","path",e),t instanceof gs){let r=$e.fromString(e,...n);return j_(r),new k1(t,null,r)}{if(!(t instanceof pn||t instanceof k1))throw new q(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($e.fromString(e,...n));return j_(r),new k1(t.firestore,null,r)}}function Zf(t,e,...n){if(t=ht(t),arguments.length===1&&(e=u3.newId()),aL("doc","path",e),t instanceof gs){let r=$e.fromString(e,...n);return B_(r),new pn(t,null,new X(r))}{if(!(t instanceof pn||t instanceof k1))throw new q(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($e.fromString(e,...n));return B_(r),new pn(t.firestore,t instanceof k1?t.converter:null,new X(r))}}var H_="AsyncQueue",F3=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new T3(this,"async_queue_retry"),this.bu=()=>{let r=G7();r&&$(H_,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;let n=G7();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let n=G7();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let n=new a2;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return I(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Cs(e))throw e;$(H_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let n=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw W2("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);let i=df.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&ee()}verifyOperationInProgress(){}Mu(){return I(this,null,function*(){let e;do e=this.Su,yield e;while(e!==this.Su)})}xu(e){for(let n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let n=this.fu.indexOf(e);this.fu.splice(n,1)}};function $_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var B1=class extends gs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new F3,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new F3(e),this._firestoreClient=void 0,yield e}})}};function fL(t,e){let n=typeof t=="object"?t:z1(),r=typeof t=="string"?t:e||p3,i=qi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Oa("firestore");s&&uL(i,...s)}return i}function Xf(t){if(t._terminated)throw new q(R.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZB(t),t._firestoreClient}function ZB(t){var e,n,r;let i=t._freezeSettings(),s=function(c,a,u,f){return new nd(c,a,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,cL(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new _f(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let a=c?._online.build();return{_offline:c?._offline.build(a),_online:a}}(t._componentsProvider))}var Sc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Pt.fromBase64String(e))}catch(n){throw new q(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Tc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var V3=class{constructor(e){this._methodName=e}};var zc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}};var Dc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var XB=/^__.*__$/,Lf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new X2(e,this.data,this.fieldMask,n,this.fieldTransforms):new jr(e,this.data,n,this.fieldTransforms)}};function hL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var bf=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return B3(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(hL(this.Lu)&&XB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},Ef=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Y3(e)}ju(e,n,r,i=!1){return new bf({Lu:e,methodName:n,zu:r,path:hn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function pL(t){let e=t._freezeSettings(),n=Y3(t._databaseId);return new Ef(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JB(t,e,n,r,i,s={}){let o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);yL("Data must be an object, but it was:",o,r);let c=mL(r,o),a,u;if(s.merge)a=new c2(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let g=tj(e,p,n);if(!o.contains(g))throw new q(R.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);rj(f,g)||f.push(g)}a=new c2(f),u=o.fieldTransforms.filter(p=>a.covers(p.field))}else a=null,u=o.fieldTransforms;return new Lf(new qn(c),a,u)}function ej(t,e,n,r=!1){return Jf(n,t.ju(r?4:3,e))}function Jf(t,e){if(gL(t=ht(t)))return yL("Unsupported field value:",e,t),mL(t,e);if(t instanceof V3)return function(r,i){if(!hL(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let a=Jf(c,i.Uu(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=It.fromDate(r);return{timestampValue:w3(i.serializer,s)}}if(r instanceof It){let s=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:w3(i.serializer,s)}}if(r instanceof zc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sc)return{bytesValue:kw(i.serializer,r._byteString)};if(r instanceof pn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Dc)return function(o,c){return{mapValue:{fields:{[Rf]:{stringValue:kf},[os]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Wu("VectorValues must only contain numeric values.");return Bf(c.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${J3(r)}`)}(t,e)}function mL(t,e){let n={};return cw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hr(t,(r,i)=>{let s=Jf(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof zc||t instanceof Sc||t instanceof pn||t instanceof V3||t instanceof Dc)}function yL(t,e,n){if(!gL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=J3(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function tj(t,e,n){if((e=ht(e))instanceof Tc)return e._internalPath;if(typeof e=="string")return vL(t,e);throw B3("Field path arguments must be of type string or ",t,!1,void 0,n)}var nj=new RegExp("[~\\*/\\[\\]]");function vL(t,e,n){if(e.search(nj)>=0)throw B3(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tc(...e.split("."))._internalPath}catch{throw B3(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function B3(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${r}`),o&&(a+=` in document ${i}`),a+=")"),new q(R.INVALID_ARGUMENT,c+t+a)}function rj(t,e){return t.some(n=>n.isEqual(e))}var j3=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new If(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(e9("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},If=class extends j3{data(){return super.data()}};function e9(t,e){return typeof e=="string"?vL(t,e):e instanceof Tc?e._internalPath:e._delegate._internalPath}function CL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ac=class{},U3=class extends Ac{};function ML(t,e,...n){let r=[];e instanceof Ac&&r.push(e),r=r.concat(n),function(s){let o=s.filter(a=>a instanceof Sf).length,c=s.filter(a=>a instanceof H3).length;if(o>1||o>0&&c>0)throw new q(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var H3=class t extends U3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return LL(e._query,n),new V1(e.firestore,e.converter,md(e._query,n))}_parse(e){let n=pL(e.firestore);return function(s,o,c,a,u,f,p){let g;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new q(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){G_(p,f);let L=[];for(let T of p)L.push(q_(a,s,T));g={arrayValue:{values:L}}}else g=q_(a,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||G_(p,f),g=ej(c,o,p,f==="in"||f==="not-in");return ct.create(u,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function _L(t,e,n){let r=e,i=e9("where",t);return H3._create(i,r,n)}var Sf=class t extends Ac{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,c=s.getFlattenedFilters();for(let a of c)LL(o,a),o=md(o,a)}(e._query,n),new V1(e.firestore,e.converter,md(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Tf=class t extends U3{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new V1(e.firestore,e.converter,y3(e._query,this._limit,this._limitType))}};function wL(t){return YB("limit",t),Tf._create("limit",t,"F")}function q_(t,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new q(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_w(e)&&n.indexOf("/")!==-1)throw new q(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child($e.fromString(n));if(!X.isDocumentKey(r))throw new q(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return d_(t,new X(r))}if(n instanceof pn)return d_(t,n._key);throw new q(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${J3(n)}.`)}function G_(t,e){if(!Array.isArray(t)||t.length===0)throw new q(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LL(t,e){let n=function(i,s){for(let o of i)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var zf=class{convertValue(e,n="none"){switch(P1(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Q2(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Hr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[os].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>He(o.doubleValue));return new Dc(s)}convertGeoPoint(e){return new zc(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=W3(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mc(e));default:return null}}convertTimestamp(e){let n=K2(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=$e.fromString(e);De(jw(r));let i=new m3(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||W2(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function ij(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var kr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},$3=class extends j3{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new rs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(e9("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},rs=class extends $3{data(e={}){return super.data(e)}},q3=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new kr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rs(this._firestore,this._userDataWriter,r.key,r,new kr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let a=new rs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new kr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let a=new rs(i._firestore,i._userDataWriter,c.doc.key,c.doc,new kr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,f=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:sj(c.type),doc:a,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function sj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}var xc=class extends zf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}};function bL(t){t=R1(t,V1);let e=R1(t.firestore,B1),n=Xf(e),r=new xc(e);return CL(t._query),KB(n,t._query).then(i=>new q3(e,r,t,i))}function EL(t){return SL(R1(t.firestore,B1),[new wc(t._key,N1.none())])}function IL(t,e){let n=R1(t.firestore,B1),r=Zf(t),i=ij(t.converter,e);return SL(n,[JB(pL(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,N1.exists(!1))]).then(()=>r)}function t9(t,...e){var n,r,i;t=ht(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||$_(e[o])||(s=e[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if($_(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let a,u,f;if(t instanceof pn)u=R1(t.firestore,B1),f=Vf(t._key.path),a={next:p=>{e[o]&&e[o](oj(u,t,p))},error:e[o+1],complete:e[o+2]};else{let p=R1(t,V1);u=R1(p.firestore,B1),f=p._query;let g=new xc(u);a={next:y=>{e[o]&&e[o](new q3(u,g,p,y))},error:e[o+1],complete:e[o+2]},CL(t._query)}return function(g,y,L,T){let z=new P3(T),F=new N3(y,z,L);return g.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return Zw(yield wf(g),F)})),()=>{z.su(),g.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return Xw(yield wf(g),F)}))}}(Xf(u),f,c,a)}function SL(t,e){return function(r,i){let s=new a2;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return OB(yield WB(r),i,s)})),s.promise}(Xf(t),e)}function oj(t,e,n){let r=n.docs.get(e._key),i=new xc(t);return new $3(t,i,e._key,r,new kr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ys=i})(T1),fn(new bt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new B1(new Y7(r.getProvider("auth-internal")),new J7(o,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new m3(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Ve(n_,r_,e),Ve(n_,r_,"esm2017")})();var e6=function(){return e6=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},e6.apply(this,arguments)};var lj={includeMetadataChanges:!1};function TL(t,e){return e===void 0&&(e=lj),new ae(function(n){var r=t9(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function zL(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:e6(e6({},r),(n={},n[e.idField]=t.id,n))}function DL(t){return TL(t,{includeMetadataChanges:!0}).pipe(ne(function(e){return e.docs}))}function AL(t,e){return e===void 0&&(e={}),DL(t).pipe(ne(function(n){return n.map(function(r){return zL(r,e)})}))}var J2=class{constructor(e){return e}},xL="firestore",n9=class{constructor(){return D1(xL)}};var r9=new K("angularfire2.firestore-instances");function uj(t,e){let n=Wi(xL,t,e);return n&&new J2(n)}function dj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new J2(r)}}var fj={provide:n9,deps:[[new Ut,r9]]},hj={provide:J2,useFactory:uj,deps:[[new Ut,r9],$2]};function NL(t,...e){return Ve("angularfire",U2.full,"fst"),Cn([hj,fj,{provide:r9,useFactory:dj(t),multi:!0,deps:[Se,Ke,H2,Dr,[new Ut,Qi],[new Ut,Ki],...e]}])}var RL=Et(AL,!0);var kc=Et(IL,!0,2);var j1=Et(dL,!0,2);var kL=Et(EL,!0,2);var PL=Et(Zf,!0,2);var t6=Et(bL,!0);var OL=Et(fL,!0);var FL=Et(wL,!0,2);var VL=Et(ML,!0,2);var BL=Et(_L,!0,2);var WL="firebasestorage.googleapis.com",KL="storageBucket",pj=2*60*1e3,mj=10*60*1e3;var gt=class t extends nn{constructor(e,n,r=0){super(i9(e),`Firebase Storage: ${n} (${i9(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return i9(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Tt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Tt||{});function i9(t){return"storage/"+t}function QL(){let t="An unknown error occurred, please check the error payload for server response.";return new gt(Tt.UNKNOWN,t)}function gj(t){return new gt(Tt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yj(t){return new gt(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vj(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(Tt.UNAUTHENTICATED,t)}function Cj(){return new gt(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Mj(t){return new gt(Tt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function _j(){return new gt(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wj(){return new gt(Tt.CANCELED,"User canceled the upload/download.")}function Lj(t){return new gt(Tt.INVALID_URL,"Invalid URL '"+t+"'.")}function bj(t){return new gt(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ej(){return new gt(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KL+"' property when initializing the app?")}function Ij(){return new gt(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function s9(t){return new gt(Tt.INVALID_ARGUMENT,t)}function YL(){return new gt(Tt.APP_DELETED,"The Firebase app was deleted.")}function Sj(t){return new gt(Tt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pc(t){throw new gt(Tt.INTERNAL_ERROR,"Internal error: "+t)}var Kn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw bj(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}let o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),a={bucket:1,path:3};function u(te){te.path_=decodeURIComponent(te.path)}let f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${i}/o${g}`,"i"),L={bucket:1,path:3},T=n===WL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",F=new RegExp(`^https?://${T}/${i}/${z}`,"i"),U=[{regex:c,indices:a,postModify:s},{regex:y,indices:L,postModify:u},{regex:F,indices:{bucket:1,path:2},postModify:u}];for(let te=0;te<U.length;te++){let Ae=U[te],pe=Ae.regex.exec(e);if(pe){let w=pe[Ae.indices.bucket],v=pe[Ae.indices.path];v||(v=""),r=new t(w,v),Ae.postModify(r);break}}if(r==null)throw Lj(e);return r}},o9=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Tj(t,e,n){let r=1,i=null,s=null,o=!1,c=0;function a(){return c===2}let u=!1;function f(...z){u||(u=!0,e.apply(null,z))}function p(z){i=setTimeout(()=>{i=null,t(y,a())},z)}function g(){s&&clearTimeout(s)}function y(z,...F){if(u){g();return}if(z){g(),f.call(null,z,...F);return}if(a()||o){g(),f.call(null,z,...F);return}r<64&&(r*=2);let U;c===1?(c=2,U=0):U=(r+Math.random())*1e3,p(U)}let L=!1;function T(z){L||(L=!0,g(),!u&&(i!==null?(z||(c=2),clearTimeout(i),p(0)):z||(c=1)))}return p(0),s=setTimeout(()=>{o=!0,T(!0)},n),T}function zj(t){t(!1)}function Dj(t){return t!==void 0}function Aj(t){return typeof t=="object"&&!Array.isArray(t)}function ZL(t){return typeof t=="string"||t instanceof String}function UL(t,e,n,r){if(r<e)throw s9(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw s9(`Invalid value for '${t}'. Expected ${n} or less.`)}function XL(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function JL(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ws=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(ws||{});function xj(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var c9=class{constructor(e,n,r,i,s,o,c,a,u,f,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,L)=>{this.resolve_=y,this.reject_=L,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new _s(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=c=>{let a=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let c=s.getErrorCode()===ws.NO_ERROR,a=s.getStatus();if(!c||xj(a,this.additionalRetryCodes_)&&this.retry){let f=s.getErrorCode()===ws.ABORT;r(!1,new _s(!1,null,f));return}let u=this.successCodes_.indexOf(a)!==-1;r(!0,new _s(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{let a=this.callback_(c,c.getResponse());Dj(a)?s(a):s()}catch(a){o(a)}else if(c!==null){let a=QL();a.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,a)):o(a)}else if(i.canceled){let a=this.appDelete_?YL():wj();o(a)}else{let a=_j();o(a)}};this.canceled_?n(!1,new _s(!1,null,!0)):this.backoffId_=Tj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},_s=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Nj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Rj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Pj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Oj(t,e,n,r,i,s,o=!0){let c=JL(t.urlParams),a=t.url+c,u=Object.assign({},t.headers);return kj(u,e),Nj(u,n),Rj(u,s),Pj(u,r),new c9(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function eb(t){let e;try{e=JSON.parse(t)}catch{return null}return Aj(e)?e:null}function Fj(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Vj(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function tb(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Bj(t,e){return e}var St=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Bj}},n6=null;function jj(t){return!ZL(t)||t.length<2?t:tb(t)}function Uj(){if(n6)return n6;let t=[];t.push(new St("bucket")),t.push(new St("generation")),t.push(new St("metageneration")),t.push(new St("name","fullPath",!0));function e(s,o){return jj(o)}let n=new St("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new St("size");return i.xform=r,t.push(i),t.push(new St("timeCreated")),t.push(new St("updated")),t.push(new St("md5Hash",null,!0)),t.push(new St("cacheControl",null,!0)),t.push(new St("contentDisposition",null,!0)),t.push(new St("contentEncoding",null,!0)),t.push(new St("contentLanguage",null,!0)),t.push(new St("contentType",null,!0)),t.push(new St("metadata","customMetadata",!0)),n6=t,n6}function Hj(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new Kn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function $j(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return Hj(r,t),r}function qj(t,e,n){let r=eb(e);return r===null?null:$j(t,r,n)}function Gj(t,e,n,r){let i=eb(e);if(i===null||!ZL(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let f=t.bucket,p=t.fullPath,g="/b/"+o(f)+"/o/"+o(p),y=XL(g,n,r),L=JL({alt:"media",token:u});return y+L})[0]}var a9=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Wj(t){if(!t)throw QL()}function Kj(t,e){function n(r,i){let s=qj(t,i,e);return Wj(s!==null),Gj(s,i,t.host,t._protocol)}return n}function Qj(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Cj():i=vj():n.getStatus()===402?i=yj(t.bucket):n.getStatus()===403?i=Mj(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Yj(t){let e=Qj(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=gj(t.path)),s.serverResponse=i.serverResponse,s}return n}function Zj(t,e,n){let r=e.fullServerUrl(),i=XL(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,c=new a9(i,s,Kj(t,n),o);return c.errorHandler=Yj(e),c}var i1e=256*1024;var HL=null,l9=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ws.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ws.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ws.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Pc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},u9=class extends l9{initXhr(){this.xhr_.responseType="text"}};function Xj(){return HL?HL():new u9}var Ls=class t{constructor(e,n){this._service=e,n instanceof Kn?this._location=n:this._location=Kn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tb(this._location.path)}get storage(){return this._service}get parent(){let e=Fj(this._location.path);if(e===null)return null;let n=new Kn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Sj(e)}};function Jj(t){t._throwIfRoot("getDownloadURL");let e=Zj(t.storage,t._location,Uj());return t.storage.makeRequestWithTokens(e,Xj).then(n=>{if(n===null)throw Ij();return n})}function eU(t,e){let n=Vj(t._location.path,e),r=new Kn(t._location.bucket,n);return new Ls(t.storage,r)}function tU(t){return/^[A-Za-z]+:\/\//.test(t)}function nU(t,e){return new Ls(t,e)}function nb(t,e){if(t instanceof Oc){let n=t;if(n._bucket==null)throw Ej();let r=new Ls(n,n._bucket);return e!=null?nb(r,e):r}else return e!==void 0?eU(t,e):t}function rU(t,e){if(e&&tU(e)){if(t instanceof Oc)return nU(t,e);throw s9("To use ref(service, url), the first argument must be a Storage instance.")}else return nb(t,e)}function $L(t,e){let n=e?.[KL];return n==null?null:Kn.makeFromBucketSpec(n,t)}function iU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Fa(i,t.app.options.projectId))}var Oc=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=WL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pj,this._maxUploadRetryTime=mj,this._requests=new Set,i!=null?this._bucket=Kn.makeFromBucketSpec(i,this._host):this._bucket=$L(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=$L(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return I(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return I(this,null,function*(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ls(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new o9(YL());{let o=Oj(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return I(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},qL="@firebase/storage",GL="0.13.7";var rb="storage";function d9(t){return t=ht(t),Jj(t)}function f9(t,e){return t=ht(t),rU(t,e)}function r6(t=z1(),e){t=ht(t);let r=qi(t,rb).getImmediate({identifier:e}),i=Oa("storage");return i&&ib(r,...i),r}function ib(t,e,n,r={}){iU(t,e,n,r)}function sU(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Oc(n,r,i,e,T1)}function oU(){fn(new bt(rb,sU,"PUBLIC").setMultipleInstances(!0)),Ve(qL,GL,""),Ve(qL,GL,"esm2017")}oU();var Fc=class{constructor(e){return e}},sb="storage",h9=class{constructor(){return D1(sb)}};var p9=new K("angularfire2.storage-instances");function cU(t,e){let n=Wi(sb,t,e);return n&&new Fc(n)}function aU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fc(r)}}var lU={provide:h9,deps:[[new Ut,p9]]},uU={provide:Fc,useFactory:cU,deps:[[new Ut,p9],$2]};function ob(t,...e){return Ve("angularfire",U2.full,"gcs"),Cn([uU,lU,{provide:p9,useFactory:aU(t),multi:!0,deps:[Se,Ke,H2,Dr,[new Ut,Qi],[new Ut,Ki],...e]}])}var cb=Et(r6,!0);var Sn=class t{cart=ft(this.loadCartFromStorage());total=an(()=>this.cart().reduce((e,n)=>e+n.price*n.quantity,0));loadCartFromStorage(){let e=localStorage.getItem("cart");return e?JSON.parse(e):[]}saveCartToStorage(){localStorage.setItem("cart",JSON.stringify(this.cart()))}addToCart(e){this.cart().find(r=>r.id===e.id)||(this.cart.set([...this.cart(),e]),this.saveCartToStorage())}removeFromCart(e){this.cart.set(this.cart().filter(n=>n.id!==e.id)),this.saveCartToStorage()}updateCart(){this.cart.set([...this.cart()]),this.saveCartToStorage()}clearCart(){this.cart.set([]),localStorage.removeItem("cart")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};function dU(t,e,n){return(e=hU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ab(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ab(Object(n),!0).forEach(function(r){dU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ab(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hU(t){var e=fU(t,"string");return typeof e=="symbol"?e:e+""}var lb=()=>{},O9={},kb={},Pb=null,Ob={mark:lb,measure:lb};try{typeof window<"u"&&(O9=window),typeof document<"u"&&(kb=document),typeof MutationObserver<"u"&&(Pb=MutationObserver),typeof performance<"u"&&(Ob=performance)}catch{}var{userAgent:ub=""}=O9.navigator||{},H1=O9,je=kb,db=Pb,i6=Ob,N1e=!!H1.document,n1=!!je.documentElement&&!!je.head&&typeof je.addEventListener=="function"&&typeof je.createElement=="function",Fb=~ub.indexOf("MSIE")||~ub.indexOf("Trident/"),pU=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,mU=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Vb={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},gU={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Bb=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Ot="classic",u6="duotone",yU="sharp",vU="sharp-duotone",jb=[Ot,u6,yU,vU],CU={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},MU={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},_U=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),wU={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},LU=["fak","fa-kit","fakd","fa-kit-duotone"],fb={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},bU=["kit"],EU={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},IU=["fak","fakd"],SU={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},hb={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},s6={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},TU=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],zU=["fak","fa-kit","fakd","fa-kit-duotone"],DU={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},AU={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},xU={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},M9={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},NU=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],_9=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...TU,...NU],RU=["solid","regular","light","thin","duotone","brands"],Ub=[1,2,3,4,5,6,7,8,9,10],kU=Ub.concat([11,12,13,14,15,16,17,18,19,20]),PU=[...Object.keys(xU),...RU,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",s6.GROUP,s6.SWAP_OPACITY,s6.PRIMARY,s6.SECONDARY].concat(Ub.map(t=>"".concat(t,"x"))).concat(kU.map(t=>"w-".concat(t))),OU={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},e1="___FONT_AWESOME___",w9=16,Hb="fa",$b="svg-inline--fa",Gr="data-fa-i2svg",L9="data-fa-pseudo-element",FU="data-fa-pseudo-element-pending",F9="data-prefix",V9="data-icon",pb="fontawesome-i2svg",VU="async",BU=["HTML","HEAD","STYLE","SCRIPT"],qb=(()=>{try{return!0}catch{return!1}})();function $c(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[Ot]}})}var Gb=P({},Vb);Gb[Ot]=P(P(P(P({},{"fa-duotone":"duotone"}),Vb[Ot]),fb.kit),fb["kit-duotone"]);var jU=$c(Gb),b9=P({},wU);b9[Ot]=P(P(P(P({},{duotone:"fad"}),b9[Ot]),hb.kit),hb["kit-duotone"]);var mb=$c(b9),E9=P({},M9);E9[Ot]=P(P({},E9[Ot]),SU.kit);var B9=$c(E9),I9=P({},AU);I9[Ot]=P(P({},I9[Ot]),EU.kit);var R1e=$c(I9),UU=pU,Wb="fa-layers-text",HU=mU,$U=P({},CU),k1e=$c($U),qU=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],m9=gU,GU=[...bU,...PU],Bc=H1.FontAwesomeConfig||{};function WU(t){var e=je.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function KU(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}je&&typeof je.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e,i=KU(WU(n));i!=null&&(Bc[r]=i)});var Kb={styleDefault:"solid",familyDefault:Ot,cssPrefix:Hb,replacementClass:$b,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Bc.familyPrefix&&(Bc.cssPrefix=Bc.familyPrefix);var Is=P(P({},Kb),Bc);Is.autoReplaceSvg||(Is.observeMutations=!1);var Q={};Object.keys(Kb).forEach(t=>{Object.defineProperty(Q,t,{enumerable:!0,set:function(e){Is[t]=e,jc.forEach(n=>n(Q))},get:function(){return Is[t]}})});Object.defineProperty(Q,"familyPrefix",{enumerable:!0,set:function(t){Is.cssPrefix=t,jc.forEach(e=>e(Q))},get:function(){return Is.cssPrefix}});H1.FontAwesomeConfig=Q;var jc=[];function QU(t){return jc.push(t),()=>{jc.splice(jc.indexOf(t),1)}}var U1=w9,h2={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function YU(t){if(!t||!n1)return;let e=je.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;let n=je.head.childNodes,r=null;for(let i=n.length-1;i>-1;i--){let s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return je.head.insertBefore(e,r),t}var ZU="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Uc(){let t=12,e="";for(;t-- >0;)e+=ZU[Math.random()*62|0];return e}function Ss(t){let e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function j9(t){return t.classList?Ss(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function Qb(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function XU(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(Qb(t[n]),'" '),"").trim()}function d6(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function U9(t){return t.size!==h2.size||t.x!==h2.x||t.y!==h2.y||t.rotate!==h2.rotate||t.flipX||t.flipY}function JU(t){let{transform:e,containerWidth:n,iconWidth:r}=t,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),a={transform:"".concat(s," ").concat(o," ").concat(c)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:a,path:u}}function eH(t){let{transform:e,width:n=w9,height:r=w9,startCentered:i=!1}=t,s="";return i&&Fb?s+="translate(".concat(e.x/U1-n/2,"em, ").concat(e.y/U1-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/U1,"em), calc(-50% + ").concat(e.y/U1,"em)) "):s+="translate(".concat(e.x/U1,"em, ").concat(e.y/U1,"em) "),s+="scale(".concat(e.size/U1*(e.flipX?-1:1),", ").concat(e.size/U1*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var tH=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Yb(){let t=Hb,e=$b,n=Q.cssPrefix,r=Q.replacementClass,i=tH;if(n!==t||r!==e){let s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(c,".".concat(r))}return i}var gb=!1;function g9(){Q.autoAddCss&&!gb&&(YU(Yb()),gb=!0)}var nH={mixout(){return{dom:{css:Yb,insertCss:g9}}},hooks(){return{beforeDOMElementCreation(){g9()},beforeI2svg(){g9()}}}},t1=H1||{};t1[e1]||(t1[e1]={});t1[e1].styles||(t1[e1].styles={});t1[e1].hooks||(t1[e1].hooks={});t1[e1].shims||(t1[e1].shims=[]);var p2=t1[e1],Zb=[],Xb=function(){je.removeEventListener("DOMContentLoaded",Xb),a6=1,Zb.map(t=>t())},a6=!1;n1&&(a6=(je.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(je.readyState),a6||je.addEventListener("DOMContentLoaded",Xb));function rH(t){n1&&(a6?setTimeout(t,0):Zb.push(t))}function qc(t){let{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?Qb(t):"<".concat(e," ").concat(XU(n),">").concat(r.map(qc).join(""),"</").concat(e,">")}function yb(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var iH=function(e,n){return function(r,i,s,o){return e.call(n,r,i,s,o)}},y9=function(e,n,r,i){var s=Object.keys(e),o=s.length,c=i!==void 0?iH(n,i):n,a,u,f;for(r===void 0?(a=1,f=e[s[0]]):(a=0,f=r);a<o;a++)u=s[a],f=c(f,e[u],u,e);return f};function sH(t){let e=[],n=0,r=t.length;for(;n<r;){let i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){let s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function S9(t){let e=sH(t);return e.length===1?e[0].toString(16):null}function oH(t,e){let n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function vb(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function T9(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:r=!1}=n,i=vb(e);typeof p2.hooks.addPack=="function"&&!r?p2.hooks.addPack(t,vb(e)):p2.styles[t]=P(P({},p2.styles[t]||{}),i),t==="fas"&&T9("fa",e)}var{styles:Hc,shims:cH}=p2,Jb=Object.keys(B9),aH=Jb.reduce((t,e)=>(t[e]=Object.keys(B9[e]),t),{}),H9=null,eE={},tE={},nE={},rE={},iE={};function lH(t){return~GU.indexOf(t)}function uH(t,e){let n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!lH(i)?i:null}var sE=()=>{let t=r=>y9(Hc,(i,s,o)=>(i[o]=y9(s,r,{}),i),{});eE=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(c=>typeof c=="number").forEach(c=>{r[c.toString(16)]=s}),r)),tE=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(c=>typeof c=="string").forEach(c=>{r[c]=s}),r)),iE=t((r,i,s)=>{let o=i[2];return r[s]=s,o.forEach(c=>{r[c]=s}),r});let e="far"in Hc||Q.autoFetchSvg,n=y9(cH,(r,i)=>{let s=i[0],o=i[1],c=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:c}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:c}),r},{names:{},unicodes:{}});nE=n.names,rE=n.unicodes,H9=f6(Q.styleDefault,{family:Q.familyDefault})};QU(t=>{H9=f6(t.styleDefault,{family:Q.familyDefault})});sE();function $9(t,e){return(eE[t]||{})[e]}function dH(t,e){return(tE[t]||{})[e]}function qr(t,e){return(iE[t]||{})[e]}function oE(t){return nE[t]||{prefix:null,iconName:null}}function fH(t){let e=rE[t],n=$9("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function $1(){return H9}var cE=()=>({prefix:null,iconName:null,rest:[]});function hH(t){let e=Ot,n=Jb.reduce((r,i)=>(r[i]="".concat(Q.cssPrefix,"-").concat(i),r),{});return jb.forEach(r=>{(t.includes(n[r])||t.some(i=>aH[r].includes(i)))&&(e=r)}),e}function f6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:n=Ot}=e,r=jU[n][t];if(n===u6&&!t)return"fad";let i=mb[n][t]||mb[n][r],s=t in p2.styles?t:null;return i||s||null}function pH(t){let e=[],n=null;return t.forEach(r=>{let i=uH(Q.cssPrefix,r);i?n=i:r&&e.push(r)}),{iconName:n,rest:e}}function Cb(t){return t.sort().filter((e,n,r)=>r.indexOf(e)===n)}function h6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:n=!1}=e,r=null,i=_9.concat(zU),s=Cb(t.filter(p=>i.includes(p))),o=Cb(t.filter(p=>!_9.includes(p))),c=s.filter(p=>(r=p,!Bb.includes(p))),[a=null]=c,u=hH(s),f=P(P({},pH(o)),{},{prefix:f6(a,{family:u})});return P(P(P({},f),vH({values:t,family:u,styles:Hc,config:Q,canonical:f,givenPrefix:r})),mH(n,r,f))}function mH(t,e,n){let{prefix:r,iconName:i}=n;if(t||!r||!i)return{prefix:r,iconName:i};let s=e==="fa"?oE(i):{},o=qr(r,i);return i=s.iconName||o||i,r=s.prefix||r,r==="far"&&!Hc.far&&Hc.fas&&!Q.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}var gH=jb.filter(t=>t!==Ot||t!==u6),yH=Object.keys(M9).filter(t=>t!==Ot).map(t=>Object.keys(M9[t])).flat();function vH(t){let{values:e,family:n,canonical:r,givenPrefix:i="",styles:s={},config:o={}}=t,c=n===u6,a=e.includes("fa-duotone")||e.includes("fad"),u=o.familyDefault==="duotone",f=r.prefix==="fad"||r.prefix==="fa-duotone";if(!c&&(a||u||f)&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&gH.includes(n)&&(Object.keys(s).find(g=>yH.includes(g))||o.autoFetchSvg)){let g=_U.get(n).defaultShortPrefixId;r.prefix=g,r.iconName=qr(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||i==="fa")&&(r.prefix=$1()||"fas"),r}var z9=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];let i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=P(P({},this.definitions[s]||{}),i[s]),T9(s,i[s]);let o=B9[Ot][s];o&&T9(o,i[s]),sE()})}reset(){this.definitions={}}_pullDefinitions(e,n){let r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{let{prefix:s,iconName:o,icon:c}=r[i],a=c[2];e[s]||(e[s]={}),a.length>0&&a.forEach(u=>{typeof u=="string"&&(e[s][u]=c)}),e[s][o]=c}),e}},Mb=[],bs={},Es={},CH=Object.keys(Es);function MH(t,e){let{mixoutsTo:n}=e;return Mb=t,bs={},Object.keys(Es).forEach(r=>{CH.indexOf(r)===-1&&delete Es[r]}),Mb.forEach(r=>{let i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){let s=r.hooks();Object.keys(s).forEach(o=>{bs[o]||(bs[o]=[]),bs[o].push(s[o])})}r.provides&&r.provides(Es)}),n}function D9(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(bs[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function Wr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(bs[t]||[]).forEach(s=>{s.apply(null,n)})}function q1(){let t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Es[t]?Es[t].apply(null,e):void 0}function A9(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t,n=t.prefix||$1();if(e)return e=qr(n,e)||e,yb(aE.definitions,n,e)||yb(p2.styles,n,e)}var aE=new z9,_H=()=>{Q.autoReplaceSvg=!1,Q.observeMutations=!1,Wr("noAuto")},wH={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n1?(Wr("beforeI2svg",t),q1("pseudoElements2svg",t),q1("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=t;Q.autoReplaceSvg===!1&&(Q.autoReplaceSvg=!0),Q.observeMutations=!0,rH(()=>{bH({autoReplaceSvgRoot:e}),Wr("watch",t)})}},LH={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:qr(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){let e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=f6(t[0]);return{prefix:n,iconName:qr(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(Q.cssPrefix,"-"))>-1||t.match(UU))){let e=h6(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||$1(),iconName:qr(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){let e=$1();return{prefix:e,iconName:qr(e,t)||t}}}},mn={noAuto:_H,config:Q,dom:wH,parse:LH,library:aE,findIconDefinition:A9,toHtml:qc},bH=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=je}=t;(Object.keys(p2.styles).length>0||Q.autoFetchSvg)&&n1&&Q.autoReplaceSvg&&mn.dom.i2svg({node:e})};function p6(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>qc(n))}}),Object.defineProperty(t,"node",{get:function(){if(!n1)return;let n=je.createElement("div");return n.innerHTML=t.html,n.children}}),t}function EH(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(U9(o)&&n.found&&!r.found){let{width:c,height:a}=n,u={x:c/a/2,y:.5};i.style=d6(P(P({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function IH(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t,o=s===!0?"".concat(e,"-").concat(Q.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:P(P({},i),{},{id:o}),children:r}]}]}function q9(t){let{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:c,maskId:a,titleId:u,extra:f,watchable:p=!1}=t,{width:g,height:y}=n.found?n:e,L=IU.includes(r),T=[Q.replacementClass,i?"".concat(Q.cssPrefix,"-").concat(i):""].filter(Ae=>f.classes.indexOf(Ae)===-1).filter(Ae=>Ae!==""||!!Ae).concat(f.classes).join(" "),z={children:[],attributes:P(P({},f.attributes),{},{"data-prefix":r,"data-icon":i,class:T,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(y)})},F=L&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/y*16*.0625,"em")}:{};p&&(z.attributes[Gr]=""),c&&(z.children.push({tag:"title",attributes:{id:z.attributes["aria-labelledby"]||"title-".concat(u||Uc())},children:[c]}),delete z.attributes.title);let W=P(P({},z),{},{prefix:r,iconName:i,main:e,mask:n,maskId:a,transform:s,symbol:o,styles:P(P({},F),f.styles)}),{children:U,attributes:te}=n.found&&e.found?q1("generateAbstractMask",W)||{children:[],attributes:{}}:q1("generateAbstractIcon",W)||{children:[],attributes:{}};return W.children=U,W.attributes=te,o?IH(W):EH(W)}function _b(t){let{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:c=!1}=t,a=P(P(P({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});c&&(a[Gr]="");let u=P({},o.styles);U9(i)&&(u.transform=eH({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);let f=d6(u);f.length>0&&(a.style=f);let p=[];return p.push({tag:"span",attributes:a,children:[e]}),s&&p.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),p}function SH(t){let{content:e,title:n,extra:r}=t,i=P(P(P({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=d6(r.styles);s.length>0&&(i.style=s);let o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var{styles:v9}=p2;function x9(t){let e=t[0],n=t[1],[r]=t.slice(4),i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(Q.cssPrefix,"-").concat(m9.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Q.cssPrefix,"-").concat(m9.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Q.cssPrefix,"-").concat(m9.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}var TH={found:!1,width:512,height:512};function zH(t,e){!qb&&!Q.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function N9(t,e){let n=e;return e==="fa"&&Q.styleDefault!==null&&(e=$1()),new Promise((r,i)=>{if(n==="fa"){let s=oE(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&v9[e]&&v9[e][t]){let s=v9[e][t];return r(x9(s))}zH(t,e),r(P(P({},TH),{},{icon:Q.showMissingIcons&&t?q1("missingIconAbstract")||{}:{}}))})}var wb=()=>{},R9=Q.measurePerformance&&i6&&i6.mark&&i6.measure?i6:{mark:wb,measure:wb},Vc='FA "6.7.2"',DH=t=>(R9.mark("".concat(Vc," ").concat(t," begins")),()=>lE(t)),lE=t=>{R9.mark("".concat(Vc," ").concat(t," ends")),R9.measure("".concat(Vc," ").concat(t),"".concat(Vc," ").concat(t," begins"),"".concat(Vc," ").concat(t," ends"))},G9={begin:DH,end:lE},o6=()=>{};function Lb(t){return typeof(t.getAttribute?t.getAttribute(Gr):null)=="string"}function AH(t){let e=t.getAttribute?t.getAttribute(F9):null,n=t.getAttribute?t.getAttribute(V9):null;return e&&n}function xH(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Q.replacementClass)}function NH(){return Q.autoReplaceSvg===!0?c6.replace:c6[Q.autoReplaceSvg]||c6.replace}function RH(t){return je.createElementNS("http://www.w3.org/2000/svg",t)}function kH(t){return je.createElement(t)}function uE(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:n=t.tag==="svg"?RH:kH}=e;if(typeof t=="string")return je.createTextNode(t);let r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(uE(s,{ceFn:n}))}),r}function PH(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var c6={replace:function(t){let e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(uE(n),e)}),e.getAttribute(Gr)===null&&Q.keepOriginalSource){let n=je.createComment(PH(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){let e=t[0],n=t[1];if(~j9(e).indexOf(Q.replacementClass))return c6.replace(t);let r=new RegExp("".concat(Q.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){let s=n[0].attributes.class.split(" ").reduce((o,c)=>(c===Q.replacementClass||c.match(r)?o.toSvg.push(c):o.toNode.push(c),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}let i=n.map(s=>qc(s)).join(`
`);e.setAttribute(Gr,""),e.innerHTML=i}};function bb(t){t()}function dE(t,e){let n=typeof e=="function"?e:o6;if(t.length===0)n();else{let r=bb;Q.mutateApproach===VU&&(r=H1.requestAnimationFrame||bb),r(()=>{let i=NH(),s=G9.begin("mutate");t.map(i),s(),n()})}}var W9=!1;function fE(){W9=!0}function k9(){W9=!1}var l6=null;function Eb(t){if(!db||!Q.observeMutations)return;let{treeCallback:e=o6,nodeCallback:n=o6,pseudoElementsCallback:r=o6,observeMutationsRoot:i=je}=t;l6=new db(s=>{if(W9)return;let o=$1();Ss(s).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!Lb(c.addedNodes[0])&&(Q.searchPseudoElements&&r(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&Q.searchPseudoElements&&r(c.target.parentNode),c.type==="attributes"&&Lb(c.target)&&~qU.indexOf(c.attributeName))if(c.attributeName==="class"&&AH(c.target)){let{prefix:a,iconName:u}=h6(j9(c.target));c.target.setAttribute(F9,a||o),u&&c.target.setAttribute(V9,u)}else xH(c.target)&&n(c.target)})}),n1&&l6.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function OH(){l6&&l6.disconnect()}function FH(t){let e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce((r,i)=>{let s=i.split(":"),o=s[0],c=s.slice(1);return o&&c.length>0&&(r[o]=c.join(":").trim()),r},{})),n}function VH(t){let e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=h6(j9(t));return i.prefix||(i.prefix=$1()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=dH(i.prefix,t.innerText)||$9(i.prefix,S9(t.innerText))),!i.iconName&&Q.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function BH(t){let e=Ss(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Q.autoA11y&&(n?e["aria-labelledby"]="".concat(Q.replacementClass,"-title-").concat(r||Uc()):(e["aria-hidden"]="true",e.focusable="false")),e}function jH(){return{iconName:null,title:null,titleId:null,prefix:null,transform:h2,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Ib(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:n,prefix:r,rest:i}=VH(t),s=BH(t),o=D9("parseNodeAttributes",{},t),c=e.styleParser?FH(t):[];return P({iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:h2,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:c,attributes:s}},o)}var{styles:UH}=p2;function hE(t){let e=Q.autoReplaceSvg==="nest"?Ib(t,{styleParser:!1}):Ib(t);return~e.extra.classes.indexOf(Wb)?q1("generateLayersText",t,e):q1("generateSvgReplacementMutation",t,e)}function HH(){return[...LU,..._9]}function Sb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!n1)return Promise.resolve();let n=je.documentElement.classList,r=f=>n.add("".concat(pb,"-").concat(f)),i=f=>n.remove("".concat(pb,"-").concat(f)),s=Q.autoFetchSvg?HH():Bb.concat(Object.keys(UH));s.includes("fa")||s.push("fa");let o=[".".concat(Wb,":not([").concat(Gr,"])")].concat(s.map(f=>".".concat(f,":not([").concat(Gr,"])"))).join(", ");if(o.length===0)return Promise.resolve();let c=[];try{c=Ss(t.querySelectorAll(o))}catch{}if(c.length>0)r("pending"),i("complete");else return Promise.resolve();let a=G9.begin("onTree"),u=c.reduce((f,p)=>{try{let g=hE(p);g&&f.push(g)}catch(g){qb||g.name==="MissingIcon"&&console.error(g)}return f},[]);return new Promise((f,p)=>{Promise.all(u).then(g=>{dE(g,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),a(),f()})}).catch(g=>{a(),p(g)})})}function $H(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;hE(t).then(n=>{n&&dE([n],e)})}function qH(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:A9(e||{}),{mask:i}=n;return i&&(i=(i||{}).icon?i:A9(i||{})),t(r,P(P({},n),{},{mask:i}))}}var GH=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=h2,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:c=null,classes:a=[],attributes:u={},styles:f={}}=e;if(!t)return;let{prefix:p,iconName:g,icon:y}=t;return p6(P({type:"icon"},t),()=>(Wr("beforeDOMElementCreation",{iconDefinition:t,params:e}),Q.autoA11y&&(o?u["aria-labelledby"]="".concat(Q.replacementClass,"-title-").concat(c||Uc()):(u["aria-hidden"]="true",u.focusable="false")),q9({icons:{main:x9(y),mask:i?x9(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:p,iconName:g,transform:P(P({},h2),n),symbol:r,title:o,maskId:s,titleId:c,extra:{attributes:u,styles:f,classes:a}})))},WH={mixout(){return{icon:qH(GH)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=Sb,t.nodeCallback=$H,t}}},provides(t){t.i2svg=function(e){let{node:n=je,callback:r=()=>{}}=e;return Sb(n,r)},t.generateSvgReplacementMutation=function(e,n){let{iconName:r,title:i,titleId:s,prefix:o,transform:c,symbol:a,mask:u,maskId:f,extra:p}=n;return new Promise((g,y)=>{Promise.all([N9(r,o),u.iconName?N9(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(L=>{let[T,z]=L;g([e,q9({icons:{main:T,mask:z},prefix:o,iconName:r,transform:c,symbol:a,maskId:f,title:i,titleId:s,extra:p,watchable:!0})])}).catch(y)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e,c=d6(o);c.length>0&&(r.style=c);let a;return U9(s)&&(a=q1("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(a||i.icon),{children:n,attributes:r}}}},KH={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:n=[]}=e;return p6({type:"layer"},()=>{Wr("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(Q.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},QH={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return p6({type:"counter",content:t},()=>(Wr("beforeDOMElementCreation",{content:t,params:e}),SH({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(Q.cssPrefix,"-layers-counter"),...r]}})))}}}},YH={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:n=h2,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return p6({type:"text",content:t},()=>(Wr("beforeDOMElementCreation",{content:t,params:e}),_b({content:t,transform:P(P({},h2),n),title:r,extra:{attributes:s,styles:o,classes:["".concat(Q.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){let{title:r,transform:i,extra:s}=n,o=null,c=null;if(Fb){let a=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/a,c=u.height/a}return Q.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,_b({content:e.innerHTML,width:o,height:c,transform:i,title:r,extra:s,watchable:!0})])}}},ZH=new RegExp('"',"ug"),Tb=[1105920,1112319],zb=P(P(P(P({},{FontAwesome:{normal:"fas",400:"fas"}}),MU),OU),DU),P9=Object.keys(zb).reduce((t,e)=>(t[e.toLowerCase()]=zb[e],t),{}),XH=Object.keys(P9).reduce((t,e)=>{let n=P9[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function JH(t){let e=t.replace(ZH,""),n=oH(e,0),r=n>=Tb[0]&&n<=Tb[1],i=e.length===2?e[0]===e[1]:!1;return{value:S9(i?e[0]:e),isSecondary:r||i}}function e$(t,e){let n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(P9[n]||{})[i]||XH[n]}function Db(t,e){let n="".concat(FU).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();let o=Ss(t.children).filter(g=>g.getAttribute(L9)===e)[0],c=H1.getComputedStyle(t,e),a=c.getPropertyValue("font-family"),u=a.match(HU),f=c.getPropertyValue("font-weight"),p=c.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&p!=="none"&&p!==""){let g=c.getPropertyValue("content"),y=e$(a,f),{value:L,isSecondary:T}=JH(g),z=u[0].startsWith("FontAwesome"),F=$9(y,L),W=F;if(z){let U=fH(L);U.iconName&&U.prefix&&(F=U.iconName,y=U.prefix)}if(F&&!T&&(!o||o.getAttribute(F9)!==y||o.getAttribute(V9)!==W)){t.setAttribute(n,W),o&&t.removeChild(o);let U=jH(),{extra:te}=U;te.attributes[L9]=e,N9(F,y).then(Ae=>{let pe=q9(P(P({},U),{},{icons:{main:Ae,mask:cE()},prefix:y,iconName:W,extra:te,watchable:!0})),w=je.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(w,t.firstChild):t.appendChild(w),w.outerHTML=pe.map(v=>qc(v)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function t$(t){return Promise.all([Db(t,"::before"),Db(t,"::after")])}function n$(t){return t.parentNode!==document.head&&!~BU.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(L9)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function Ab(t){if(n1)return new Promise((e,n)=>{let r=Ss(t.querySelectorAll("*")).filter(n$).map(t$),i=G9.begin("searchPseudoElements");fE(),Promise.all(r).then(()=>{i(),k9(),e()}).catch(()=>{i(),k9(),n()})})}var r$={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=Ab,t}}},provides(t){t.pseudoElements2svg=function(e){let{node:n=je}=e;Q.searchPseudoElements&&Ab(n)}}},xb=!1,i$={mixout(){return{dom:{unwatch(){fE(),xb=!0}}}},hooks(){return{bootstrap(){Eb(D9("mutationObserverCallbacks",{}))},noAuto(){OH()},watch(t){let{observeMutationsRoot:e}=t;xb?k9():Eb(D9("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},Nb=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{let i=r.toLowerCase().split("-"),s=i[0],o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)},s$={mixout(){return{parse:{transform:t=>Nb(t)}}},hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-transform");return n&&(t.transform=Nb(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e,o={transform:"translate(".concat(i/2," 256)")},c="translate(".concat(r.x*32,", ").concat(r.y*32,") "),a="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),f={transform:"".concat(c," ").concat(a," ").concat(u)},p={transform:"translate(".concat(s/2*-1," -256)")},g={outer:o,inner:f,path:p};return{tag:"g",attributes:P({},g.outer),children:[{tag:"g",attributes:P({},g.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:P(P({},n.icon.attributes),g.path)}]}]}}}},C9={x:0,y:0,width:"100%",height:"100%"};function Rb(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function o$(t){return t.tag==="g"?t.children:[t]}var c$={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-mask"),r=n?h6(n.split(" ").map(i=>i.trim())):cE();return r.prefix||(r.prefix=$1()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:c}=e,{width:a,icon:u}=i,{width:f,icon:p}=s,g=JU({transform:c,containerWidth:f,iconWidth:a}),y={tag:"rect",attributes:P(P({},C9),{},{fill:"white"})},L=u.children?{children:u.children.map(Rb)}:{},T={tag:"g",attributes:P({},g.inner),children:[Rb(P({tag:u.tag,attributes:P(P({},u.attributes),g.path)},L))]},z={tag:"g",attributes:P({},g.outer),children:[T]},F="mask-".concat(o||Uc()),W="clip-".concat(o||Uc()),U={tag:"mask",attributes:P(P({},C9),{},{id:F,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,z]},te={tag:"defs",children:[{tag:"clipPath",attributes:{id:W},children:o$(p)},U]};return n.push(te,{tag:"rect",attributes:P({fill:"currentColor","clip-path":"url(#".concat(W,")"),mask:"url(#".concat(F,")")},C9)}),{children:n,attributes:r}}}},a$={provides(t){let e=!1;H1.matchMedia&&(e=H1.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:P(P({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let s=P(P({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:P(P({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:P(P({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:P(P({},s),{},{values:"1;0;1;1;0;1;"})}),n.push(o),n.push({tag:"path",attributes:P(P({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:P(P({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:P(P({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:P(P({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},l$={hooks(){return{parseNodeAttributes(t,e){let n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},u$=[nH,WH,KH,QH,YH,r$,i$,s$,c$,a$,l$];MH(u$,{mixoutsTo:mn});var P1e=mn.noAuto,pE=mn.config,O1e=mn.library,mE=mn.dom,gE=mn.parse,F1e=mn.findIconDefinition,V1e=mn.toHtml,yE=mn.icon,B1e=mn.layer,d$=mn.text,f$=mn.counter;var h$=["*"],p$=t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)},m$=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},CE=t=>t!=null&&(t===90||t===180||t===270||t==="90"||t==="180"||t==="270"),g$=t=>{let e=CE(t.rotate),n={[`fa-${t.animation}`]:t.animation!=null&&!t.animation.startsWith("spin"),"fa-spin":t.animation==="spin"||t.animation==="spin-reverse","fa-spin-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-spin-reverse":t.animation==="spin-reverse"||t.animation==="spin-pulse-reverse","fa-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both",[`fa-${t.size}`]:t.size!==null,[`fa-rotate-${t.rotate}`]:e,"fa-rotate-by":t.rotate!=null&&!e,[`fa-pull-${t.pull}`]:t.pull!==null,[`fa-stack-${t.stackItemSize}`]:t.stackItemSize!=null};return Object.keys(n).map(r=>n[r]?r:null).filter(r=>r)},K9=new WeakSet,vE="fa-auto-css";function y$(t,e){if(!e.autoAddCss||K9.has(t))return;if(t.getElementById(vE)!=null){e.autoAddCss=!1,K9.add(t);return}let n=t.createElement("style");n.setAttribute("type","text/css"),n.setAttribute("id",vE),n.innerHTML=mE.css();let r=t.head.childNodes,i=null;for(let s=r.length-1;s>-1;s--){let o=r[s],c=o.nodeName.toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(i=o)}t.head.insertBefore(n,i),e.autoAddCss=!1,K9.add(t)}var v$=t=>t.prefix!==void 0&&t.iconName!==void 0,C$=(t,e)=>v$(t)?t:Array.isArray(t)&&t.length===2?{prefix:t[0],iconName:t[1]}:{prefix:e,iconName:t},M$=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(n){pE.autoAddCss=n,this._autoAddCss=n}get autoAddCss(){return this._autoAddCss}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_$=(()=>{class t{constructor(){this.definitions={}}addIcons(...n){for(let r of n){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(let i of r.icon[2])typeof i=="string"&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...n){for(let r of n){let i=Object.keys(r).map(s=>r[s]);this.addIcons(...i)}}getIconDefinition(n,r){return n in this.definitions&&r in this.definitions[n]?this.definitions[n][r]:null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),w$=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(n){if("size"in n)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Fe({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[kn]})}}return t})(),L$=(()=>{class t{constructor(n,r){this.renderer=n,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(n){"size"in n&&(n.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${n.size.currentValue}`),n.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${n.size.previousValue}`))}static{this.\u0275fac=function(r){return new(r||t)(Z(Ln),Z(cn))}}static{this.\u0275cmp=xe({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},features:[kn],ngContentSelectors:h$,decls:1,vars:0,template:function(r,i){r&1&&(mv(),gv(0))},encapsulation:2})}}return t})(),ME=(()=>{class t{constructor(n,r,i,s,o){this.sanitizer=n,this.config=r,this.iconLibrary=i,this.stackItem=s,this.document=N(_t),o!=null&&s==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(n){if(this.icon==null&&this.config.fallbackIcon==null){m$();return}if(n){let r=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(r!=null){let i=this.buildParams();y$(this.document,this.config);let s=yE(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(n){let r=C$(n,this.config.defaultPrefix);if("icon"in r)return r;let i=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return i??(p$(r),null)}buildParams(){let n={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},r=typeof this.transform=="string"?gE.transform(this.transform):this.transform,i={};return n.rotate!=null&&!CE(n.rotate)&&(i["--fa-rotate-angle"]=`${n.rotate}`),{title:this.title,transform:r,classes:g$(n),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole},styles:i}}static{this.\u0275fac=function(r){return new(r||t)(Z(u5),Z(M$),Z(_$),Z(w$,8),Z(L$,8))}}static{this.\u0275cmp=xe({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){r&2&&(Ou("innerHTML",i.renderedIconHTML,py),_1("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[kn],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return t})();function b$(t,e){if(t&1&&ke(0,"fa-icon",3),t&2){let n=Ce();Y("icon",n.icon)}}var G1=class t{label="";icon=null;btnClicked=new We;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-primary-button"]],inputs:{label:"label",icon:"icon"},outputs:{btnClicked:"btnClicked"},decls:4,vars:2,consts:[[1,"bg-blue-950","text-white","w-full","border","px-5","py-2","rounded-xl","shadow-md","hover:opacity-90",3,"click"],["class","mr-2",3,"icon",4,"ngIf"],[1,"text-md"],[1,"mr-2",3,"icon"]],template:function(n,r){n&1&&(A(0,"button",0),le("click",function(s){return r.btnClicked.emit(s)}),Te(1,b$,1,1,"fa-icon",1),A(2,"span",2),B(3),x()()),n&2&&(O(),Y("ngIf",r.icon),O(2),rt(r.label))},dependencies:[wt,L1,ME],encapsulation:2})};var _E={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]};var Ts={prefix:"fas",iconName:"cart-plus",icon:[576,512,[],"f217","M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM252 160c0 11 9 20 20 20l44 0 0 44c0 11 9 20 20 20s20-9 20-20l0-44 44 0c11 0 20-9 20-20s-9-20-20-20l-44 0 0-44c0-11-9-20-20-20s-20 9-20 20l0 44-44 0c-11 0-20 9-20 20z"]};var wE={prefix:"fas",iconName:"cart-shopping",icon:[576,512,[128722,"shopping-cart"],"f07a","M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]};var E$={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]};var LE=E$;var bE={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]};var I$=t=>["/detail",t],m6=class t{cartService=N(Sn);faCartPlus=Ts;faCheck=bE;product=zi.required();isAddedToCart=!1;addToCart(e){e.stopPropagation(),this.product().size="M",this.cartService.addToCart(this.product()),this.isAddedToCart=!0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-product-card"]],inputs:{product:[1,"product"]},decls:11,vars:11,consts:[[1,"bg-white","shadow-md","border","rounded-xl","p-4","flex","flex-col","gap-4","relative","cursor-pointer","w-full","max-w-[280px]","mx-auto",3,"routerLink"],[1,"w-full","h-[300px]","flex","justify-center","items-center","overflow-hidden"],[1,"w-full","h-full","object-cover","rounded-lg",2,"object-fit","cover","object-position","top",3,"src"],[1,"flex","flex-col"],[1,"text-md","font-bold","text-center"],[1,"text-sm","text-center"],[3,"btnClicked","label","icon"],[1,"absolute","top-2","right-3","text-xs","font-bold","bg-white","shadow-md","border","rounded-xl","p-1"]],template:function(n,r){n&1&&(A(0,"div",0)(1,"div",1),ke(2,"img",2),x(),A(3,"div",3)(4,"span",4),B(5),x(),A(6,"span",5),B(7),x(),A(8,"app-primary-button",6),le("btnClicked",function(s){return r.addToCart(s)}),x()(),A(9,"span",7),B(10),x()()),n&2&&(Y("routerLink",sa(9,I$,r.product().id)),O(2),Y("src",r.product().images[0],_n),O(3),rt(r.product().title),O(2),rt(r.product().price+" DA "),O(),Y("label",r.isAddedToCart?"Ajout\xE9":"Ajouter au panier")("icon",r.isAddedToCart?r.faCheck:r.faCartPlus),O(),lv(r.product().stock?"text-green-700":"text-red-700"),O(),$t(" ",r.product().stock?r.product().stock+" left":"Out of stock"," "))},dependencies:[G1,Na],encapsulation:2})};var m2=class t{constructor(e){this.firestore=e}productsCollection="products";selectedCategory=ft(null);selectedSubCategory=ft(null);products=[];cachedSubCategories=[];getProducts(e,n,r){this.products=[];let i=VL(j1(this.firestore,this.productsCollection),BL("subCategory","==",n),FL(10));return console.log("Firestore query:",i),new ae(s=>{t6(i).then(o=>{console.log("Fetched documents:",o.docs),o.empty&&console.log("No products found for the query"),this.products=o.docs.map(c=>V({id:c.id},c.data())),console.log("Updated products list:"),console.log("Total products:",this.products.length),this.products.forEach(c=>console.log("Product ID:",c.id)),s.next(this.products),s.complete()}).catch(o=>{console.error("Error fetching products:",o),s.error(o)}),console.log("Total products:",this.products.length),this.products.forEach(o=>console.log("Product ID:",o.id))})}getSubCategories(e){this.selectedCategory.set(e);let n=j1(this.firestore,e);return new ae(r=>{RL(n,{idField:"id"}).subscribe(i=>{this.cachedSubCategories=i.map(s=>({id:s.id,name:s.name})),r.next(this.cachedSubCategories),r.complete()})})}setSelectedSubCategory(e){this.selectedSubCategory.set(e)}getSelectedSubCategory(){return this.selectedSubCategory()}addCategories(e,n){return I(this,null,function*(){let r=j1(this.firestore,e);try{yield kc(r,{name:n}),console.log("Categories added successfully")}catch(i){throw console.error("Error adding categories:",i),i}})}getProductById(e){return console.log("Fetching product by ID:",e),console.log("Total products:",this.products.length),this.products.forEach(n=>console.log("Product ID:",n.id)),this.products.find(n=>n.id===e)}static \u0275fac=function(n){return new(n||t)(J(J2))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};function S$(t,e){if(t&1&&(xi(0),ke(1,"app-product-card",2),Ni()),t&2){let n=e.$implicit;O(),Y("product",n)}}var g6=class t{constructor(e){this.ngZone=e;oa(()=>{let n=this.productsService.selectedSubCategory();n!==null&&this.ngZone.run(()=>{this.fetchProducts(n)})})}productsService=N(m2);products=ft([]);lastDoc=null;isLoading=!1;selectedCategory="categoriesH";selectedSubcategory=null;fetchProducts(e){this.selectedCategory&&(this.products.set([]),this.lastDoc=null,this.loadProducts(e))}loadProducts(e){this.isLoading||(this.isLoading=!0,this.productsService.getProducts(this.selectedCategory,e,this.lastDoc).subscribe({next:n=>{n.length>0&&(this.products.set([...this.products(),...n]),this.lastDoc=n[n.length-1]),this.isLoading=!1},error:n=>{console.error("Error fetching products:",n),this.isLoading=!1}}))}trackById(e,n){return n.id??e.toString()}static \u0275fac=function(n){return new(n||t)(Z(Se))};static \u0275cmp=xe({type:t,selectors:[["app-products-list"]],inputs:{selectedCategory:"selectedCategory",selectedSubcategory:"selectedSubcategory"},decls:2,vars:2,consts:[[1,"p-8","grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-4"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"w-full",3,"product"]],template:function(n,r){n&1&&(A(0,"div",0),Te(1,S$,2,1,"ng-container",1),x()),n&2&&(O(),Y("ngForOf",r.products())("ngForTrackBy",r.trackById))},dependencies:[m6,wt,tn],encapsulation:2,changeDetection:0})};var EE={prefix:"far",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M170.5 51.6L151.5 80l145 0-19-28.4c-1.5-2.2-4-3.6-6.7-3.6l-93.7 0c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80 368 80l48 0 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-8 0 0 304c0 44.2-35.8 80-80 80l-224 0c-44.2 0-80-35.8-80-80l0-304-8 0c-13.3 0-24-10.7-24-24S10.7 80 24 80l8 0 48 0 13.8 0 36.7-55.1C140.9 9.4 158.4 0 177.1 0l93.7 0c18.7 0 36.2 9.4 46.6 24.9zM80 128l0 304c0 17.7 14.3 32 32 32l224 0c17.7 0 32-14.3 32-32l0-304L80 128zm80 64l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0l0 208c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-208c0-8.8 7.2-16 16-16s16 7.2 16 16z"]};var kE=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Z(Ln),Z(cn))};static \u0275dir=Fe({type:t})}return t})(),b6=(()=>{class t extends kE{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Pn(t)))(i||t)}})();static \u0275dir=Fe({type:t,features:[en]})}return t})(),Xc=new K("");var T$={provide:Xc,useExisting:Rn(()=>W1),multi:!0};function z$(){let t=O2()?O2().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var D$=new K(""),W1=(()=>{class t extends kE{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!z$())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Z(Ln),Z(cn),Z(D$,8))};static \u0275dir=Fe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&le("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[Fn([T$]),en]})}return t})();function A$(t){return t==null||x$(t)===0}function x$(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var E6=new K(""),PE=new K("");function N$(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function R$(t){return A$(t.value)?{required:!0}:null}function IE(t){return null}function OE(t){return t!=null}function FE(t){return M1(t)?Pe(t):t}function VE(t){let e={};return t.forEach(n=>{e=n!=null?V(V({},e),n):e}),Object.keys(e).length===0?null:e}function BE(t,e){return e.map(n=>n(t))}function k$(t){return!t.validate}function jE(t){return t.map(e=>k$(e)?e:n=>e.validate(n))}function P$(t){if(!t)return null;let e=t.filter(OE);return e.length==0?null:function(n){return VE(BE(n,e))}}function Y9(t){return t!=null?P$(jE(t)):null}function O$(t){if(!t)return null;let e=t.filter(OE);return e.length==0?null:function(n){let r=BE(n,e).map(FE);return Nl(r).pipe(ne(VE))}}function Z9(t){return t!=null?O$(jE(t)):null}function SE(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function F$(t){return t._rawValidators}function V$(t){return t._rawAsyncValidators}function Q9(t){return t?Array.isArray(t)?t:[t]:[]}function v6(t,e){return Array.isArray(t)?t.includes(e):t===e}function TE(t,e){let n=Q9(e);return Q9(t).forEach(i=>{v6(n,i)||n.push(i)}),n}function zE(t,e){return Q9(e).filter(n=>!v6(t,n))}var C6=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Y9(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Z9(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},As=class extends C6{name;get formDirective(){return null}get path(){return null}},Zc=class extends C6{_parent=null;name=null;valueAccessor=null},M6=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},B$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Yre=ie(V({},B$),{"[class.ng-submitted]":"isSubmitted"}),K1=(()=>{class t extends M6{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Z(Zc,2))};static \u0275dir=Fe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Do("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[en]})}return t})(),I6=(()=>{class t extends M6{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Z(As,10))};static \u0275dir=Fe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Do("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[en]})}return t})();var Gc="VALID",y6="INVALID",zs="PENDING",Wc="DISABLED",xs=class{},_6=class extends xs{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Qc=class extends xs{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Yc=class extends xs{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Ds=class extends xs{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function UE(t){return(S6(t)?t.validators:t)||null}function j$(t){return Array.isArray(t)?Y9(t):t||null}function HE(t,e){return(S6(e)?e.asyncValidators:t)||null}function U$(t){return Array.isArray(t)?Z9(t):t||null}function S6(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function H$(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[n])throw new H(1001,"")}function $$(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new H(1002,"")})}var w6=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return bn(this.statusReactive)}set status(e){bn(()=>this.statusReactive.set(e))}_status=an(()=>this.statusReactive());statusReactive=ft(void 0);get valid(){return this.status===Gc}get invalid(){return this.status===y6}get pending(){return this.status==zs}get disabled(){return this.status===Wc}get enabled(){return this.status!==Wc}errors;get pristine(){return bn(this.pristineReactive)}set pristine(e){bn(()=>this.pristineReactive.set(e))}_pristine=an(()=>this.pristineReactive());pristineReactive=ft(!0);get dirty(){return!this.pristine}get touched(){return bn(this.touchedReactive)}set touched(e){bn(()=>this.touchedReactive.set(e))}_touched=an(()=>this.touchedReactive());touchedReactive=ft(!1);get untouched(){return!this.touched}_events=new lt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zE(e,this._rawAsyncValidators))}hasValidator(e){return v6(this._rawValidators,e)}hasAsyncValidator(e){return v6(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ie(V({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Yc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Yc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ie(V({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Qc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Qc(!0,r))}markAsPending(e={}){this.status=zs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ds(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ie(V({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wc,this.errors=null,this._forEachChild(i=>{i.disable(ie(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _6(this.value,r)),this._events.next(new Ds(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Gc,this._forEachChild(r=>{r.enable(ie(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gc||this.status===zs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _6(this.value,n)),this._events.next(new Ds(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ie(V({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wc:Gc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=zs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=FE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ds(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?Wc:this.errors?y6:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zs)?zs:this._anyControlsHaveStatus(y6)?y6:Gc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Qc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Yc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){S6(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=j$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=U$(this._rawAsyncValidators)}},L6=class extends w6{constructor(e,n,r){super(UE(n),HE(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){$$(this,!0,e),Object.keys(e).forEach(r=>{H$(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var X9=new K("",{providedIn:"root",factory:()=>J9}),J9="always";function q$(t,e){return[...e.path,t]}function $E(t,e,n=J9){qE(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),W$(t,e),Q$(t,e),K$(t,e),G$(t,e)}function DE(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function G$(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function qE(t,e){let n=F$(t);e.validator!==null?t.setValidators(SE(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=V$(t);e.asyncValidator!==null?t.setAsyncValidators(SE(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();DE(e._rawValidators,i),DE(e._rawAsyncValidators,i)}function W$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&GE(t,e)})}function K$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&GE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function GE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Q$(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Y$(t,e){t==null,qE(t,e)}function Z$(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function X$(t){return Object.getPrototypeOf(t.constructor)===b6}function J$(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function eq(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===W1?n=s:X$(s)?r=s:i=s}),i||r||n||null}var tq={provide:As,useExisting:Rn(()=>Jc)},Kc=Promise.resolve(),Jc=(()=>{class t extends As{callSetDisabledState;get submitted(){return bn(this.submittedReactive)}_submitted=an(()=>this.submittedReactive());submittedReactive=ft(!1);_directives=new Set;form;ngSubmit=new We;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new L6({},Y9(n),Z9(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Kc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),$E(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Kc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Kc.then(()=>{let r=this._findContainer(n.path),i=new L6({});Y$(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Kc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Kc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),J$(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(Z(E6,10),Z(PE,10),Z(X9,8))};static \u0275dir=Fe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&le("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Fn([tq]),en]})}return t})();function AE(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var nq=class extends w6{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(UE(n),HE(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),S6(n)&&(n.nonNullable||n.initialValueIsDefault)&&(xE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){AE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){AE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){xE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var rq={provide:Zc,useExisting:Rn(()=>r1)},NE=Promise.resolve(),r1=(()=>{class t extends Zc{_changeDetectorRef;callSetDisabledState;control=new nq;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new We;constructor(n,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=eq(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Z$(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$E(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){NE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&w1(r);NE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?q$(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Z(As,9),Z(E6,10),Z(PE,10),Z(Xc,10),Z(P2,8),Z(X9,8))};static \u0275dir=Fe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Fn([rq]),en,kn]})}return t})();var T6=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Fe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),iq={provide:Xc,useExisting:Rn(()=>e0),multi:!0},e0=(()=>{class t extends b6{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Pn(t)))(i||t)}})();static \u0275dir=Fe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&le("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Fn([iq]),en]})}return t})();var sq={provide:Xc,useExisting:Rn(()=>Ns),multi:!0};function WE(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function oq(t){return t.split(":")[0]}var Ns=(()=>{class t extends b6{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=WE(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=oq(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Pn(t)))(i||t)}})();static \u0275dir=Fe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&le("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Fn([sq]),en]})}return t})(),z6=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(WE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(Z(cn),Z(Ln),Z(Ns,9))};static \u0275dir=Fe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),cq={provide:Xc,useExisting:Rn(()=>KE),multi:!0};function RE(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function aq(t){return t.split(":")[0]}var KE=(()=>{class t extends b6{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let a=o[c],u=this._getOptionValue(a.value);i.push(u)}}else{let o=r.options;for(let c=0;c<o.length;c++){let a=o[c];if(a.selected){let u=this._getOptionValue(a.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=aq(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Pn(t)))(i||t)}})();static \u0275dir=Fe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&le("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Fn([cq]),en]})}return t})(),D6=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(RE(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(RE(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(Z(cn),Z(Ln),Z(KE,9))};static \u0275dir=Fe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function lq(t){return typeof t=="number"?t:parseFloat(t)}var QE=(()=>{class t{_validator=IE;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):IE,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Fe({type:t,features:[kn]})}return t})();var uq={provide:E6,useExisting:Rn(()=>eh),multi:!0},eh=(()=>{class t extends QE{min;inputName="min";normalizeInput=n=>lq(n);createValidator=n=>N$(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Pn(t)))(i||t)}})();static \u0275dir=Fe({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&_1("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Fn([uq]),en]})}return t})(),dq={provide:E6,useExisting:Rn(()=>Kr),multi:!0};var Kr=(()=>{class t extends QE{required;inputName="required";normalizeInput=w1;createValidator=n=>R$;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Pn(t)))(i||t)}})();static \u0275dir=Fe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&_1("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Fn([dq]),en]})}return t})();var fq=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=k2({type:t});static \u0275inj=z2({})}return t})();var Q1=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:X9,useValue:n.callSetDisabledState??J9}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=k2({type:t});static \u0275inj=z2({imports:[fq]})}return t})();var x6=class t{item=zi.required();faTrashCan=EE;cartService=N(Sn);ngOnInit(){let e=this.item();(!e.quantity||e.quantity<1)&&(e.quantity=1)}increaseQuantity(){let e=this.item();e.quantity+=1,this.cartService.updateCart()}decreaseQuantity(){let e=this.item();e.quantity>1&&(e.quantity-=1,this.cartService.updateCart())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-cart-item"]],inputs:{item:[1,"item"]},decls:28,vars:7,consts:[[1,"bg-white","shadow-md","border","rounded-xl","p-2","flex","items-center","gap-x-4","justify-between"],[1,"h-[100px]","border","rounded-xl",3,"src"],[1,"flex","flex-1","flex-col","items-start","min-w-0"],[1,"text-md","font-bold","truncate"],[1,"text-sm"],[1,"flex","flex-row","items-center","mt-2","space-x-4"],[1,"flex","items-center","gap-2"],[1,"bg-white","shadow-md","border","px-2","py-1","rounded-lg","hover:bg-gray-300","text-lg","font-bold",3,"click"],[1,"text-m","font-bold"],[1,"flex","flex-row","items-center","space-x-2"],["id","size","name","size","required","",1,"border","p-1","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["value","S"],["value","M"],["value","L"],["value","XL"],["label","Enlever",1,"shrink-0","w-fit","ml-3",3,"btnClicked","icon"]],template:function(n,r){n&1&&(A(0,"div",0),ke(1,"img",1),A(2,"div",2)(3,"span",3),B(4),x(),A(5,"span",4),B(6),x(),A(7,"div",5)(8,"div",6)(9,"button",7),le("click",function(){return r.decreaseQuantity()}),B(10," - "),x(),A(11,"span",8),B(12),x(),A(13,"button",7),le("click",function(){return r.increaseQuantity()}),B(14," + "),x()(),A(15,"div",9)(16,"span",8),B(17),x(),A(18,"select",10),et("ngModelChange",function(s){return it(r.item().size,s)||(r.item().size=s),s}),A(19,"option",11),B(20,"Petit"),x(),A(21,"option",12),B(22,"Moyenne"),x(),A(23,"option",13),B(24,"Grande"),x(),A(25,"option",14),B(26,"Tr\xE8s grande"),x()()()()(),A(27,"app-primary-button",15),le("btnClicked",function(){return r.cartService.removeFromCart(r.item())}),x()()),n&2&&(O(),Y("src",r.item().images[0],_n),O(3),rt(r.item().title),O(2),rt(r.item().price+" DA"),O(6),rt(r.item().quantity),O(5),rt(r.item().size),O(),Je("ngModel",r.item().size),O(9),Y("icon",r.faTrashCan))},dependencies:[Q1,z6,D6,Ns,K1,Kr,r1,G1],encapsulation:2})};var N6=class t{cartService=N(Sn);faCartPlus=Ts;total=an(()=>{let e=0;for(let n of this.cartService.cart())e+=n.price*n.quantity;return e});static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-order-summary"]],decls:9,vars:1,consts:[[1,"bg-slate-100","p-6","rounded-xl","shadow-xl","border"],[1,"text-2xl"],[1,"flex","flex-col","gap-4"],[1,"flex","gap-4"],[1,"text-lg"],[1,"text-xl","text-green-600","font-bold"]],template:function(n,r){n&1&&(A(0,"div",0)(1,"h2",1),B(2,"Votre Commande:"),x(),A(3,"div",2)(4,"div",3)(5,"span",4),B(6,"Total"),x(),A(7,"span",5),B(8),x()()()()),n&2&&(O(8),rt(r.total()+" DA"))},encapsulation:2})};var R6={Wilaya:{Adrar:["Adrar","Tamest","Charouine","Reggane","In Zghmir","Tit","Ksar Kaddour","Tsabit","Timimoun","Ouled Said","Zaouiet Kounta","Aoulef","Timekten","Tamantit","Fenoughil","Tinerkouk","Deldoul","Sali","Akabli","Metarfa","Ouled Ahmed Timmi","Bouda","Aougrout","Talmine","Bordj Badji Mokhtar","Sebaa","Ouled Aissa","Timiaouine"],Alger:["Alger-Centre","Sidi M'Hamed","El Madania","Belouizdad","Bab El Oued","Bologhine","Casbah","Oued Koriche","Bir Mourad Ra\xEFs","El Biar","Bouzareah","Birkhadem","El Harrach","Baraki","Oued Smar","Bachdjerrah","Hussein Dey","Kouba","Bourouba","Dar El Be\xEFda","Bab Ezzouar","Ben Aknoun","Dely Ibrahim","El Hammamet","Ra\xEFs Hamidou","Djasr KasentinaNote 1","El Mouradia","Hydra","Mohammadia","Bordj El Kiffan","El Magharia","Beni Messous","Les Eucalyptus","Birtouta","Tessala El Merdja","Ouled Chebel","Sidi Moussa","A\xEFn Taya","Bordj El Bahri","Marsa","H'raoua","Rou\xEFba","Regha\xEFa","A\xEFn Benian","Staoueli","Z\xE9ralda","Mahelma","Rahmania","Souidania","Ch\xE9raga","Ouled Fayet","El Achour","Draria","Douera","Baba Hassen","Khraicia","Saoula"],Annaba:["Annaba","Berrahal","El Hadjar","Eulma","El Bouni","Oued El Aneb","Cheurfa","Sera\xEFdi","A\xEFn Berda","Cheta\xEFbi","Sidi Amar","Treat"],"A\xEFn Defla":["A\xEFn Benian","A\xEFn Bouyahia","A\xEFn Defla","A\xEFn Lechiekh","A\xEFn Soltane","A\xEFn Torki","Arib","Bathia","Belaas","Ben Allal","Birbouche","Bir Ould Khelifa","Bordj Emir Khaled","Boumedfaa","Bourached","Djelida","Djemaa Ouled Cheikh","Djendel","El Abadia","El Amra","El Attaf","El Hassania","El Maine","Hammam Righa","Hoceinia","Khemis Miliana","Mekhatria","Miliana","Oued Chorfa","Oued Djemaa","Rouina","Sidi Lakhdar","Tacheta Zougagha","Tarik Ibn Ziad","Tiberkanine","Zeddine"],"A\xEFn T\xE9mouchent":["Aghlal","A\xEFn El Arbaa","A\xEFn Kihal","A\xEFn T\xE9mouchent","A\xEFn Tolba","Aoubellil","Beni Saf","Bouzedjar","Chaabat El Leham","Chentouf","El Amria","El Emir Abdelkader","El Malah","El Messaid","Hammam Bouhadjar","Hassasna","Hassi El Ghella","Oued Berkeche","Oued Sabah","Ouled Boudjemaa","Ouled Kihal","Oulha\xE7a El Gheraba","Sidi Ben Adda","Sidi Boumedienne","Sidi Ouriache","Sidi Safi","Tamzoura","Terga"],Batna:["Batna","Ghassira","Maafa","Merouana","Seriana","Menaa","El Madher","Tazoult","N'Gaous","Guigba","Inoughissen","Ouyoun El Assafir","Djerma","Bitam","Abdelkader Azil","Arris","Kimmel","Tilatou","A\xEFn Djasser","Ouled Sellam","Tigherghar","A\xEFn Yagout","Sefiane","Fesdis","Rahbat","Tighanimine","Lemsane","Ksar Bellezma","Seggana","Ichmoul","Foum Toub","Ben Foudhala El Hakania","Oued El Ma","Talkhamt","Bouzina","Chemora","Oued Chaaba","Taxlent","Gosbat","Ouled Aouf","Boumagueur","Barika","Djezar","T'Kout","A\xEFn Touta","Hidoussa","Teniet El Abed","Oued Taga","Ouled Fadel","Timgad","Ras El Aioun","Chir","Ouled Si Slimane","Zanat El Beida","M'doukel","Ouled Ammar","El Hassi","Lazrou","Boumia (Batna)","Boulhilat","Larba\xE2"],Bejaia:["B\xE9ja\xEFa","Amizour","Ferraoun","Taourirt Ighil","Chellata","Tamokra","Timezrit","Souk El T\xE9nine","M'cisna","Tinabdher","Tichy","Semaoun","Kendira","Tifra","Ighram","Amalou","Ighil Ali","Fena\xEFa Ilmaten","Toudja","Darguina","Sidi-Ayad","Aokas","Ait Djellil","Adekar","Akbou","Seddouk","Tazmalt","A\xEFt-R'zine","Chemini","Souk-Oufella","Taskriout","Tibane","Tala Hamza","Barbacha","A\xEFt Ksila","Ouzellaguen","Bouhamza","Beni Mellikeche","Sidi-A\xEFch","El Kseur","Melbou","Akfadou","Leflaye","Kherrata","Dra\xE2 El-Ka\xEFd","Tamridjet","A\xEFt-Smail","Boukhelifa","Tizi N'Berber","A\xEFt Maouche","Oued Ghir","Boudjellil"],Biskra:["A\xEFn Naga","A\xEFn Zaatout","Biskra","Bordj Ben Azzouz","Bouchagroune","Branis","Chetma","Djemorah","El Feidh","El Ghrous","El Hadjeb","El Haouch","El Kantara","El Mizaraa","El Outaya","Foughala","Khenguet Sidi Nadji","Lichana","Lioua","M'Chouneche","Mekhadma","M'Lili","Oumache","Ourlal","Sidi Okba","Tolga","Zeribet El Oued"],Blida:["Blida","Chebli","Bouinan","Oued Alleug","Ouled Ya\xEFch","Chr\xE9a","El Affroun","Chiffa","Hammam Melouane","Benkhelil","Soumaa","Mouzaia","Souhane","Meftah","Ouled Slama","Boufarik","Larbaa","Oued Djer","Beni Tamou","Bouarfa","Beni Mered","Bougara","Guerouaou","A\xEFn Romana","Djebabra"],"Bordj Badji Mokhtar":["Bordj Badji Mokhtar","Timiaouine"],"Bordj Bou Arreridj":["A\xEFn Taghrout","A\xEFn Tesra","Belimour","Ben Daoud","Bir Kasdali","Bordj Bou Arreridj","Bordj Ghedir","Bordj Zemoura","Colla","Djaafra","El Ach","El Achir","El Anseur","El Hamadia","El Main","El M'hir","Ghilassa","Haraza","Hasnaoua","Khelil","Ksour","Mansoura","Medjana","Ouled Brahem","Ouled Dahmane","Ouled Sidi Brahim","Rabta","Ras El Oued","Sidi Embarek","Tefreg","Taglait","Teniet En Nasr","Tassameurt","Tixter"],Bouira:["A\xEFn Bessem","Hanif","Aghbalou","A\xEFn El Hadjar","Ahl El Ksar","A\xEFn Laloui","Ath Mansour","Aomar","A\xEFn El Turc","A\xEFt Laziz","Bouderbala","Bechloul","Bir Ghbalou","Boukram","Bordj Okhriss","Bouira","Chorfa","Dechmia","Dirrah","Djebahia","El Hakimia","El Hachimia","El Adjiba","El Khabouzia","El Mokrani","El Asnam","Guerrouma","Haizer","Hadjera Zerga","Kadiria","Lakhdaria","M'Chedallah","Mezdour","Maala","Maamora","Oued El Berdi","Ouled Rached","Raouraoua","Ridane","Saharidj","Sour El Ghouzlane","Souk El Khemis","Taguedit","Taghzout","Zbarbar"],Boumerd\u00E8s:["Afir","Ammal","Baghlia","Ben Choud","Beni Amrane","Bordj Mena\xEFel","Boudouaou","Boudouaou-El-Bahri","Boumerdes","Bouzegza Keddara","Chabet el Ameur","Corso","Dellys","Djinet","El Kharrouba","Hammedi","Issers","Khemis El-Khechna","Larbatache","Leghata","Naciria","Ouled A\xEFssa","Ouled Hedadj","Ouled Moussa","Si Mustapha","Sidi Daoud","Souk El Had","Taourga","Thenia","Tidjelabine","Timezrit","Zemmouri"],B\u00E9char:["B\xE9char","Erg Ferradj","Ouled Khoudir","Meridja","Timoudi","Lahmar","Beni Abb\xE8s","Beni Ikhlef","Mechraa Houari Boumedienne","Kenadsa","Igli","Tabelbala","Taghit","El Ouata","Boukais","Mougheul","Abadla","Kerzaz","Ksabi","Tamtert","Beni Ounif"],"B\xE9ni Abb\xE8s":["Beni Abb\xE8s","Beni Ikhlef","El Ouata","Igli","Kerzaz","Ksabi","Oulad khodeir","Tabelbala","Tamtert","Timoudi"],Chlef:["Chlef","Tenes","Benairia","El Karimia","Tadjena","Taougrit","Beni Haoua","Sobha","Harchoun","Ouled Fares","Sidi Akkacha","Boukadir","Beni Rached","Talassa","Herenfa","Oued Goussine","Dahra","Ouled Abbes","Sendjas","Zeboudja","Oued Sly","Abou El Hassane","El Marsa","Chettia","Sidi Abderrahmane","Moussadek","El Hadjadj","Labiod Medjadja","Oued Fodda","Ouled Ben Abdelkader","Bouzeghaia","Ain Merane","Oum Drou","Breira","Beni Bouattab"],Constantine:["Ouled Rahmoune","A\xEFn Abid","El Khroub","Ibn Badis","A\xEFn Smara","Constantine","Ibn Ziad","Hamma Bouziane","Didouche Mourad","Messaoud Boudjriou","Beni Hamiden","Zighoud Youcef"],Djanet:["Djanet","Bordj El Haouas"],Djelfa:["A\xEFn Chouhada","A\xEFn El Ibel","A\xEFn Feka","A\xEFn Maabed","A\xEFn Oussara","Amourah","Benhar","Beni Yagoub","Birine","Bouira Lahdab","Charef","Dar Chioukh","Deldoul","Djelfa","Douis","El Guedid","El Idrissia","El Khemis","Faidh El Botma","Guernini","Guettara","Had-Sahary","Hassi Bahbah","Hassi El Euch","Hassi Fedoul","Messaad","M'Liliha","Moudjebara","Oum Laadham","Sed Rahal","Selmana","Sidi Baizid","Sidi Ladjel","Tadmit","Zaafrane","Zaccar"],"El Bayadh":["El Bayadh","Rogassa","Stitten","Brezina","Ghassoul","Boualem","El Abiodh Sidi Cheikh","A\xEFn El Orak","Arbaouat","Bougtoub","El Kheiter","Kef El Ahmar","Boussemghoun","Chellala","Kraakda","El Bnoud","Cheguig","Sidi Ameur","El Mehara","Tousmouline","Sidi Slimane","Sidi Tifour"],"El M'Ghair":["Djamaa","El M'Ghair","Merara","Oum Touyour","Sidi Amrane","Sidi Khellil","Still","Tendla"],"El Meniaa":["El Menia","Hassi Fehal","Hassi Gara"],"El Oued":["El Oued","Robbah","Oued El Alenda","Bayadha","Nakhla","Guemar","Kouinine","Reguiba","Hamraia","Taghzout","Debila","Hassani Abdelkrim","Hassi Khalifa","Taleb Larbi","Douar El Ma","Sidi Aoun","Trifaoui","Magrane","Beni Guecha","Ourmas","El Ogla","Mih Ouansa"],"El Tarf":["A\xEFn El Assel","A\xEFn Kerma","Asfour","Ben Mehidi","Berrihane","Besbes","Bougous","Bouhadjar","Bouteldja","Chebaita Mokhtar","Chefia","Chihani","Dr\xE9an","Echatt","El Aioun","El Kala","El Tarf","Hammam Beni Salah","Lac des Oiseaux","Oued Zitoun","Raml Souk","Souarekh","Zerizer","Zitouna"],Gharda\u00EFa:["Berriane","Bounoura","Dhayet Bendhahoua","El Atteuf","El Guerrara","Gharda\xEFa","Mansoura","Metlili","Sebseb","Zelfana"],Guelma:["A\xEFn Ben Beida","A\xEFn Larbi","A\xEFn Makhlouf","A\xEFn Reggada","A\xEFn Sandel","Belkheir","Ben Djerrah","Beni Mezline","Bordj Sabath","Bouhachana","Bouhamdane","Bouati Mahmoud","Bouchegouf","Boumahra Ahmed","Dahouara","Djeballah Khemissi","El Fedjoudj","Guellat Bou Sbaa","Guelma","Hammam Debagh","Hammam N'Bail","H\xE9liopolis","Houari Boum\xE9di\xE8ne","Khezarra","Medjez Amar","Medjez Sfa","Nechmaya","Oued Cheham","Oued Fragha","Oued Zenati","Ras El Agba","Roknia","Sellaoua Announa","Tamlouka"],Illizi:["Illizi","Debdeb","Bordj Omar Driss","In Amenas"],"In Guezzam":["In Guezzam","Tin Zaouatine"],"In Salah":["Foggaret Ezzaouia","In Ghar","In Salah"],Jijel:["Bordj Tahar","Boucif Ouled Askeur","Boudriaa Ben Yadjis","Bouraoui Belhadef","Chahna","Chekfa","Djemaa Beni Habibi","Djimla","El Ancer","El Aouana","El Kennar Nouchfi","El Milia","Emir Abdelkader","Eraguene","Ghebala","Jijel","Kaous","Khe\xEFri Oued Adjoul","Ouadjana","Ouled Rabah","Ouled Yahia Khedrouche","Selma Benziada","Settara","Sidi Abdelaziz","Sidi Maarouf","Taher","Texenna","Ziama Mansouriah"],Khenchela:["A\xEFn Touila","Babar","Baghai","Bouhmama","Chechar","Chelia","Djellal","El Hamma","El Mahmal","El Oueldja","Ensigha","Kais","Khenchela","Khirane","M'Sara","M'Toussa","Ouled Rechache","Remila","Tamza","Taouzient","Yabous"],Laghouat:["Laghouat","Ksar El Hirane","Bennasser Benchohra","Sidi Makhlouf","Hassi Delaa","Hassi R'Mel","A\xEFn Madhi","Tadjemout","Kheneg","Gueltat Sidi Saad","A\xEFn Sidi Ali","Beidha","Brida","El Ghicha","Hadj Mechri","Sebgag","Taouiala","Tadjrouna","Aflou","El Assafia","Oued Morra","Oued M'Zi","El Houaita","Sidi Bouzid"],"M'Sila":["A\xEFn El Hadjel","A\xEFn El Melh","A\xEFn Errich","A\xEFn Fares","A\xEFn Khadra","Belaiba","Ben Srour","Beni Ilmane","Benzouh","Berhoum","Bir Foda","Bou Sa\xE2da","Bouti Sayah","Chellal","Dehahna","Djebel Messaad","El Hamel","El Houamed","Hammam Dhalaa","Khettouti Sed El Djir","Khoubana","Maadid","Maarif","Magra","M'Cif","Medjedel","M'Sila","M'Tarfa","Ouanougha","Ouled Addi Guebala","Ouled Atia","Mohammed Boudiaf","Ouled Derradj","Ouled Madhi","Ouled Mansour","Ouled Sidi Brahim","Ouled Slimane","Oultem","Sidi A\xEFssa","Sidi Ameur","Sidi Hadjeres","Sidi M'Hamed","Slim","Souamaa","Tamsa","Tarmount","Zarzour"],Mascara:["A\xEFn Fares","A\xEFn Fekan","A\xEFn Ferah","A\xEFn Fras","Ala\xEFmia","Aouf","Beniane","Bou Hanifia","Bou Henni","Chorfa","El Bordj","El Gaada","El Ghomri","El Guettana","El Keurt","El Menaouer","Ferraguig","Froha","Gharrous","Guerdjoum","Ghriss","Hachem","Hacine","Khalouia","Makdha","Mamounia","Maoussa","Mascara","Matemore","Mocta Douz","Mohammadia","Nesmoth","Oggaz","Oued El Abtal","Oued Taria","Ras El A\xEFn Amirouche","Sedjerara","Sehailia","Sidi Abdeldjebar","Sidi Abdelmoumen","Sidi Kada","Sidi Boussaid","Sig","Tighennif","Tizi","Zahana","Zelmata"],Mila:["Ahmed Rachedi","A\xEFn Beida Harriche","A\xEFn Mellouk","A\xEFn Tine","Amira Arr\xE8s","Benyahia Abderrahmane","Bouhatem","Chelghoum Laid","Chigara","Derradji Bousselah","El Mechira","Elayadi Barbes","Ferdjioua","Grarem Gouga","Hamala","Mila","Minar Zarza","Oued Athmania","Oued Endja","Oued Seguen","Ouled Khalouf","Rouached","Sidi Khelifa","Sidi Merouane","Tadjenanet","Tassadane Haddada","Teleghma","Terrai Bainen","Tessala Lemta\xEF","Tiberguent","Yahia Beni Guecha","Zeghaia"],Mostaganem:["Abdelmalek Ramdane","Achaacha","A\xEFn Boudinar","A\xEFn Nouissy","A\xEFn Sidi Cherif","A\xEFn Tedles","Blad Touahria","Bouguirat","El Hassiane","Fornaka","Hadjadj","Hassi Mameche","Khadra","Kheireddine","Mansourah","Mesra","Mazagran","Mostaganem","Nekmaria","Oued El Kheir","Ouled Boughalem","Ouled Maallah","Safsaf","Sayada","Sidi Ali","Sidi Belattar","Sidi Lakhdar","Sirat","Souaflia","Sour","Stidia","Tazgait"],M\u00E9d\u00E9a:["A\xEFn Boucif","A\xEFn Ouksir","Aissaouia","Aziz","Baata","Benchicao","Beni Slimane","Berrouaghia","Bir Ben Laabed","Boghar","Bou Aiche","Bouaichoune","Bouchrahil","Boughezoul","Bouskene","Chahbounia","Chellalet El Adhaoura","Cheniguel","Derrag","Deux Bassins","Djouab","Draa Essamar","El Azizia","El Guelb El Kebir","El Hamdania","El Omaria","El Ouinet","Hannacha","Kef Lakhdar","Khams Djouamaa","Ksar Boukhari","Meghraoua","M\xE9d\xE9a","Moudjbar","Meftaha","Mezerana","Mihoub","Ouamri","Oued Harbil","Ouled Antar","Ouled Bouachra","Ouled Brahim","Ouled Deide","Ouled Hellal","Ouled Maaref","Oum El Djalil","Ouzera","Rebaia","Saneg","Sedraia","Seghouane","Si Mahdjoub","Sidi Damed","Sidi Errabia","Sidi Naamane","Sidi Zahar","Sidi Ziane","Souagui","Tablat","Tafraout","Tamesguida","Tizi Mahdi","Tlatet Eddouar","Zoubiria"],Na\u00E2ma:["Na\xE2ma","Mecheria","A\xEFn Sefra","Tiout","Sfissifa","Moghrar","Assela","Djeniene Bourezg","A\xEFn Ben Khelil","Makman Ben Amer","Kasdir","El Biod"],Oran:["Oran","Gdyel","Bir El Djir","Hassi Bounif","Es Senia","Arzew","Bethioua","Marsat El Hadjadj","A\xEFn El Turk","El An\xE7or","Oued Tlelat","Tafraoui","Sidi Chami","Boufatis","Mers El K\xE9bir","Bousfer","El Kerma","El Braya","Hassi Ben Okba","Ben Freha","Hassi Mefsoukh","Sidi Benyebka","Misserghin","Boutlelis","A\xEFn El Kerma","A\xEFn El Bia"],Ouargla:["Benaceur","Blidet Amor","El Allia","El Borma","El Hadjira","Megarine","M'Naguer","Nezla","Sidi Slimane","Taibet","Tamacine","Tebesbest","Touggourt","Zaouia El Abidia"],"Ouled Djellal":["Besbes","Ech Cha\xEFba","Doucen","Ouled Djellal","Sidi Khaled","Ras El Miaad"],"Oum el Bouaghi":["Oum el Bouaghi","A\xEFn Be\xEFda","A\xEFn M'lila","Behir Chergui","El Amiria","Sigus","El Belala","A\xEFn Babouche","Berriche","Ouled Hamla","Dhalaa","A\xEFn Kercha","Hanchir Toumghani","El Djazia","A\xEFn Diss","Fkirina","Souk Naamane","Zorg","El Fedjoudj Boughrara Saoudi","Ouled Zoua\xEF","Bir Chouhada","Ksar Sbahi","Oued Nini","Meskiana","A\xEFn Fakroun","Rahia","A\xEFn Zitoun","Ouled Gacem","El Harmilia"],Relizane:["A\xEFn Rahma","A\xEFn Tarek","\u2018Aarch Meknassa","Ammi Moussa","Belassel Bouzegza","Bendaoud","Beni Dergoun","Beni Zentis","Dar Ben Abdellah","Djidioua","El Guettar","El Hamadna","El Hassi","El Matmar","El Ouldja","Had Echkalla","Hamri","Kalaa","Lahlef","Mazouna","Mediouna","Mendes","Merdja Sidi Abed","Ouarizane","Oued Essalem","Oued Rhiou","Ouled Aiche","Oued El Djemaa","Ouled Sidi Mihoub","Ramka","Relizane","Sidi Khettab","Sidi Lazreg","Sidi M'Hamed Ben Ali","Sidi M'Hamed Benaouda","Sidi Saada","Souk El Had","Yellel","Zemmora"],Sa\u00EFda:["A\xEFn El Hadjar","A\xEFn Sekhouna","A\xEFn Soltane","Doui Thabet","El Hassasna","Hounet","Maamora","Moulay Larbi","Ouled Brahim","Ouled Khaled","Sa\xEFda","Sidi Ahmed","Sidi Amar","Sidi Boubekeur","Tircine","Youb"],"Sidi Bel Abb\xE8s":["A\xEFn Adden","A\xEFn El Berd","A\xEFn Kada","A\xEFn Thrid","A\xEFn Tindamine","Amarnas","Badredine El Mokrani","Belarbi","Ben Badis","Benachiba Chelia","Bir El Hammam","Boudjebaa El Bordj","Boukhanafis","Chettouane Belaila","Dhaya","El Ha\xE7aiba","Hassi Dahou","Hassi Zehana","Lamtar","M'Cid","Makedra","Marhoum","Merine","Mezaourou","Mostefa Ben Brahim","Moulay Slissen","Oued Sebaa","Oued Sefioun","Oued Taourira","Ras El Ma","Redjem Demouche","Sehala Thaoura","Sfisef","Sidi Ali Benyoub","Sidi Ali Boussidi","Sidi Bel Abbes","Sidi Brahim","Sidi Chaib","Sidi Daho des Zairs","Sidi Hamadouche","Sidi Khaled","Sidi Lahcene","Sidi Yacoub","Tabia","Tafissour","Taoudmout","Teghalimet","Telagh","Tenira","Tessala","Tilmouni","Zerouala"],Skikda:["A\xEFn Bouziane","A\xEFn Charchar","A\xEFn Kechra","A\xEFn Zouit","Azzaba","Bekkouche Lakhdar","Bin El Ouiden","Ben Azzouz","Beni Bechir","Beni Oulbane","Beni Zid","Bouchtata","Cheraia","Collo","Djendel Saadi Mohamed","El Ghedir","El Hadaiek","El Harrouch","El Marsa","Emdjez Edchich","Es Sebt","Filfila","Hamadi Krouma","Kanoua","Kerkera","Kheneg Mayoum","Oued Zehour","Ouldja Boulballout","Ouled Attia","Ouled Hbaba","Oum Toub","Ramdane Djamel","Salah Bouchaour","Sidi Mezghiche","Skikda","Tamalous","Zerdaza","Zitouna"],"Souk Ahras":["Souk Ahras","Sedrata","Hanancha","Mechroha","Ouled Driss","Tiffech","Zaarouria","Taoura","Dr\xE9a","Heddada","Khedara","Merahna","Ouled Moumene","Bir Bou Haouch","M'daourouch","Oum El Adhaim","A\xEFn Zana","A\xEFn Soltane","Ouillen","Sidi Fredj","Safel El Ouiden","Ragouba","Khemissa","Oued Keberit","Terraguelt","Zouabi"],S\u00E9tif:["A\xEFn Abessa","A\xEFn Arnat","A\xEFn Azel","A\xEFn El Kebira","A\xEFn Lahdjar","A\xEFn Legradj","A\xEFn Oulmene","A\xEFn Roua","A\xEFn Sebt","A\xEFt Naoual Mezada","A\xEFt Tizi","Beni Ouartilene","Amoucha","Babor","Bazer Sakhra","Beidha Bordj","Belaa","Beni Aziz","Beni Chebana","Beni Fouda","Beni Hocine","Beni Mouhli","Bir El Arch","Bir Haddada","Bouandas","Bougaa","Bousselam","Boutaleb","Dehamcha","Djemila","Draa Kebila","El Eulma, site arch\xE9ologique de Tarlist","El Ouldja","El Ouricia","Guellal","Guelta Zerka, sites arch\xE9ologiques de A\xEFn El Ahnech et A\xEFn Boucherit","Guenzet","Guidjel","Hamma","Hammam Guergour","Hammam Soukhna","Harbil","Ksar El Abtal","Maaouia","Maoklane","Mezloug","Oued El Barad","Ouled Addouane","Ouled Sabor","Ouled Si Ahmed","Ouled Tebben","Rasfa","Salah Bey","Serdj El Ghoul","S\xE9tif","Tachouda","Talaifacene","Taya","Tella","Tizi N'Bechar"],Tamanrasset:["Tamanrasset","Abalessa","Idles","Tazrouk","In Amguel"],Tebessa:["T\xE9bessa","Bir el-Ater","Cheria","Stah Guentis","El Aouinet","El Houidjbet","Safsaf El Ouesra","Hammamet","Negrine","Bir Mokkadem","El Kouif","Morsott","El Ogla","Bir Dheb","Ogla Melha","Guorriguer","Bekkaria","Boukhadra","Ouenza","El Ma Labiodh","Oum Ali","Tlidjene","A\xEFn Zerga","El Meridj","Boulhaf Dir","Bedjene","El Mezeraa","Ferkane"],Tiaret:["A\xEFn Bouchekif","A\xEFn Deheb","A\xEFn El Hadid","A\xEFn Kermes","A\xEFn Dzarit","Bougara","Chehaima","Dahmouni","Djebilet Rosfa","Djillali Ben Amar","Faidja","Frenda","Guertoufa","Hamadia","Ksar Chellala","Madna","Mahdia","Mechraa Safa","Medrissa","Medroussa","Meghila","Mellakou","Nadorah","Naima","Oued Lilli","Rahouia","Recha\xEFga","Seba\xEFne","Sebt","Serghine","Si Abdelghani","Sidi Abderahmane","Sidi Ali Mellal","Sidi Bakhti","Sidi Hosni","Sougueur","Tagdemt","Takhemaret","Tiaret","Tidda","Tousnina","Zmalet El Emir Abdelkader"],Timimoun:["Aougrout","Charouine","Deldoul","Ksar Kaddour","Metarfa","Ouled A\xEFssa","Ouled Sa\xEFd","Talmine","Timimoun"],Tindouf:["Oum el Assel","Tindouf"],Tipaza:["Tipaza","Menaceur","Larhat","Douaouda","Bourkika","Khemisti","Aghbal","Hadjout","Sidi Amar","Gouraya","Nador","Chaiba","A\xEFn Tagourait","Cherchell","Damous","Merad","Fouka","Bou Isma\xEFl","Ahmar El A\xEFn","Bouharoun","Sidi Ghiles","Messelmoun","Sidi Rached","Kol\xE9a","Attatba","Sidi Semiane","Beni Milleuk","Hadjeret Ennous"],Tissemsilt:["Ammari","Beni Chaib","Beni Lahcene","Boucaid","Bordj Bou Naama","Bordj El Emir Abdelkader","Khemisti","Larbaa","Lardjem","Layoune","Lazharia","Maacem","Melaab","Ouled Bessem","Sidi Abed","Sidi Boutouchent","Sidi Lantri","Sidi Slimane","Tamalaht","Theniet El Had","Tissemsilt","Youssoufia"],"Tizi Ouzou":["Tizi Ouzou","Ain El Hammam","Akbil","Freha","Souama\xE2","Mechtras","Irdjen","Timizart","Makouda","Dra\xE2 El Mizan","Tizi Gheniff","Bounouh","A\xEFt Chaf\xE2a","Frikat","Beni A\xEFssi","A\xEFt Zmenzer","Iferhoun\xE8ne","Azazga","Illoula Oumalou","Yakouren","Larba\xE2 Nath Irathen","Tizi Rached","Zekri","Ouaguenoun","A\xEFn Zaouia","Imkiren","A\xEFt Yahia","A\xEFt Mahmoud","M\xE2atkas","A\xEFt Boumahdi","Abi Youcef","Beni Douala","Illilten","Bouzegu\xE8ne","A\xEFt Aggouacha","Ouadhia","Azeffoun","Tigzirt","A\xEFt A\xEFssa Mimoun","Boghni","Ifigha","A\xEFt Oumalou","Tirmitine","Akerrou","Yatafen","Ath Zikki","Dra\xE2 Ben Khedda","A\xEFt Ouacif","Idjeur","Mekla","Tizi N'Tleta","A\xEFt Yenni","Aghribs","Iflissen","Boudjima","A\xEFt Yahia Moussa","Souk El Thenine","A\xEFt Khellili","Sidi Namane","Iboudraren","Agouni Gueghrane","Mizrana","Imsouhel","Tadma\xEFt","A\xEFt Bouaddou","Assi Youcef","A\xEFt Toudert"],Tlemcen:["Tlemcen","Beni Mester","A\xEFn Tallout","Remchi","El Fehoul","Sabra","Ghazaouet","Souani","Djebala","El Gor","Oued Lakhdar","A\xEFn Fezza","Ouled Mimoun","Amieur","A\xEFn Youcef","Zenata","Beni Snous","Bab El Assa","Dar Yaghmouracene","Fellaoucene","Azails","Sebaa Chioukh","Terny Beni Hdiel","Bensekrane","A\xEFn Nehala","Hennaya","Maghnia","Hammam Boughrara","Souahlia","MSirda Fouaga","A\xEFn Fetah","El Aricha","Souk Tlata","Sidi Abdelli","Sebdou","Beni Ouarsous","Sidi Medjahed","Beni Boussaid","Marsa Ben M'Hidi","Nedroma","Sidi Djillali","Beni Bahdel","El Bouihi","Hona\xEFne","Tienet","Ouled Riyah","Bouhlou","Beni Khellad","A\xEFn Ghoraba","Chetouane","Mansourah","Beni Semiel","A\xEFn Kebira"],Touggourt:["Benaceur","Blidet Amor","El Allia","El Hadjira","Megarine","M'Naguer","Nezla","Sidi Slimane","Taibet","Temacine","Tebesbest","Touggourt","Zaouia El Abidia"]}};function pq(t,e){if(t&1&&(A(0,"option",19),B(1),x()),t&2){let n=e.$implicit;Y("value",n),O(),$t(" ",n," ")}}function mq(t,e){if(t&1&&(A(0,"option",19),B(1),x()),t&2){let n=e.$implicit;Y("value",n),O(),$t(" ",n," ")}}function gq(t,e){if(t&1){let n=Mt();A(0,"div",10)(1,"label",20),B(2,"Quantit\xE9 :"),x(),A(3,"input",21),et("ngModelChange",function(i){Ze(n);let s=Ce();return it(s.orderData.quantity,i)||(s.orderData.quantity=i),Xe(i)}),x()()}if(t&2){let n=Ce();O(3),Je("ngModel",n.orderData.quantity)}}function yq(t,e){if(t&1){let n=Mt();A(0,"div",10)(1,"label",22),B(2,"Taille :"),x(),A(3,"select",23),et("ngModelChange",function(i){Ze(n);let s=Ce();return it(s.orderData.size,i)||(s.orderData.size=i),Xe(i)}),A(4,"option",24),B(5,"Petit"),x(),A(6,"option",25),B(7,"Moyenne"),x(),A(8,"option",26),B(9,"Grande"),x(),A(10,"option",27),B(11,"Tr\xE8s grande"),x()()()}if(t&2){let n=Ce();O(3),Je("ngModel",n.orderData.size)}}var Rs=class t{showQuantity=!1;showSize=!1;orderSubmitted=new We;wilayas=Object.keys(R6.Wilaya);selectedWilaya="Alger";communes=R6.Wilaya.Alger||[];orderData={name:"",phone:"",email:"",wilaya:"Alger",commune:"",address:"",size:"",quantity:""};onWilayaChange(e){let n=e.target.value;this.communes=R6.Wilaya[n]||[],this.orderData.commune=""}submitOrder(e){e.preventDefault(),console.log("Commande soumise :",this.orderData),this.orderSubmitted.emit(this.orderData)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-order-form"]],inputs:{showQuantity:"showQuantity",showSize:"showSize"},outputs:{orderSubmitted:"orderSubmitted"},decls:31,vars:9,consts:[[1,"bg-white","shadow-md","border","rounded-xl","p-6","flex","flex-col","gap-4","w-[350px]"],[1,"text-xl","font-semibold","text-center","bg-blue-950","text-white","py-3","rounded-lg","shadow-md"],[3,"submit"],[1,"flex","items-center","mt-2","ml-1","gap-2"],["for","name",1,"text-sm","font-semibold"],["id","name","type","text","placeholder","Entrez votre nom","name","name","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["for","phone",1,"text-sm","font-semibold"],["id","phone","type","text","placeholder","Entrez votre num\xE9ro de t\xE9l\xE9phone","name","phone","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["for","email",1,"text-sm","font-semibold"],["id","email","type","email","placeholder","Entrez votre email","name","email",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],[1,"flex","flex-row","items-center","mt-2","space-x-2"],["for","wilaya",1,"text-sm","ml-1","font-semibold"],["id","wilaya","name","wilaya","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","commune",1,"text-sm","ml-1","font-semibold"],["id","commune","name","commune","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["class","flex flex-row items-center mt-2 space-x-2",4,"ngIf"],[1,"mt-4"],["type","submit",1,"w-full","bg-green-600","text-white","p-2","rounded-lg","hover:bg-green-700"],[3,"value"],["for","quantity",1,"text-sm","font-semibold","ml-1","whitespace-nowrap"],["id","quantity","type","number","name","quantity","min","1","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["for","size",1,"text-sm","font-semibold","ml-1","whitespace-nowrap"],["id","size","name","size","required","",1,"border","p-2","rounded-lg","flex-1",3,"ngModelChange","ngModel"],["value","S"],["value","M"],["value","L"],["value","XL"]],template:function(n,r){n&1&&(A(0,"div",0)(1,"h3",1),B(2," D\xE9tails de la commande \u{1F4DD} "),x(),A(3,"form",2),le("submit",function(s){return r.submitOrder(s)}),A(4,"div",3)(5,"label",4),B(6,"Nom :"),x(),A(7,"input",5),et("ngModelChange",function(s){return it(r.orderData.name,s)||(r.orderData.name=s),s}),x()(),A(8,"div",3)(9,"label",6),B(10,"Tel :"),x(),A(11,"input",7),et("ngModelChange",function(s){return it(r.orderData.phone,s)||(r.orderData.phone=s),s}),x()(),A(12,"div",3)(13,"label",8),B(14,"Email :"),x(),A(15,"input",9),et("ngModelChange",function(s){return it(r.orderData.email,s)||(r.orderData.email=s),s}),x()(),A(16,"div",10)(17,"label",11),B(18,"Wilaya :"),x(),A(19,"select",12),et("ngModelChange",function(s){return it(r.orderData.wilaya,s)||(r.orderData.wilaya=s),s}),le("change",function(s){return r.onWilayaChange(s)}),Te(20,pq,2,2,"option",13),x()(),A(21,"div",10)(22,"label",14),B(23,"Commune :"),x(),A(24,"select",15),et("ngModelChange",function(s){return it(r.orderData.commune,s)||(r.orderData.commune=s),s}),Te(25,mq,2,2,"option",13),x()(),Te(26,gq,4,1,"div",16)(27,yq,12,1,"div",16),A(28,"div",17)(29,"button",18),B(30," Passer la commande \u2714\uFE0F "),x()()()()),n&2&&(O(7),Je("ngModel",r.orderData.name),O(4),Je("ngModel",r.orderData.phone),O(4),Je("ngModel",r.orderData.email),O(4),Je("ngModel",r.orderData.wilaya),O(),Y("ngForOf",r.wilayas),O(4),Je("ngModel",r.orderData.commune),O(),Y("ngForOf",r.communes),O(),Y("ngIf",r.showQuantity),O(),Y("ngIf",r.showSize))},dependencies:[wt,tn,L1,Q1,T6,z6,D6,W1,e0,Ns,K1,I6,Kr,eh,r1,Jc],encapsulation:2})};var g2=class t{constructor(e,n){this.firestore=e;this.http=n}storage=r6();addProduct(e){let n=j1(this.firestore,"products");return kc(n,e).then(()=>{console.log("Product added successfully")}).catch(r=>{console.error("Error adding product:",r)})}placeOrder(e){let n=j1(this.firestore,"orders");return kc(n,e).then(()=>console.log("Order placed successfully")).catch(r=>console.error("Error placing order:",r))}getAllOrders(){let e=j1(this.firestore,"orders"),n=t6(e);return Pe(n).pipe(ne(r=>r.docs.map(i=>{let s=i.data();return ie(V({},s),{id:i.id})})))}deleteOrder(e){let n=PL(this.firestore,"orders",e);return kL(n)}getFileDownloadURL(e){return I(this,null,function*(){try{let n=f9(this.storage,e),r=yield d9(n);return console.log("File URL:",r),r}catch(n){throw console.error("Error fetching download URL:",n),n}})}uploadImage(e){let n=new FormData;return n.append("image",e),n.append("key","35a247bba76b14290c5c309192dae5ea"),this.http.post("https://api.imgbb.com/1/upload",n,{observe:"events",reportProgress:!0})}static \u0275fac=function(n){return new(n||t)(J(J2),J(n5))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};function Cq(t,e){if(t&1&&(A(0,"div",7),ke(1,"app-cart-item",8),x()),t&2){let n=e.$implicit;O(),Y("item",n)}}var k6=class t{route=N(Bn);router=N(jn);cartService=N(Sn);firebaseService=N(g2);trackById(e,n){return n.id}updateQuantity(e){e.quantity>e.stock&&(e.quantity=e.stock)}handleOrderSubmit(e){let n=this.cartService.cart();if(!n||n.length===0)return;let r={products:n.map(i=>({productId:i.id,productName:i.title,price:i.price,quantity:i.quantity,size:i.size})),total:this.cartService.total(),name:e.name,phone:e.phone,email:e.email,wilaya:e.wilaya,commune:e.commune,address:e.address};this.firebaseService.placeOrder(r).then(()=>{this.cartService.clearCart(),window.alert("\u2705 Votre commande a \xE9t\xE9 enregistr\xE9e avec succ\xE8s !"),this.router.navigate(["/"])}).catch(i=>{console.error("Error placing order:",i),window.alert("\u274C Une erreur est survenue lors de l\u2019enregistrement de votre commande.")})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-cart"]],decls:9,vars:4,consts:[[1,"p-6","flex","flex-col","gap-4"],[1,"text-xl","bg-slate-100","font-bold","mt-1","px-4","py-3","shadow-md","flex","justify-between","items-center"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"flex-1","flex","flex-col","gap-4"],["class","flex justify-between items-center w-full",4,"ngFor","ngForOf","ngForTrackBy"],[1,"md:w-[350px]","w-full"],[3,"orderSubmitted","showQuantity","showSize"],[1,"flex","justify-between","items-center","w-full"],[1,"w-full",3,"item"]],template:function(n,r){n&1&&(A(0,"div",0)(1,"h2",1),B(2," PANIER D'ACHAT "),x(),A(3,"div",2)(4,"div",3),ke(5,"app-order-summary"),Te(6,Cq,2,1,"div",4),x(),A(7,"div",5)(8,"app-order-form",6),le("orderSubmitted",function(s){return r.handleOrderSubmit(s)}),x()()()()),n&2&&(O(6),Y("ngForOf",r.cartService.cart())("ngForTrackBy",r.trackById),O(2),Y("showQuantity",!1)("showSize",!1))},dependencies:[x6,N6,Rs,wt,tn],encapsulation:2})};function Mq(t,e){if(t&1){let n=Mt();A(0,"img",11),le("click",function(){let i=Ze(n).$implicit,s=Ce();return Xe(s.selectedImage=i)}),x()}if(t&2){let n=e.$implicit;Y("src",n,_n)}}var P6=class t{route=N(Bn);router=N(jn);productsService=N(m2);firebaseService=N(g2);productId=String(this.route.snapshot.paramMap.get("id"));product;selectedImage;constructor(){this.loadProduct()}loadProduct(){let e=this.productsService.getProductById(this.productId);e?(this.product=e,console.log("Product found:",e)):console.log("Product not found."),this.selectedImage=e?.images?.[0]}handleOrderSubmit(e){if(!this.product)return;let n={products:[{productId:this.product.id,productName:this.product.title,price:this.product.price,quantity:e.quantity,size:e.size}],total:this.product.price*e.quantity,name:e.name,phone:e.phone,email:e.email,wilaya:e.wilaya,commune:e.commune,address:e.address};this.firebaseService.placeOrder(n).then(()=>{window.alert("\u2705 Votre commande a \xE9t\xE9 enregistr\xE9e avec succ\xE8s !"),this.router.navigate(["/"])}).catch(r=>{console.error("Error placing order:",r),window.alert("\u274C Une erreur est survenue lors de l\u2019enregistrement de votre commande.")})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-product-detail"]],decls:13,vars:5,consts:[[1,"p-2","text-center"],[1,"flex","flex-col","md:flex-row","gap-4","mt-4","mx-auto"],[1,"flex","flex-row","gap-4","relative"],[1,"flex","flex-col","gap-2","w-[50px]"],["class","w-16 h-16 object-cover rounded-lg border cursor-pointer hover:border-green-500",3,"src","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-1","relative"],[1,"w-full","object-contain","rounded-lg",3,"src"],[1,"bg-white","shadow-md","border","rounded-xl","p-4","mt-4","md:mt-0","flex","flex-col","items-center","w-fit"],[1,"text-2xl","font-bold"],[1,"text-xl","text-green-600","font-bold"],[3,"orderSubmitted","showQuantity"],[1,"w-16","h-16","object-cover","rounded-lg","border","cursor-pointer","hover:border-green-500",3,"click","src"]],template:function(n,r){if(n&1&&(A(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Te(4,Mq,1,1,"img",4),x(),A(5,"div",5),ke(6,"img",6),A(7,"div",7)(8,"span",8),B(9),x(),A(10,"span",9),B(11),x()()()(),A(12,"app-order-form",10),le("orderSubmitted",function(s){return r.handleOrderSubmit(s)}),x()()()),n&2){let i;O(4),Y("ngForOf",r.product==null?null:r.product.images),O(2),Y("src",(i=r.selectedImage)!==null&&i!==void 0?i:"images/default-image.jpg",_n),O(3),rt(r.product==null?null:r.product.title),O(2),rt((r.product==null?null:r.product.price)+" DA"),O(),Y("showQuantity",!0)}},dependencies:[wt,tn,Rs],encapsulation:2})};function _q(t,e){if(t&1&&(A(0,"li"),B(1),x()),t&2){let n=e.$implicit;O(),ia(" ",n.productName," (",n.quantity,"x, ",n.size,") ")}}function wq(t,e){if(t&1){let n=Mt();A(0,"tr")(1,"td",5),B(2),x(),A(3,"td",5),B(4),x(),A(5,"td",5),B(6),x(),A(7,"td",5),B(8),x(),A(9,"td",5)(10,"ul"),Te(11,_q,2,3,"li",4),x()(),A(12,"td",5),B(13),x(),A(14,"td",6)(15,"app-primary-button",7),le("btnClicked",function(){let i=Ze(n).$implicit,s=Ce();return Xe(s.deleteOrder(i.id))}),x()()()}if(t&2){let n=e.$implicit,r=Ce();O(2),rt(n.name),O(2),rt(n.phone),O(2),rt(n.email),O(2),ia(" ",n.address,", ",n.commune,", ",n.wilaya," "),O(3),Y("ngForOf",n.products),O(2),$t("",n.total," DA"),O(2),Y("icon",r.faTrashCan)}}var O6=class t{firebaseService=N(g2);orders=[];faTrashCan;constructor(){}ngOnInit(){this.firebaseService.getAllOrders().subscribe(e=>{this.orders=e})}deleteOrder(e){confirm("\u2757 Voulez-vous vraiment supprimer cette commande ?")&&this.firebaseService.deleteOrder(e).then(()=>{alert("\u2705 Commande supprim\xE9e avec succ\xE8s !"),this.orders=this.orders.filter(n=>n.id!==e)}).catch(n=>console.error("\u274C Erreur lors de la suppression :",n))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-order"]],decls:21,vars:1,consts:[[1,"text-xl","font-bold","mb-4"],[1,"min-w-full","border-collapse","border","border-gray-300"],[1,"bg-gray-100"],[1,"border","p-2"],[4,"ngFor","ngForOf"],[1,"border","p-2","text-center"],[1,"border","p-2","flex","text-center","justify-center"],["label","Enlever",1,"shrink-0",3,"btnClicked","icon"]],template:function(n,r){n&1&&(A(0,"h2",0),B(1,"\u{1F4E6} Liste des commandes"),x(),A(2,"table",1)(3,"thead")(4,"tr",2)(5,"th",3),B(6,"Nom"),x(),A(7,"th",3),B(8,"T\xE9l\xE9phone"),x(),A(9,"th",3),B(10,"Email"),x(),A(11,"th",3),B(12,"Addresse"),x(),A(13,"th",3),B(14,"Produits"),x(),A(15,"th",3),B(16,"Total"),x(),A(17,"th",3),B(18,"Action"),x()()(),A(19,"tbody"),Te(20,wq,16,9,"tr",4),x()()),n&2&&(O(20),Y("ngForOf",r.orders))},dependencies:[wt,tn,G1],encapsulation:2})};function Lq(t,e){if(t&1&&(A(0,"div"),ke(1,"progress",30),A(2,"p",31),B(3),x()()),t&2){let n=Ce().$implicit;O(),Y("value",n),O(2),$t("",n,"%")}}function bq(t,e){if(t&1&&(A(0,"div",28),Te(1,Lq,4,2,"div",29),x()),t&2){let n=e.$implicit;O(),Y("ngIf",n<100)}}function Eq(t,e){if(t&1&&(A(0,"div",26),Te(1,bq,2,1,"div",27),x()),t&2){let n=Ce(2);O(),Y("ngForOf",n.progress)}}function Iq(t,e){if(t&1&&(A(0,"div",26),Te(1,Eq,2,1,"div",11),x()),t&2){let n=Ce();O(),Y("ngIf",n.progress.length>0)}}function Sq(t,e){if(t&1&&(A(0,"div",36),ke(1,"img",37),x()),t&2){let n=e.$implicit;O(),Y("src",n,_n)}}function Tq(t,e){if(t&1&&(A(0,"div",32)(1,"h4",33),B(2," Images s\xE9lectionn\xE9es : "),x(),A(3,"div",34),Te(4,Sq,2,1,"div",35),x()()),t&2){let n=Ce();O(4),Y("ngForOf",n.product.images)}}function zq(t,e){if(t&1){let n=Mt();A(0,"div",3)(1,"label",38),B(2,"Nouveau prix"),x(),A(3,"input",39),et("ngModelChange",function(i){Ze(n);let s=Ce();return it(s.product.newPrice,i)||(s.product.newPrice=i),Xe(i)}),x()()}if(t&2){let n=Ce();O(3),Je("ngModel",n.product.newPrice)}}var F6=class t{constructor(e){this.firebaseService=e}router=N(jn);productsService=N(m2);promoApplied=!1;categoryName=this.productsService.cachedSubCategories.find(e=>e.id===this.productsService.selectedSubCategory())?.name??void 0;product={title:"",description:"",isPromo:this.promoApplied,price:0,newPrice:0,images:[],stock:0,quantity:0,category:this.productsService.selectedCategory()??"",subCategory:this.categoryName??""};progress=[];ngOnInit(){}onSubmit(){return I(this,null,function*(){let e=[];if(this.product.title&&this.product.price&&this.product.images.length>0){this.product.isPromo=this.promoApplied,this.product.subCategory=this.productsService.selectedSubCategory()??"";let n=this.product,{id:r,size:i}=n,s=fl(n,["id","size"]);this.firebaseService.addProduct(s).then(()=>{console.log("Product added successfully"),this.router.navigate(["/"])})}else console.error("Please fill in all fields")})}togglePromo(){this.promoApplied=!this.promoApplied}onImageChange(e){return I(this,null,function*(){let n=e.target.files;if(n.length>0){let r=[];this.progress=Array(n.length).fill(0);let i=Array.from(n).map((s,o)=>new Promise((c,a)=>{this.firebaseService.uploadImage(s).subscribe(u=>{switch(u.type){case F2.UploadProgress:if(u.total){let p=Math.round(100*u.loaded/u.total);this.progress[o]=p}break;case F2.Response:let f=u.body.data.url;r.push(f),c();break}},u=>{console.error("Upload error:",u),a(u)})}));try{yield Promise.all(i),this.product.images=[...this.product.images,...r],console.log("All images uploaded and added:",this.product.images)}catch(s){console.error("Error uploading images:",s)}}})}static \u0275fac=function(n){return new(n||t)(Z(g2))};static \u0275cmp=xe({type:t,selectors:[["app-uploadproduct"]],features:[Fn([])],decls:43,vars:9,consts:[[1,"max-w-2xl","mx-auto","p-6","bg-gray-50","rounded-lg","shadow-lg"],[1,"text-center","text-2xl","font-semibold","text-gray-800","mb-6"],[3,"ngSubmit"],[1,"mb-4"],["for","title",1,"block","font-semibold","text-gray-700","mb-2"],["id","title","name","title","type","text","required","","placeholder","Entrez le titre du produit",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"],["for","description",1,"block","font-semibold","text-gray-700","mb-2"],["id","description","name","description","type","text","required","","placeholder","Entrez la description du produit",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"],["for","images",1,"block","font-semibold","text-gray-700","mb-2"],[1,"flex","items-center","gap-4"],["id","images","type","file","accept","image/*","multiple","",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"change"],["class","flex-grow",4,"ngIf"],["class","mt-4",4,"ngIf"],["for","category",1,"block","font-semibold","text-gray-700","mb-2"],["id","category","name","category","type","text","placeholder","Entrez la cat\xE9gorie du produit",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"],["for","subCategory",1,"block","font-semibold","text-gray-700","mb-2"],["id","subCategory","name","subCategory","type","text","placeholder","Entrez la sous-cat\xE9gorie du produit","readonly","",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"],["for","price",1,"block","font-semibold","text-gray-700","mb-2"],[1,"flex","items-center"],["id","price","name","price","type","number","required","","placeholder","Entrez le prix du produit","inputmode","numeric",1,"w-3/4","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"],[1,"ml-2","text-gray-700","font-bold"],["type","button",1,"bg-orange-500","text-white","py-2","ml-2","px-6","rounded-md","hover:bg-orange-400",3,"click"],["class","mb-4",4,"ngIf"],["for","stock",1,"block","font-semibold","text-gray-700","mb-2"],["id","stock","name","stock","type","number","placeholder","Entrez la quantit\xE9 du stock",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-blue-600","text-white","py-3","rounded-md","hover:bg-blue-500"],[1,"flex-grow"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[4,"ngIf"],["max","100",1,"w-full",3,"value"],[1,"text-center","text-sm","text-gray-500"],[1,"mt-4"],[1,"text-xl","font-semibold","text-gray-700"],[1,"flex","gap-1","py-2","flex-wrap"],["class","flex flex-col items-center space-y-1 w-32",4,"ngFor","ngForOf"],[1,"flex","flex-col","items-center","space-y-1","w-32"],["alt","product-image",1,"w-24","h-24","object-cover","rounded-md","border","border-gray-300",3,"src"],["for","newPrice",1,"block","font-semibold","text-gray-700","mb-2"],["id","newPrice","name","newPrice","type","number","placeholder","Entrez le nouveau prix du produit",1,"w-full","p-3","border","border-gray-300","rounded-md","text-gray-700",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(A(0,"div",0)(1,"h2",1),B(2," Ajouter un nouveau produit "),x(),A(3,"form",2),le("ngSubmit",function(){return r.onSubmit()}),A(4,"div",3)(5,"label",4),B(6,"Titre"),x(),A(7,"input",5),et("ngModelChange",function(s){return it(r.product.title,s)||(r.product.title=s),s}),x()(),A(8,"div",3)(9,"label",6),B(10,"Description"),x(),A(11,"input",7),et("ngModelChange",function(s){return it(r.product.description,s)||(r.product.description=s),s}),x()(),A(12,"div",3)(13,"label",8),B(14," Images "),x(),A(15,"div",9)(16,"input",10),le("change",function(s){return r.onImageChange(s)}),x()(),Te(17,Iq,2,1,"div",11)(18,Tq,5,1,"div",12),x(),A(19,"div",3)(20,"label",13),B(21,"Cat\xE9gorie"),x(),A(22,"input",14),et("ngModelChange",function(s){return it(r.product.category,s)||(r.product.category=s),s}),x()(),A(23,"div",3)(24,"label",15),B(25,"Sous-cat\xE9gorie"),x(),A(26,"input",16),et("ngModelChange",function(s){return it(r.product.subCategory,s)||(r.product.subCategory=s),s}),x()(),A(27,"div",3)(28,"label",17),B(29,"Prix"),x(),A(30,"div",18)(31,"input",19),et("ngModelChange",function(s){return it(r.product.price,s)||(r.product.price=s),s}),x(),A(32,"span",20),B(33,"DZD"),x(),A(34,"button",21),le("click",function(){return r.togglePromo()}),B(35," Promo "),x()()(),Te(36,zq,4,1,"div",22),A(37,"div",3)(38,"label",23),B(39,"Stock"),x(),A(40,"input",24),et("ngModelChange",function(s){return it(r.product.stock,s)||(r.product.stock=s),s}),x()(),A(41,"button",25),B(42," Ajouter le produit "),x()()()),n&2&&(O(7),Je("ngModel",r.product.title),O(4),Je("ngModel",r.product.description),O(6),Y("ngIf",r.progress.length>0),O(),Y("ngIf",r.product.images.length),O(4),Je("ngModel",r.product.category),O(4),Je("ngModel",r.product.subCategory),O(5),Je("ngModel",r.product.price),O(5),Y("ngIf",r.promoApplied),O(4),Je("ngModel",r.product.stock))},dependencies:[Q1,T6,W1,e0,K1,I6,Kr,r1,Jc,wt,tn,L1],encapsulation:2})};var YE=[{path:"",pathMatch:"full",component:g6},{path:"cart",component:k6},{path:"detail/:id",component:P6},{path:"orders",component:O6},{path:"uploadProduct",component:F6}];var ZE={production:!1,firebase:{apiKey:"AIzaSyDCI_H5TXTnUR88_Jc2dnhIatqc2jGcVrk",authDomain:"saradino.firebaseapp.com",databaseURL:"https://saradino-default-rtdb.europe-west1.firebasedatabase.app",projectId:"saradino",storageBucket:"saradino.firebasestorage.app",messagingSenderId:"19368648245",appId:"1:19368648245:web:6a67622c7ab48dcdd91b7c"}};function Dq(){try{return EM(ZE.firebase)}catch(t){throw console.error("\u{1F525} Firebase initialization error:",t),t}}function Aq(){try{return OL()}catch(t){throw console.error("\u{1F525} Firestore initialization error:",t),t}}function xq(){try{return cb()}catch(t){throw console.error("\u{1F525} Firestorage initialization error:",t),t}}var XE={providers:[eC(),Lv({eventCoalescing:!0}),KC(YE),bM(()=>Dq()),NL(()=>Aq()),ob(()=>xq())]};var Nq=(t,e)=>({"font-bold":t,"font-normal":e}),Rq=(t,e)=>({"-translate-x-full":t,"translate-x-0":e}),kq=t=>({"bg-blue-950 text-white font-bold":t});function Pq(t,e){t&1&&ke(0,"div",14)}function Oq(t,e){if(t&1){let n=Mt();xi(0),A(1,"button",11),le("click",function(){let i=Ze(n).$implicit,s=Ce();return Xe(s.selectCategory(i.key))}),ke(2,"img",12),B(3),x(),Te(4,Pq,1,0,"div",13),Ni()}if(t&2){let n=e.$implicit,r=e.last,i=Ce();O(),Y("ngClass",Vu(6,Nq,n.key===i.selectedCategoryKey(),n.key!==i.selectedCategoryKey())),O(),Fu("alt","",n.name," icon"),Y("src","icons/"+n.name.toLowerCase()+".png",_n),O(),$t(" ",n.name," "),O(),Y("ngIf",!r)}}function Fq(t,e){if(t&1){let n=Mt();xi(0),A(1,"button",27),le("click",function(){let i=Ze(n).$implicit,s=Ce(2);return Xe(s.selectSubCategory(i.id))}),B(2),x(),Ni()}if(t&2){let n=e.$implicit,r=Ce(2);O(),Y("ngClass",sa(2,kq,n.id===r.selectedSubCategory)),O(),$t(" ",n.name," ")}}function Vq(t,e){if(t&1){let n=Mt();A(0,"button",28),le("click",function(){Ze(n);let i=Ce(2);return Xe(i.showInput=!0)}),B(1," \u2719 "),x()}}function Bq(t,e){if(t&1){let n=Mt();A(0,"div",17)(1,"input",29),et("ngModelChange",function(i){Ze(n);let s=Ce(2);return it(s.newSubCategoryName,i)||(s.newSubCategoryName=i),Xe(i)}),x(),A(2,"button",30),le("click",function(){Ze(n);let i=Ce(2);return Xe(i.addNewSubCategory())}),B(3," \u2714\uFE0F "),x(),A(4,"button",31),le("click",function(){Ze(n);let i=Ce(2);return Xe(i.showInput=!1)}),B(5," \u274C "),x()()}if(t&2){let n=Ce(2);O(),Je("ngModel",n.newSubCategoryName)}}function jq(t,e){if(t&1){let n=Mt();A(0,"div",32),le("click",function(){Ze(n);let i=Ce(2);return Xe(i.toggleMenu())}),x()}}function Uq(t,e){if(t&1){let n=Mt();A(0,"div",32),le("click",function(){Ze(n);let i=Ce(2);return Xe(i.toggleMenu())}),x()}}function Hq(t,e){if(t&1){let n=Mt();A(0,"div",15)(1,"div",16),Te(2,Fq,3,4,"ng-container",7),Bu(3,"async"),A(4,"div",17),Te(5,Vq,2,0,"button",18)(6,Bq,6,1,"div",19),x(),Te(7,jq,1,0,"div",20)(8,Uq,1,0,"div",20),A(9,"div",21)(10,"div",22)(11,"h2",23),B(12,"Menu"),x(),A(13,"button",24),le("click",function(){Ze(n);let i=Ce();return Xe(i.toggleMenu())}),B(14,"\u26CC"),x()(),A(15,"nav",25)(16,"a",26),le("click",function(i){Ze(n);let s=Ce();return Xe(s.onAddProductClick(i))}),B(17,"\u2795 Ajouter Produit"),x(),A(18,"a",26),le("click",function(i){Ze(n);let s=Ce();return Xe(s.onCommandesClick(i))}),B(19,"\u{1F4E6} Voir Commandes"),x()()()()()}if(t&2){let n=Ce();O(2),Y("ngForOf",ju(3,6,n.subCategoryList$)),O(3),Y("ngIf",!n.showInput),O(),Y("ngIf",n.showInput),O(),Y("ngIf",n.menuOpen()),O(),Y("ngIf",n.menuOpen()),O(),Y("ngClass",Vu(8,Rq,!n.menuOpen(),n.menuOpen()))}}var V6=class t{productsService=N(m2);cartService=N(Sn);menuOpen=ft(!1);router=N(jn);faBars=_E;faTimes=LE;faCartShopping=wE;newSubCategoryName="";showInput=!1;categories=ft([{name:"HOMME",key:"categoriesH"},{name:"FEMME",key:"categoriesF"},{name:"ENFANT",key:"categoriesE"}]);selectedCategoryKey=ft("categoriesH");subCategoryList$=this.productsService.getSubCategories(this.selectedCategoryKey());selectedSubCategory=null;constructor(){this.selectCategory(this.selectedCategoryKey())}addNewSubCategory(){return I(this,null,function*(){if(this.newSubCategoryName){console.log("Adding subcategory:",this.newSubCategoryName);try{yield this.addSubCategoryToFirebase(),this.showInput=!1,this.newSubCategoryName=""}catch(e){console.error("Failed to add subcategory:",e)}}})}addSubCategoryToFirebase(){return I(this,null,function*(){yield this.productsService.addCategories(this.selectedCategoryKey(),this.newSubCategoryName),console.log("Subcategory added to Firebase:",this.newSubCategoryName)})}selectCategory(e){this.selectedCategoryKey.set(e),this.subCategoryList$=this.productsService.getSubCategories(e),this.subCategoryList$.subscribe(n=>{n.length>0&&this.selectedSubCategory!==n[0].id?(this.selectedSubCategory=n[0].id,this.productsService.setSelectedSubCategory(this.selectedSubCategory)):this.selectedSubCategory=null})}selectSubCategory(e){this.selectedSubCategory=e,this.productsService.setSelectedSubCategory(e)}cartLabel=an(()=>`${this.cartService.cart().length}`);toggleMenu(){this.menuOpen.update(e=>!e)}onCommandesClick(e){e.stopPropagation(),this.toggleMenu(),this.router.navigate(["/orders"])}onAddProductClick(e){e.stopPropagation(),this.toggleMenu(),this.router.navigate(["/uploadProduct"])}logout(){console.log("Logging out..."),this.toggleMenu(),this.menuOpen.set(!1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-header"]],decls:14,vars:5,consts:[[1,"bg-slate-100","mt-1","px-2","py-3","shadow-md","flex","justify-between","items-center"],[1,"flex","items-center","gap-1","overflow-hidden"],[1,"text-2xl","font-extrabold","uppercase","tracking-wider","whitespace-nowrap","mr-1",3,"click"],["src","icons/menu.png",1,"w-5","h-5","mr-2"],["routerLink","/",1,"text-2xl","font-extrabold","uppercase","tracking-wider","whitespace-nowrap","mr-1"],[1,"h-6","w-[1px]","bg-gray-400"],["routerLink","/",1,"flex","items-center","gap-1","overflow-x-auto","whitespace-nowrap","flex-nowrap","min-w-0","scrollbar-hide"],[4,"ngFor","ngForOf"],["routerLink","/cart",1,"px-2","py-1","flex-shrink-0","bg-blue-950","shadow-lg","hover:shadow-2xl","rounded-lg","text-white","flex","items-center","transition-all","duration-300"],["src","icons/cart.png",1,"w-5","h-5","mr-2"],["class","w-full px-2 py-1","routerLink","/",4,"ngIf"],[1,"px-1","py-1","rounded-xl","font-normal","flex","items-center","gap-1","transition-all","duration-300","flex-shrink-0","text-sm",3,"click","ngClass"],[1,"w-5","h-5",3,"src","alt"],["class","h-6 w-[1px] bg-gray-400 flex-shrink-0",4,"ngIf"],[1,"h-6","w-[1px]","bg-gray-400","flex-shrink-0"],["routerLink","/",1,"w-full","px-2","py-1"],[1,"flex","gap-2","overflow-x-auto","scrollbar-hide","w-full","flex-wrap"],[1,"flex","items-center","gap-2"],["class","px-2 py-1 rounded-lg bg-blue-950 text-white font-bold",3,"click",4,"ngIf"],["class","flex items-center gap-2",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 z-40",3,"click",4,"ngIf"],[1,"fixed","top-0","left-0","w-64","h-full","bg-white","shadow-lg","z-50","transform","transition-transform",3,"ngClass"],[1,"flex","justify-between","items-center","px-4","py-3","border-b"],[1,"text-lg","font-bold"],[1,"text-xl",3,"click"],[1,"flex","flex-col","p-4"],[1,"py-2","px-4","hover:bg-gray-200","rounded","cursor-pointer",3,"click"],[1,"px-2","py-1","rounded-xl","transition-all","uppercase","flex-shrink-0","text-sm",3,"click","ngClass"],[1,"px-2","py-1","rounded-lg","bg-blue-950","text-white","font-bold",3,"click"],["type","text","placeholder","Entrer le Nom",1,"px-2","py-1","rounded-lg","border","border-gray-300",3,"ngModelChange","ngModel"],[1,"px-2","py-1","rounded-lg","bg-green-100","font-bold",3,"click"],[1,"px-2","py-1","rounded-lg","bg-red-100","text-white","font-bold",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","z-40",3,"click"]],template:function(n,r){if(n&1&&(A(0,"div",0)(1,"div",1)(2,"button",2),le("click",function(){return r.toggleMenu()}),ke(3,"img",3),x(),A(4,"button",4),B(5," ANIS STORE "),x(),ke(6,"div",5),A(7,"div",6),Te(8,Oq,5,9,"ng-container",7),x()(),A(9,"button",8),ke(10,"img",9),B(11),x()(),Te(12,Hq,20,11,"div",10),Bu(13,"async")),n&2){let i;O(8),Y("ngForOf",r.categories()),O(3),$t(" ",r.cartLabel()," "),O(),Y("ngIf",(i=ju(13,3,r.subCategoryList$))==null?null:i.length)}},dependencies:[Na,wt,Fv,tn,L1,Vv,Q1,W1,K1,r1],styles:[".font-bold[_ngcontent-%COMP%]{font-weight:700}"]})};var B6=class t{faCartPlus=Ts;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=xe({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&ke(0,"app-header")(1,"router-outlet")},dependencies:[$5,V6],encapsulation:2})};uC(B6,XE).catch(t=>console.error(t));
